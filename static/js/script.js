"use strict";(()=>{var vh=Object.create;var qn=Object.defineProperty,Eh=Object.defineProperties,Bh=Object.getOwnPropertyDescriptor,Ah=Object.getOwnPropertyDescriptors,Ih=Object.getOwnPropertyNames,Mo=Object.getOwnPropertySymbols,_h=Object.getPrototypeOf,Pi=Object.prototype.hasOwnProperty,tu=Object.prototype.propertyIsEnumerable;var yn=(r,t)=>(t=Symbol[r])?t:Symbol.for("Symbol."+r),Rh=r=>{throw TypeError(r)},dt=Math.pow,Ti=(r,t,e)=>t in r?qn(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,J=(r,t)=>{for(var e in t||(t={}))Pi.call(t,e)&&Ti(r,e,t[e]);if(Mo)for(var e of Mo(t))tu.call(t,e)&&Ti(r,e,t[e]);return r},ct=(r,t)=>Eh(r,Ah(t));var fr=(r,t)=>{var e={};for(var n in r)Pi.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&Mo)for(var n of Mo(r))t.indexOf(n)<0&&tu.call(r,n)&&(e[n]=r[n]);return e};var Le=(r,t)=>()=>(r&&(t=r(r=0)),t);var Te=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Mi=(r,t)=>{for(var e in t)qn(r,e,{get:t[e],enumerable:!0})},eu=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ih(t))!Pi.call(r,o)&&o!==e&&qn(r,o,{get:()=>t[o],enumerable:!(n=Bh(t,o))||n.enumerable});return r};var er=(r,t,e)=>(e=r!=null?vh(_h(r)):{},eu(t||!r||!r.__esModule?qn(e,"default",{value:r,enumerable:!0}):e,r)),ru=r=>eu(qn({},"__esModule",{value:!0}),r);var ge=(r,t,e)=>Ti(r,typeof t!="symbol"?t+"":t,e);var C=(r,t,e)=>new Promise((n,o)=>{var s=u=>{try{c(e.next(u))}catch(p){o(p)}},i=u=>{try{c(e.throw(u))}catch(p){o(p)}},c=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,i);c((e=e.apply(r,t)).next())}),Vr=function(r,t){this[0]=r,this[1]=t},Ci=(r,t,e)=>{var n=(i,c,u,p)=>{try{var y=e[i](c),b=(c=y.value)instanceof Vr,I=y.done;Promise.resolve(b?c[0]:c).then(E=>b?n(i==="return"?i:"next",c[1]?{done:E.done,value:E.value}:E,u,p):u({value:E,done:I})).catch(E=>n("throw",E,u,p))}catch(E){p(E)}},o=i=>s[i]=c=>new Promise((u,p)=>n(i,c,u,p)),s={};return e=e.apply(r,t),s[yn("asyncIterator")]=()=>s,o("next"),o("throw"),o("return"),s},Co=r=>{var t=r[yn("asyncIterator")],e=!1,n,o={};return t==null?(t=r[yn("iterator")](),n=s=>o[s]=i=>t[s](i)):(t=t.call(r),n=s=>o[s]=i=>{if(e){if(e=!1,s==="throw")throw i;return i}return e=!0,{done:!1,value:new Vr(new Promise(c=>{var u=t[s](i);u instanceof Object||Rh("Object expected"),c(u)}),1)}}),o[yn("iterator")]=()=>o,n("next"),"throw"in t?n("throw"):o.throw=s=>{throw s},"return"in t&&n("return"),o},nu=(r,t,e)=>(t=r[yn("asyncIterator")])?t.call(r):(r=r[yn("iterator")](),t={},e=(n,o)=>(o=r[n])&&(t[n]=s=>new Promise((i,c,u)=>(s=o.call(r,s),u=s.done,Promise.resolve(s.value).then(p=>i({value:p,done:u}),c)))),e("next"),e("return"),t);var iu=Te(Oo=>{"use strict";Oo.byteLength=Th;Oo.toByteArray=Mh;Oo.fromByteArray=Uh;var rr=[],Ke=[],Lh=typeof Uint8Array!="undefined"?Uint8Array:Array,Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for($r=0,ou=Oi.length;$r<ou;++$r)rr[$r]=Oi[$r],Ke[Oi.charCodeAt($r)]=$r;var $r,ou;Ke[45]=62;Ke[95]=63;function su(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Th(r){var t=su(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Ph(r,t,e){return(t+e)*3/4-e}function Mh(r){var t,e=su(r),n=e[0],o=e[1],s=new Lh(Ph(r,n,o)),i=0,c=o>0?n-4:n,u;for(u=0;u<c;u+=4)t=Ke[r.charCodeAt(u)]<<18|Ke[r.charCodeAt(u+1)]<<12|Ke[r.charCodeAt(u+2)]<<6|Ke[r.charCodeAt(u+3)],s[i++]=t>>16&255,s[i++]=t>>8&255,s[i++]=t&255;return o===2&&(t=Ke[r.charCodeAt(u)]<<2|Ke[r.charCodeAt(u+1)]>>4,s[i++]=t&255),o===1&&(t=Ke[r.charCodeAt(u)]<<10|Ke[r.charCodeAt(u+1)]<<4|Ke[r.charCodeAt(u+2)]>>2,s[i++]=t>>8&255,s[i++]=t&255),s}function Ch(r){return rr[r>>18&63]+rr[r>>12&63]+rr[r>>6&63]+rr[r&63]}function Oh(r,t,e){for(var n,o=[],s=t;s<e;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),o.push(Ch(n));return o.join("")}function Uh(r){for(var t,e=r.length,n=e%3,o=[],s=16383,i=0,c=e-n;i<c;i+=s)o.push(Oh(r,i,i+s>c?c:i+s));return n===1?(t=r[e-1],o.push(rr[t>>2]+rr[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],o.push(rr[t>>10]+rr[t>>4&63]+rr[t<<2&63]+"=")),o.join("")}});var au=Te(Ui=>{Ui.read=function(r,t,e,n,o){var s,i,c=o*8-n-1,u=(1<<c)-1,p=u>>1,y=-7,b=e?o-1:0,I=e?-1:1,E=r[t+b];for(b+=I,s=E&(1<<-y)-1,E>>=-y,y+=c;y>0;s=s*256+r[t+b],b+=I,y-=8);for(i=s&(1<<-y)-1,s>>=-y,y+=n;y>0;i=i*256+r[t+b],b+=I,y-=8);if(s===0)s=1-p;else{if(s===u)return i?NaN:(E?-1:1)*(1/0);i=i+Math.pow(2,n),s=s-p}return(E?-1:1)*i*Math.pow(2,s-n)};Ui.write=function(r,t,e,n,o,s){var i,c,u,p=s*8-o-1,y=(1<<p)-1,b=y>>1,I=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:s-1,_=n?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,i=y):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),i+b>=1?t+=I/u:t+=I*Math.pow(2,1-b),t*u>=2&&(i++,u/=2),i+b>=y?(c=0,i=y):i+b>=1?(c=(t*u-1)*Math.pow(2,o),i=i+b):(c=t*Math.pow(2,b-1)*Math.pow(2,o),i=0));o>=8;r[e+E]=c&255,E+=_,c/=256,o-=8);for(i=i<<o|c,p+=o;p>0;r[e+E]=i&255,E+=_,i/=256,p-=8);r[e+E-_]|=A*128}});var Wn=Te(wn=>{"use strict";var Ni=iu(),gn=au(),cu=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;wn.Buffer=O;wn.SlowBuffer=Kh;wn.INSPECT_MAX_BYTES=50;var Uo=2147483647;wn.kMaxLength=Uo;O.TYPED_ARRAY_SUPPORT=Nh();!O.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Nh(){try{let r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch(r){return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}});Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}});function lr(r){if(r>Uo)throw new RangeError('The value "'+r+'" is invalid for option "size"');let t=new Uint8Array(r);return Object.setPrototypeOf(t,O.prototype),t}function O(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return qi(r)}return hu(r,t,e)}O.poolSize=8192;function hu(r,t,e){if(typeof r=="string")return zh(r,t);if(ArrayBuffer.isView(r))return Dh(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(nr(r,ArrayBuffer)||r&&nr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(nr(r,SharedArrayBuffer)||r&&nr(r.buffer,SharedArrayBuffer)))return zi(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return O.from(n,t,e);let o=qh(r);if(o)return o;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return O.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}O.from=function(r,t,e){return hu(r,t,e)};Object.setPrototypeOf(O.prototype,Uint8Array.prototype);Object.setPrototypeOf(O,Uint8Array);function du(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Fh(r,t,e){return du(r),r<=0?lr(r):t!==void 0?typeof e=="string"?lr(r).fill(t,e):lr(r).fill(t):lr(r)}O.alloc=function(r,t,e){return Fh(r,t,e)};function qi(r){return du(r),lr(r<0?0:Ki(r)|0)}O.allocUnsafe=function(r){return qi(r)};O.allocUnsafeSlow=function(r){return qi(r)};function zh(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!O.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=pu(r,t)|0,n=lr(e),o=n.write(r,t);return o!==e&&(n=n.slice(0,o)),n}function Fi(r){let t=r.length<0?0:Ki(r.length)|0,e=lr(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function Dh(r){if(nr(r,Uint8Array)){let t=new Uint8Array(r);return zi(t.buffer,t.byteOffset,t.byteLength)}return Fi(r)}function zi(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,O.prototype),n}function qh(r){if(O.isBuffer(r)){let t=Ki(r.length)|0,e=lr(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||Hi(r.length)?lr(0):Fi(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Fi(r.data)}function Ki(r){if(r>=Uo)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Uo.toString(16)+" bytes");return r|0}function Kh(r){return+r!=r&&(r=0),O.alloc(+r)}O.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==O.prototype};O.compare=function(t,e){if(nr(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),nr(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),!O.isBuffer(t)||!O.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,o=e.length;for(let s=0,i=Math.min(n,o);s<i;++s)if(t[s]!==e[s]){n=t[s],o=e[s];break}return n<o?-1:o<n?1:0};O.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};O.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return O.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let o=O.allocUnsafe(e),s=0;for(n=0;n<t.length;++n){let i=t[n];if(nr(i,Uint8Array))s+i.length>o.length?(O.isBuffer(i)||(i=O.from(i)),i.copy(o,s)):Uint8Array.prototype.set.call(o,i,s);else if(O.isBuffer(i))i.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=i.length}return o};function pu(r,t){if(O.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||nr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Di(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return vu(r).length;default:if(o)return n?-1:Di(r).length;t=(""+t).toLowerCase(),o=!0}}O.byteLength=pu;function Wh(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Qh(this,t,e);case"utf8":case"utf-8":return mu(this,t,e);case"ascii":return Jh(this,t,e);case"latin1":case"binary":return Xh(this,t,e);case"base64":return Zh(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return td(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}O.prototype._isBuffer=!0;function jr(r,t,e){let n=r[t];r[t]=r[e],r[e]=n}O.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)jr(this,e,e+1);return this};O.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)jr(this,e,e+3),jr(this,e+1,e+2);return this};O.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)jr(this,e,e+7),jr(this,e+1,e+6),jr(this,e+2,e+5),jr(this,e+3,e+4);return this};O.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?mu(this,0,t):Wh.apply(this,arguments)};O.prototype.toLocaleString=O.prototype.toString;O.prototype.equals=function(t){if(!O.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:O.compare(this,t)===0};O.prototype.inspect=function(){let t="",e=wn.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};cu&&(O.prototype[cu]=O.prototype.inspect);O.prototype.compare=function(t,e,n,o,s){if(nr(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),!O.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),e<0||n>t.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&e>=n)return 0;if(o>=s)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,o>>>=0,s>>>=0,this===t)return 0;let i=s-o,c=n-e,u=Math.min(i,c),p=this.slice(o,s),y=t.slice(e,n);for(let b=0;b<u;++b)if(p[b]!==y[b]){i=p[b],c=y[b];break}return i<c?-1:c<i?1:0};function yu(r,t,e,n,o){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Hi(e)&&(e=o?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(o)return-1;e=r.length-1}else if(e<0)if(o)e=0;else return-1;if(typeof t=="string"&&(t=O.from(t,n)),O.isBuffer(t))return t.length===0?-1:uu(r,t,e,n,o);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):uu(r,[t],e,n,o);throw new TypeError("val must be string, number or Buffer")}function uu(r,t,e,n,o){let s=1,i=r.length,c=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;s=2,i/=2,c/=2,e/=2}function u(y,b){return s===1?y[b]:y.readUInt16BE(b*s)}let p;if(o){let y=-1;for(p=e;p<i;p++)if(u(r,p)===u(t,y===-1?0:p-y)){if(y===-1&&(y=p),p-y+1===c)return y*s}else y!==-1&&(p-=p-y),y=-1}else for(e+c>i&&(e=i-c),p=e;p>=0;p--){let y=!0;for(let b=0;b<c;b++)if(u(r,p+b)!==u(t,b)){y=!1;break}if(y)return p}return-1}O.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};O.prototype.indexOf=function(t,e,n){return yu(this,t,e,n,!0)};O.prototype.lastIndexOf=function(t,e,n){return yu(this,t,e,n,!1)};function Hh(r,t,e,n){e=Number(e)||0;let o=r.length-e;n?(n=Number(n),n>o&&(n=o)):n=o;let s=t.length;n>s/2&&(n=s/2);let i;for(i=0;i<n;++i){let c=parseInt(t.substr(i*2,2),16);if(Hi(c))return i;r[e+i]=c}return i}function Vh(r,t,e,n){return No(Di(t,r.length-e),r,e,n)}function $h(r,t,e,n){return No(od(t),r,e,n)}function jh(r,t,e,n){return No(vu(t),r,e,n)}function Gh(r,t,e,n){return No(sd(t,r.length-e),r,e,n)}O.prototype.write=function(t,e,n,o){if(e===void 0)o="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")o=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-e;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let i=!1;for(;;)switch(o){case"hex":return Hh(this,t,e,n);case"utf8":case"utf-8":return Vh(this,t,e,n);case"ascii":case"latin1":case"binary":return $h(this,t,e,n);case"base64":return jh(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gh(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}};O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zh(r,t,e){return t===0&&e===r.length?Ni.fromByteArray(r):Ni.fromByteArray(r.slice(t,e))}function mu(r,t,e){e=Math.min(r.length,e);let n=[],o=t;for(;o<e;){let s=r[o],i=null,c=s>239?4:s>223?3:s>191?2:1;if(o+c<=e){let u,p,y,b;switch(c){case 1:s<128&&(i=s);break;case 2:u=r[o+1],(u&192)===128&&(b=(s&31)<<6|u&63,b>127&&(i=b));break;case 3:u=r[o+1],p=r[o+2],(u&192)===128&&(p&192)===128&&(b=(s&15)<<12|(u&63)<<6|p&63,b>2047&&(b<55296||b>57343)&&(i=b));break;case 4:u=r[o+1],p=r[o+2],y=r[o+3],(u&192)===128&&(p&192)===128&&(y&192)===128&&(b=(s&15)<<18|(u&63)<<12|(p&63)<<6|y&63,b>65535&&b<1114112&&(i=b))}}i===null?(i=65533,c=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),o+=c}return Yh(n)}var fu=4096;function Yh(r){let t=r.length;if(t<=fu)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=fu));return e}function Jh(r,t,e){let n="";e=Math.min(r.length,e);for(let o=t;o<e;++o)n+=String.fromCharCode(r[o]&127);return n}function Xh(r,t,e){let n="";e=Math.min(r.length,e);for(let o=t;o<e;++o)n+=String.fromCharCode(r[o]);return n}function Qh(r,t,e){let n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let o="";for(let s=t;s<e;++s)o+=id[r[s]];return o}function td(r,t,e){let n=r.slice(t,e),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}O.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let o=this.subarray(t,e);return Object.setPrototypeOf(o,O.prototype),o};function be(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let o=this[t],s=1,i=0;for(;++i<e&&(s*=256);)o+=this[t+i]*s;return o};O.prototype.readUintBE=O.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let o=this[t+--e],s=1;for(;e>0&&(s*=256);)o+=this[t+--e]*s;return o};O.prototype.readUint8=O.prototype.readUInt8=function(t,e){return t=t>>>0,e||be(t,1,this.length),this[t]};O.prototype.readUint16LE=O.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||be(t,2,this.length),this[t]|this[t+1]<<8};O.prototype.readUint16BE=O.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||be(t,2,this.length),this[t]<<8|this[t+1]};O.prototype.readUint32LE=O.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||be(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};O.prototype.readUint32BE=O.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||be(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};O.prototype.readBigUInt64LE=vr(function(t){t=t>>>0,bn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Kn(t,this.length-8);let o=e+this[++t]*dt(2,8)+this[++t]*dt(2,16)+this[++t]*dt(2,24),s=this[++t]+this[++t]*dt(2,8)+this[++t]*dt(2,16)+n*dt(2,24);return BigInt(o)+(BigInt(s)<<BigInt(32))});O.prototype.readBigUInt64BE=vr(function(t){t=t>>>0,bn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Kn(t,this.length-8);let o=e*dt(2,24)+this[++t]*dt(2,16)+this[++t]*dt(2,8)+this[++t],s=this[++t]*dt(2,24)+this[++t]*dt(2,16)+this[++t]*dt(2,8)+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});O.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let o=this[t],s=1,i=0;for(;++i<e&&(s*=256);)o+=this[t+i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*e)),o};O.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let o=e,s=1,i=this[t+--o];for(;o>0&&(s*=256);)i+=this[t+--o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*e)),i};O.prototype.readInt8=function(t,e){return t=t>>>0,e||be(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};O.prototype.readInt16LE=function(t,e){t=t>>>0,e||be(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};O.prototype.readInt16BE=function(t,e){t=t>>>0,e||be(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};O.prototype.readInt32LE=function(t,e){return t=t>>>0,e||be(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};O.prototype.readInt32BE=function(t,e){return t=t>>>0,e||be(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};O.prototype.readBigInt64LE=vr(function(t){t=t>>>0,bn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Kn(t,this.length-8);let o=this[t+4]+this[t+5]*dt(2,8)+this[t+6]*dt(2,16)+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(e+this[++t]*dt(2,8)+this[++t]*dt(2,16)+this[++t]*dt(2,24))});O.prototype.readBigInt64BE=vr(function(t){t=t>>>0,bn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Kn(t,this.length-8);let o=(e<<24)+this[++t]*dt(2,16)+this[++t]*dt(2,8)+this[++t];return(BigInt(o)<<BigInt(32))+BigInt(this[++t]*dt(2,24)+this[++t]*dt(2,16)+this[++t]*dt(2,8)+n)});O.prototype.readFloatLE=function(t,e){return t=t>>>0,e||be(t,4,this.length),gn.read(this,t,!0,23,4)};O.prototype.readFloatBE=function(t,e){return t=t>>>0,e||be(t,4,this.length),gn.read(this,t,!1,23,4)};O.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||be(t,8,this.length),gn.read(this,t,!0,52,8)};O.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||be(t,8,this.length),gn.read(this,t,!1,52,8)};function Oe(r,t,e,n,o,s){if(!O.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(t,e,n,o){if(t=+t,e=e>>>0,n=n>>>0,!o){let c=Math.pow(2,8*n)-1;Oe(this,t,e,n,c,0)}let s=1,i=0;for(this[e]=t&255;++i<n&&(s*=256);)this[e+i]=t/s&255;return e+n};O.prototype.writeUintBE=O.prototype.writeUIntBE=function(t,e,n,o){if(t=+t,e=e>>>0,n=n>>>0,!o){let c=Math.pow(2,8*n)-1;Oe(this,t,e,n,c,0)}let s=n-1,i=1;for(this[e+s]=t&255;--s>=0&&(i*=256);)this[e+s]=t/i&255;return e+n};O.prototype.writeUint8=O.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,1,255,0),this[e]=t&255,e+1};O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function gu(r,t,e,n,o){Su(t,n,o,r,e,7);let s=Number(t&BigInt(4294967295));r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=i,i=i>>8,r[e++]=i,i=i>>8,r[e++]=i,i=i>>8,r[e++]=i,e}function bu(r,t,e,n,o){Su(t,n,o,r,e,7);let s=Number(t&BigInt(4294967295));r[e+7]=s,s=s>>8,r[e+6]=s,s=s>>8,r[e+5]=s,s=s>>8,r[e+4]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=i,i=i>>8,r[e+2]=i,i=i>>8,r[e+1]=i,i=i>>8,r[e]=i,e+8}O.prototype.writeBigUInt64LE=vr(function(t,e=0){return gu(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeBigUInt64BE=vr(function(t,e=0){return bu(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e=e>>>0,!o){let u=Math.pow(2,8*n-1);Oe(this,t,e,n,u-1,-u)}let s=0,i=1,c=0;for(this[e]=t&255;++s<n&&(i*=256);)t<0&&c===0&&this[e+s-1]!==0&&(c=1),this[e+s]=(t/i>>0)-c&255;return e+n};O.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e=e>>>0,!o){let u=Math.pow(2,8*n-1);Oe(this,t,e,n,u-1,-u)}let s=n-1,i=1,c=0;for(this[e+s]=t&255;--s>=0&&(i*=256);)t<0&&c===0&&this[e+s+1]!==0&&(c=1),this[e+s]=(t/i>>0)-c&255;return e+n};O.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};O.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};O.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};O.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};O.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||Oe(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};O.prototype.writeBigInt64LE=vr(function(t,e=0){return gu(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});O.prototype.writeBigInt64BE=vr(function(t,e=0){return bu(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function wu(r,t,e,n,o,s){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function xu(r,t,e,n,o){return t=+t,e=e>>>0,o||wu(r,t,e,4,34028234663852886e22,-34028234663852886e22),gn.write(r,t,e,n,23,4),e+4}O.prototype.writeFloatLE=function(t,e,n){return xu(this,t,e,!0,n)};O.prototype.writeFloatBE=function(t,e,n){return xu(this,t,e,!1,n)};function ku(r,t,e,n,o){return t=+t,e=e>>>0,o||wu(r,t,e,8,17976931348623157e292,-17976931348623157e292),gn.write(r,t,e,n,52,8),e+8}O.prototype.writeDoubleLE=function(t,e,n){return ku(this,t,e,!0,n)};O.prototype.writeDoubleBE=function(t,e,n){return ku(this,t,e,!1,n)};O.prototype.copy=function(t,e,n,o){if(!O.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);let s=o-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,o):Uint8Array.prototype.set.call(t,this.subarray(n,o),e),s};O.prototype.fill=function(t,e,n,o){if(typeof t=="string"){if(typeof e=="string"?(o=e,e=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!O.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(t.length===1){let i=t.charCodeAt(0);(o==="utf8"&&i<128||o==="latin1")&&(t=i)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let s;if(typeof t=="number")for(s=e;s<n;++s)this[s]=t;else{let i=O.isBuffer(t)?t:O.from(t,o),c=i.length;if(c===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<n-e;++s)this[s+e]=i[s%c]}return this};var mn={};function Wi(r,t,e){mn[r]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Wi("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Wi("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError);Wi("ERR_OUT_OF_RANGE",function(r,t,e){let n=`The value of "${r}" is out of range.`,o=e;return Number.isInteger(e)&&Math.abs(e)>dt(2,32)?o=lu(String(e)):typeof e=="bigint"&&(o=String(e),(e>dt(BigInt(2),BigInt(32))||e<-dt(BigInt(2),BigInt(32)))&&(o=lu(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n},RangeError);function lu(r){let t="",e=r.length,n=r[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function ed(r,t,e){bn(t,"offset"),(r[t]===void 0||r[t+e]===void 0)&&Kn(t,r.length-(e+1))}function Su(r,t,e,n,o,s){if(r>e||r<t){let i=typeof t=="bigint"?"n":"",c;throw s>3?t===0||t===BigInt(0)?c=`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:c=`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:c=`>= ${t}${i} and <= ${e}${i}`,new mn.ERR_OUT_OF_RANGE("value",c,r)}ed(n,o,s)}function bn(r,t){if(typeof r!="number")throw new mn.ERR_INVALID_ARG_TYPE(t,"number",r)}function Kn(r,t,e){throw Math.floor(r)!==r?(bn(r,e),new mn.ERR_OUT_OF_RANGE(e||"offset","an integer",r)):t<0?new mn.ERR_BUFFER_OUT_OF_BOUNDS:new mn.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,r)}var rd=/[^+/0-9A-Za-z-_]/g;function nd(r){if(r=r.split("=")[0],r=r.trim().replace(rd,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Di(r,t){t=t||1/0;let e,n=r.length,o=null,s=[];for(let i=0;i<n;++i){if(e=r.charCodeAt(i),e>55295&&e<57344){if(!o){if(e>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=e;continue}if(e<56320){(t-=3)>-1&&s.push(239,191,189),o=e;continue}e=(o-55296<<10|e-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,e<128){if((t-=1)<0)break;s.push(e)}else if(e<2048){if((t-=2)<0)break;s.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;s.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return s}function od(r){let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function sd(r,t){let e,n,o,s=[];for(let i=0;i<r.length&&!((t-=2)<0);++i)e=r.charCodeAt(i),n=e>>8,o=e%256,s.push(o),s.push(n);return s}function vu(r){return Ni.toByteArray(nd(r))}function No(r,t,e,n){let o;for(o=0;o<n&&!(o+e>=t.length||o>=r.length);++o)t[o+e]=r[o];return o}function nr(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function Hi(r){return r!==r}var id=function(){let r="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let o=0;o<16;++o)t[n+o]=r[e]+r[o]}return t}();function vr(r){return typeof BigInt=="undefined"?ad:r}function ad(){throw new Error("BigInt not supported")}});var Vu=Te(()=>{});var ma=Te(($u,ya)=>{(function(r,t){"use strict";function e(k,a){if(!k)throw new Error(a||"Assertion failed")}function n(k,a){k.super_=a;var l=function(){};l.prototype=a.prototype,k.prototype=new l,k.prototype.constructor=k}function o(k,a,l){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((a==="le"||a==="be")&&(l=a,a=10),this._init(k||0,a||10,l||"be"))}typeof r=="object"?r.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=Vu().Buffer}catch(k){}o.isBN=function(a){return a instanceof o?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===o.wordSize&&Array.isArray(a.words)},o.max=function(a,l){return a.cmp(l)>0?a:l},o.min=function(a,l){return a.cmp(l)<0?a:l},o.prototype._init=function(a,l,h){if(typeof a=="number")return this._initNumber(a,l,h);if(typeof a=="object")return this._initArray(a,l,h);l==="hex"&&(l=16),e(l===(l|0)&&l>=2&&l<=36),a=a.toString().replace(/\s+/g,"");var d=0;a[0]==="-"&&(d++,this.negative=1),d<a.length&&(l===16?this._parseHex(a,d,h):(this._parseBase(a,l,d),h==="le"&&this._initArray(this.toArray(),l,h)))},o.prototype._initNumber=function(a,l,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(e(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),l,h)},o.prototype._initArray=function(a,l,h){if(e(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var m,x,B=0;if(h==="be")for(d=a.length-1,m=0;d>=0;d-=3)x=a[d]|a[d-1]<<8|a[d-2]<<16,this.words[m]|=x<<B&67108863,this.words[m+1]=x>>>26-B&67108863,B+=24,B>=26&&(B-=26,m++);else if(h==="le")for(d=0,m=0;d<a.length;d+=3)x=a[d]|a[d+1]<<8|a[d+2]<<16,this.words[m]|=x<<B&67108863,this.words[m+1]=x>>>26-B&67108863,B+=24,B>=26&&(B-=26,m++);return this._strip()};function i(k,a){var l=k.charCodeAt(a);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;e(!1,"Invalid character in "+k)}function c(k,a,l){var h=i(k,l);return l-1>=a&&(h|=i(k,l-1)<<4),h}o.prototype._parseHex=function(a,l,h){this.length=Math.ceil((a.length-l)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var m=0,x=0,B;if(h==="be")for(d=a.length-1;d>=l;d-=2)B=c(a,l,d)<<m,this.words[x]|=B&67108863,m>=18?(m-=18,x+=1,this.words[x]|=B>>>26):m+=8;else{var g=a.length-l;for(d=g%2===0?l+1:l;d<a.length;d+=2)B=c(a,l,d)<<m,this.words[x]|=B&67108863,m>=18?(m-=18,x+=1,this.words[x]|=B>>>26):m+=8}this._strip()};function u(k,a,l,h){for(var d=0,m=0,x=Math.min(k.length,l),B=a;B<x;B++){var g=k.charCodeAt(B)-48;d*=h,g>=49?m=g-49+10:g>=17?m=g-17+10:m=g,e(g>=0&&m<h,"Invalid character"),d+=m}return d}o.prototype._parseBase=function(a,l,h){this.words=[0],this.length=1;for(var d=0,m=1;m<=67108863;m*=l)d++;d--,m=m/l|0;for(var x=a.length-h,B=x%d,g=Math.min(x,x-B)+h,f=0,w=h;w<g;w+=d)f=u(a,w,w+d,l),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(B!==0){var N=1;for(f=u(a,w,a.length,l),w=0;w<B;w++)N*=l;this.imuln(N),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},o.prototype.copy=function(a){a.words=new Array(this.length);for(var l=0;l<this.length;l++)a.words[l]=this.words[l];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(k,a){k.words=a.words,k.length=a.length,k.negative=a.negative,k.red=a.red}if(o.prototype._move=function(a){p(a,this)},o.prototype.clone=function(){var a=new o(null);return this.copy(a),a},o.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch(k){o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(a,l){a=a||10,l=l|0||1;var h;if(a===16||a==="hex"){h="";for(var d=0,m=0,x=0;x<this.length;x++){var B=this.words[x],g=((B<<d|m)&16777215).toString(16);m=B>>>24-d&16777215,d+=2,d>=26&&(d-=26,x--),m!==0||x!==this.length-1?h=b[6-g.length]+g+h:h=g+h}for(m!==0&&(h=m.toString(16)+h);h.length%l!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=I[a],w=E[a];h="";var N=this.clone();for(N.negative=0;!N.isZero();){var D=N.modrn(w).toString(a);N=N.idivn(w),N.isZero()?h=D+h:h=b[f-D.length]+D+h}for(this.isZero()&&(h="0"+h);h.length%l!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}e(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(a,l){return this.toArrayLike(s,a,l)}),o.prototype.toArray=function(a,l){return this.toArrayLike(Array,a,l)};var _=function(a,l){return a.allocUnsafe?a.allocUnsafe(l):new a(l)};o.prototype.toArrayLike=function(a,l,h){this._strip();var d=this.byteLength(),m=h||Math.max(1,d);e(d<=m,"byte array longer than desired length"),e(m>0,"Requested array length <= 0");var x=_(a,m),B=l==="le"?"LE":"BE";return this["_toArrayLike"+B](x,d),x},o.prototype._toArrayLikeLE=function(a,l){for(var h=0,d=0,m=0,x=0;m<this.length;m++){var B=this.words[m]<<x|d;a[h++]=B&255,h<a.length&&(a[h++]=B>>8&255),h<a.length&&(a[h++]=B>>16&255),x===6?(h<a.length&&(a[h++]=B>>24&255),d=0,x=0):(d=B>>>24,x+=2)}if(h<a.length)for(a[h++]=d;h<a.length;)a[h++]=0},o.prototype._toArrayLikeBE=function(a,l){for(var h=a.length-1,d=0,m=0,x=0;m<this.length;m++){var B=this.words[m]<<x|d;a[h--]=B&255,h>=0&&(a[h--]=B>>8&255),h>=0&&(a[h--]=B>>16&255),x===6?(h>=0&&(a[h--]=B>>24&255),d=0,x=0):(d=B>>>24,x+=2)}if(h>=0)for(a[h--]=d;h>=0;)a[h--]=0},Math.clz32?o.prototype._countBits=function(a){return 32-Math.clz32(a)}:o.prototype._countBits=function(a){var l=a,h=0;return l>=4096&&(h+=13,l>>>=13),l>=64&&(h+=7,l>>>=7),l>=8&&(h+=4,l>>>=4),l>=2&&(h+=2,l>>>=2),h+l},o.prototype._zeroBits=function(a){if(a===0)return 26;var l=a,h=0;return(l&8191)===0&&(h+=13,l>>>=13),(l&127)===0&&(h+=7,l>>>=7),(l&15)===0&&(h+=4,l>>>=4),(l&3)===0&&(h+=2,l>>>=2),(l&1)===0&&h++,h},o.prototype.bitLength=function(){var a=this.words[this.length-1],l=this._countBits(a);return(this.length-1)*26+l};function A(k){for(var a=new Array(k.bitLength()),l=0;l<a.length;l++){var h=l/26|0,d=l%26;a[l]=k.words[h]>>>d&1}return a}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,l=0;l<this.length;l++){var h=this._zeroBits(this.words[l]);if(a+=h,h!==26)break}return a},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},o.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var l=0;l<a.length;l++)this.words[l]=this.words[l]|a.words[l];return this._strip()},o.prototype.ior=function(a){return e((this.negative|a.negative)===0),this.iuor(a)},o.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},o.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},o.prototype.iuand=function(a){var l;this.length>a.length?l=a:l=this;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=l.length,this._strip()},o.prototype.iand=function(a){return e((this.negative|a.negative)===0),this.iuand(a)},o.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},o.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},o.prototype.iuxor=function(a){var l,h;this.length>a.length?(l=this,h=a):(l=a,h=this);for(var d=0;d<h.length;d++)this.words[d]=l.words[d]^h.words[d];if(this!==l)for(;d<l.length;d++)this.words[d]=l.words[d];return this.length=l.length,this._strip()},o.prototype.ixor=function(a){return e((this.negative|a.negative)===0),this.iuxor(a)},o.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},o.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},o.prototype.inotn=function(a){e(typeof a=="number"&&a>=0);var l=Math.ceil(a/26)|0,h=a%26;this._expand(l),h>0&&l--;for(var d=0;d<l;d++)this.words[d]=~this.words[d]&67108863;return h>0&&(this.words[d]=~this.words[d]&67108863>>26-h),this._strip()},o.prototype.notn=function(a){return this.clone().inotn(a)},o.prototype.setn=function(a,l){e(typeof a=="number"&&a>=0);var h=a/26|0,d=a%26;return this._expand(h+1),l?this.words[h]=this.words[h]|1<<d:this.words[h]=this.words[h]&~(1<<d),this._strip()},o.prototype.iadd=function(a){var l;if(this.negative!==0&&a.negative===0)return this.negative=0,l=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,l=this.isub(a),a.negative=1,l._normSign();var h,d;this.length>a.length?(h=this,d=a):(h=a,d=this);for(var m=0,x=0;x<d.length;x++)l=(h.words[x]|0)+(d.words[x]|0)+m,this.words[x]=l&67108863,m=l>>>26;for(;m!==0&&x<h.length;x++)l=(h.words[x]|0)+m,this.words[x]=l&67108863,m=l>>>26;if(this.length=h.length,m!==0)this.words[this.length]=m,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},o.prototype.add=function(a){var l;return a.negative!==0&&this.negative===0?(a.negative=0,l=this.sub(a),a.negative^=1,l):a.negative===0&&this.negative!==0?(this.negative=0,l=a.sub(this),this.negative=1,l):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},o.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var l=this.iadd(a);return a.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,m;h>0?(d=this,m=a):(d=a,m=this);for(var x=0,B=0;B<m.length;B++)l=(d.words[B]|0)-(m.words[B]|0)+x,x=l>>26,this.words[B]=l&67108863;for(;x!==0&&B<d.length;B++)l=(d.words[B]|0)+x,x=l>>26,this.words[B]=l&67108863;if(x===0&&B<d.length&&d!==this)for(;B<d.length;B++)this.words[B]=d.words[B];return this.length=Math.max(this.length,B),d!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(a){return this.clone().isub(a)};function S(k,a,l){l.negative=a.negative^k.negative;var h=k.length+a.length|0;l.length=h,h=h-1|0;var d=k.words[0]|0,m=a.words[0]|0,x=d*m,B=x&67108863,g=x/67108864|0;l.words[0]=B;for(var f=1;f<h;f++){for(var w=g>>>26,N=g&67108863,D=Math.min(f,a.length-1),K=Math.max(0,f-k.length+1);K<=D;K++){var X=f-K|0;d=k.words[X]|0,m=a.words[K]|0,x=d*m+N,w+=x/67108864|0,N=x&67108863}l.words[f]=N|0,g=w|0}return g!==0?l.words[f]=g|0:l.length--,l._strip()}var L=function(a,l,h){var d=a.words,m=l.words,x=h.words,B=0,g,f,w,N=d[0]|0,D=N&8191,K=N>>>13,X=d[1]|0,rt=X&8191,it=X>>>13,_t=d[2]|0,ut=_t&8191,lt=_t>>>13,ze=d[3]|0,xt=ze&8191,wt=ze>>>13,Ro=d[4]|0,qt=Ro&8191,Kt=Ro>>>13,Lo=d[5]|0,Pt=Lo&8191,Mt=Lo>>>13,pn=d[6]|0,Ct=pn&8191,Ot=pn>>>13,Dn=d[7]|0,Ut=Dn&8191,Nt=Dn>>>13,To=d[8]|0,Wt=To&8191,Ht=To>>>13,Po=d[9]|0,$t=Po&8191,jt=Po>>>13,Hc=m[0]|0,Gt=Hc&8191,Zt=Hc>>>13,Vc=m[1]|0,Yt=Vc&8191,Jt=Vc>>>13,$c=m[2]|0,Xt=$c&8191,Qt=$c>>>13,jc=m[3]|0,te=jc&8191,ee=jc>>>13,Gc=m[4]|0,re=Gc&8191,ne=Gc>>>13,Zc=m[5]|0,oe=Zc&8191,se=Zc>>>13,Yc=m[6]|0,ie=Yc&8191,ae=Yc>>>13,Jc=m[7]|0,ce=Jc&8191,ue=Jc>>>13,Xc=m[8]|0,fe=Xc&8191,le=Xc>>>13,Qc=m[9]|0,he=Qc&8191,de=Qc>>>13;h.negative=a.negative^l.negative,h.length=19,g=Math.imul(D,Gt),f=Math.imul(D,Zt),f=f+Math.imul(K,Gt)|0,w=Math.imul(K,Zt);var hi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,g=Math.imul(rt,Gt),f=Math.imul(rt,Zt),f=f+Math.imul(it,Gt)|0,w=Math.imul(it,Zt),g=g+Math.imul(D,Yt)|0,f=f+Math.imul(D,Jt)|0,f=f+Math.imul(K,Yt)|0,w=w+Math.imul(K,Jt)|0;var di=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(di>>>26)|0,di&=67108863,g=Math.imul(ut,Gt),f=Math.imul(ut,Zt),f=f+Math.imul(lt,Gt)|0,w=Math.imul(lt,Zt),g=g+Math.imul(rt,Yt)|0,f=f+Math.imul(rt,Jt)|0,f=f+Math.imul(it,Yt)|0,w=w+Math.imul(it,Jt)|0,g=g+Math.imul(D,Xt)|0,f=f+Math.imul(D,Qt)|0,f=f+Math.imul(K,Xt)|0,w=w+Math.imul(K,Qt)|0;var pi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(pi>>>26)|0,pi&=67108863,g=Math.imul(xt,Gt),f=Math.imul(xt,Zt),f=f+Math.imul(wt,Gt)|0,w=Math.imul(wt,Zt),g=g+Math.imul(ut,Yt)|0,f=f+Math.imul(ut,Jt)|0,f=f+Math.imul(lt,Yt)|0,w=w+Math.imul(lt,Jt)|0,g=g+Math.imul(rt,Xt)|0,f=f+Math.imul(rt,Qt)|0,f=f+Math.imul(it,Xt)|0,w=w+Math.imul(it,Qt)|0,g=g+Math.imul(D,te)|0,f=f+Math.imul(D,ee)|0,f=f+Math.imul(K,te)|0,w=w+Math.imul(K,ee)|0;var yi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,g=Math.imul(qt,Gt),f=Math.imul(qt,Zt),f=f+Math.imul(Kt,Gt)|0,w=Math.imul(Kt,Zt),g=g+Math.imul(xt,Yt)|0,f=f+Math.imul(xt,Jt)|0,f=f+Math.imul(wt,Yt)|0,w=w+Math.imul(wt,Jt)|0,g=g+Math.imul(ut,Xt)|0,f=f+Math.imul(ut,Qt)|0,f=f+Math.imul(lt,Xt)|0,w=w+Math.imul(lt,Qt)|0,g=g+Math.imul(rt,te)|0,f=f+Math.imul(rt,ee)|0,f=f+Math.imul(it,te)|0,w=w+Math.imul(it,ee)|0,g=g+Math.imul(D,re)|0,f=f+Math.imul(D,ne)|0,f=f+Math.imul(K,re)|0,w=w+Math.imul(K,ne)|0;var mi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(mi>>>26)|0,mi&=67108863,g=Math.imul(Pt,Gt),f=Math.imul(Pt,Zt),f=f+Math.imul(Mt,Gt)|0,w=Math.imul(Mt,Zt),g=g+Math.imul(qt,Yt)|0,f=f+Math.imul(qt,Jt)|0,f=f+Math.imul(Kt,Yt)|0,w=w+Math.imul(Kt,Jt)|0,g=g+Math.imul(xt,Xt)|0,f=f+Math.imul(xt,Qt)|0,f=f+Math.imul(wt,Xt)|0,w=w+Math.imul(wt,Qt)|0,g=g+Math.imul(ut,te)|0,f=f+Math.imul(ut,ee)|0,f=f+Math.imul(lt,te)|0,w=w+Math.imul(lt,ee)|0,g=g+Math.imul(rt,re)|0,f=f+Math.imul(rt,ne)|0,f=f+Math.imul(it,re)|0,w=w+Math.imul(it,ne)|0,g=g+Math.imul(D,oe)|0,f=f+Math.imul(D,se)|0,f=f+Math.imul(K,oe)|0,w=w+Math.imul(K,se)|0;var gi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,g=Math.imul(Ct,Gt),f=Math.imul(Ct,Zt),f=f+Math.imul(Ot,Gt)|0,w=Math.imul(Ot,Zt),g=g+Math.imul(Pt,Yt)|0,f=f+Math.imul(Pt,Jt)|0,f=f+Math.imul(Mt,Yt)|0,w=w+Math.imul(Mt,Jt)|0,g=g+Math.imul(qt,Xt)|0,f=f+Math.imul(qt,Qt)|0,f=f+Math.imul(Kt,Xt)|0,w=w+Math.imul(Kt,Qt)|0,g=g+Math.imul(xt,te)|0,f=f+Math.imul(xt,ee)|0,f=f+Math.imul(wt,te)|0,w=w+Math.imul(wt,ee)|0,g=g+Math.imul(ut,re)|0,f=f+Math.imul(ut,ne)|0,f=f+Math.imul(lt,re)|0,w=w+Math.imul(lt,ne)|0,g=g+Math.imul(rt,oe)|0,f=f+Math.imul(rt,se)|0,f=f+Math.imul(it,oe)|0,w=w+Math.imul(it,se)|0,g=g+Math.imul(D,ie)|0,f=f+Math.imul(D,ae)|0,f=f+Math.imul(K,ie)|0,w=w+Math.imul(K,ae)|0;var bi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(bi>>>26)|0,bi&=67108863,g=Math.imul(Ut,Gt),f=Math.imul(Ut,Zt),f=f+Math.imul(Nt,Gt)|0,w=Math.imul(Nt,Zt),g=g+Math.imul(Ct,Yt)|0,f=f+Math.imul(Ct,Jt)|0,f=f+Math.imul(Ot,Yt)|0,w=w+Math.imul(Ot,Jt)|0,g=g+Math.imul(Pt,Xt)|0,f=f+Math.imul(Pt,Qt)|0,f=f+Math.imul(Mt,Xt)|0,w=w+Math.imul(Mt,Qt)|0,g=g+Math.imul(qt,te)|0,f=f+Math.imul(qt,ee)|0,f=f+Math.imul(Kt,te)|0,w=w+Math.imul(Kt,ee)|0,g=g+Math.imul(xt,re)|0,f=f+Math.imul(xt,ne)|0,f=f+Math.imul(wt,re)|0,w=w+Math.imul(wt,ne)|0,g=g+Math.imul(ut,oe)|0,f=f+Math.imul(ut,se)|0,f=f+Math.imul(lt,oe)|0,w=w+Math.imul(lt,se)|0,g=g+Math.imul(rt,ie)|0,f=f+Math.imul(rt,ae)|0,f=f+Math.imul(it,ie)|0,w=w+Math.imul(it,ae)|0,g=g+Math.imul(D,ce)|0,f=f+Math.imul(D,ue)|0,f=f+Math.imul(K,ce)|0,w=w+Math.imul(K,ue)|0;var wi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,g=Math.imul(Wt,Gt),f=Math.imul(Wt,Zt),f=f+Math.imul(Ht,Gt)|0,w=Math.imul(Ht,Zt),g=g+Math.imul(Ut,Yt)|0,f=f+Math.imul(Ut,Jt)|0,f=f+Math.imul(Nt,Yt)|0,w=w+Math.imul(Nt,Jt)|0,g=g+Math.imul(Ct,Xt)|0,f=f+Math.imul(Ct,Qt)|0,f=f+Math.imul(Ot,Xt)|0,w=w+Math.imul(Ot,Qt)|0,g=g+Math.imul(Pt,te)|0,f=f+Math.imul(Pt,ee)|0,f=f+Math.imul(Mt,te)|0,w=w+Math.imul(Mt,ee)|0,g=g+Math.imul(qt,re)|0,f=f+Math.imul(qt,ne)|0,f=f+Math.imul(Kt,re)|0,w=w+Math.imul(Kt,ne)|0,g=g+Math.imul(xt,oe)|0,f=f+Math.imul(xt,se)|0,f=f+Math.imul(wt,oe)|0,w=w+Math.imul(wt,se)|0,g=g+Math.imul(ut,ie)|0,f=f+Math.imul(ut,ae)|0,f=f+Math.imul(lt,ie)|0,w=w+Math.imul(lt,ae)|0,g=g+Math.imul(rt,ce)|0,f=f+Math.imul(rt,ue)|0,f=f+Math.imul(it,ce)|0,w=w+Math.imul(it,ue)|0,g=g+Math.imul(D,fe)|0,f=f+Math.imul(D,le)|0,f=f+Math.imul(K,fe)|0,w=w+Math.imul(K,le)|0;var xi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(xi>>>26)|0,xi&=67108863,g=Math.imul($t,Gt),f=Math.imul($t,Zt),f=f+Math.imul(jt,Gt)|0,w=Math.imul(jt,Zt),g=g+Math.imul(Wt,Yt)|0,f=f+Math.imul(Wt,Jt)|0,f=f+Math.imul(Ht,Yt)|0,w=w+Math.imul(Ht,Jt)|0,g=g+Math.imul(Ut,Xt)|0,f=f+Math.imul(Ut,Qt)|0,f=f+Math.imul(Nt,Xt)|0,w=w+Math.imul(Nt,Qt)|0,g=g+Math.imul(Ct,te)|0,f=f+Math.imul(Ct,ee)|0,f=f+Math.imul(Ot,te)|0,w=w+Math.imul(Ot,ee)|0,g=g+Math.imul(Pt,re)|0,f=f+Math.imul(Pt,ne)|0,f=f+Math.imul(Mt,re)|0,w=w+Math.imul(Mt,ne)|0,g=g+Math.imul(qt,oe)|0,f=f+Math.imul(qt,se)|0,f=f+Math.imul(Kt,oe)|0,w=w+Math.imul(Kt,se)|0,g=g+Math.imul(xt,ie)|0,f=f+Math.imul(xt,ae)|0,f=f+Math.imul(wt,ie)|0,w=w+Math.imul(wt,ae)|0,g=g+Math.imul(ut,ce)|0,f=f+Math.imul(ut,ue)|0,f=f+Math.imul(lt,ce)|0,w=w+Math.imul(lt,ue)|0,g=g+Math.imul(rt,fe)|0,f=f+Math.imul(rt,le)|0,f=f+Math.imul(it,fe)|0,w=w+Math.imul(it,le)|0,g=g+Math.imul(D,he)|0,f=f+Math.imul(D,de)|0,f=f+Math.imul(K,he)|0,w=w+Math.imul(K,de)|0;var ki=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(ki>>>26)|0,ki&=67108863,g=Math.imul($t,Yt),f=Math.imul($t,Jt),f=f+Math.imul(jt,Yt)|0,w=Math.imul(jt,Jt),g=g+Math.imul(Wt,Xt)|0,f=f+Math.imul(Wt,Qt)|0,f=f+Math.imul(Ht,Xt)|0,w=w+Math.imul(Ht,Qt)|0,g=g+Math.imul(Ut,te)|0,f=f+Math.imul(Ut,ee)|0,f=f+Math.imul(Nt,te)|0,w=w+Math.imul(Nt,ee)|0,g=g+Math.imul(Ct,re)|0,f=f+Math.imul(Ct,ne)|0,f=f+Math.imul(Ot,re)|0,w=w+Math.imul(Ot,ne)|0,g=g+Math.imul(Pt,oe)|0,f=f+Math.imul(Pt,se)|0,f=f+Math.imul(Mt,oe)|0,w=w+Math.imul(Mt,se)|0,g=g+Math.imul(qt,ie)|0,f=f+Math.imul(qt,ae)|0,f=f+Math.imul(Kt,ie)|0,w=w+Math.imul(Kt,ae)|0,g=g+Math.imul(xt,ce)|0,f=f+Math.imul(xt,ue)|0,f=f+Math.imul(wt,ce)|0,w=w+Math.imul(wt,ue)|0,g=g+Math.imul(ut,fe)|0,f=f+Math.imul(ut,le)|0,f=f+Math.imul(lt,fe)|0,w=w+Math.imul(lt,le)|0,g=g+Math.imul(rt,he)|0,f=f+Math.imul(rt,de)|0,f=f+Math.imul(it,he)|0,w=w+Math.imul(it,de)|0;var Si=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(Si>>>26)|0,Si&=67108863,g=Math.imul($t,Xt),f=Math.imul($t,Qt),f=f+Math.imul(jt,Xt)|0,w=Math.imul(jt,Qt),g=g+Math.imul(Wt,te)|0,f=f+Math.imul(Wt,ee)|0,f=f+Math.imul(Ht,te)|0,w=w+Math.imul(Ht,ee)|0,g=g+Math.imul(Ut,re)|0,f=f+Math.imul(Ut,ne)|0,f=f+Math.imul(Nt,re)|0,w=w+Math.imul(Nt,ne)|0,g=g+Math.imul(Ct,oe)|0,f=f+Math.imul(Ct,se)|0,f=f+Math.imul(Ot,oe)|0,w=w+Math.imul(Ot,se)|0,g=g+Math.imul(Pt,ie)|0,f=f+Math.imul(Pt,ae)|0,f=f+Math.imul(Mt,ie)|0,w=w+Math.imul(Mt,ae)|0,g=g+Math.imul(qt,ce)|0,f=f+Math.imul(qt,ue)|0,f=f+Math.imul(Kt,ce)|0,w=w+Math.imul(Kt,ue)|0,g=g+Math.imul(xt,fe)|0,f=f+Math.imul(xt,le)|0,f=f+Math.imul(wt,fe)|0,w=w+Math.imul(wt,le)|0,g=g+Math.imul(ut,he)|0,f=f+Math.imul(ut,de)|0,f=f+Math.imul(lt,he)|0,w=w+Math.imul(lt,de)|0;var vi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(vi>>>26)|0,vi&=67108863,g=Math.imul($t,te),f=Math.imul($t,ee),f=f+Math.imul(jt,te)|0,w=Math.imul(jt,ee),g=g+Math.imul(Wt,re)|0,f=f+Math.imul(Wt,ne)|0,f=f+Math.imul(Ht,re)|0,w=w+Math.imul(Ht,ne)|0,g=g+Math.imul(Ut,oe)|0,f=f+Math.imul(Ut,se)|0,f=f+Math.imul(Nt,oe)|0,w=w+Math.imul(Nt,se)|0,g=g+Math.imul(Ct,ie)|0,f=f+Math.imul(Ct,ae)|0,f=f+Math.imul(Ot,ie)|0,w=w+Math.imul(Ot,ae)|0,g=g+Math.imul(Pt,ce)|0,f=f+Math.imul(Pt,ue)|0,f=f+Math.imul(Mt,ce)|0,w=w+Math.imul(Mt,ue)|0,g=g+Math.imul(qt,fe)|0,f=f+Math.imul(qt,le)|0,f=f+Math.imul(Kt,fe)|0,w=w+Math.imul(Kt,le)|0,g=g+Math.imul(xt,he)|0,f=f+Math.imul(xt,de)|0,f=f+Math.imul(wt,he)|0,w=w+Math.imul(wt,de)|0;var Ei=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,g=Math.imul($t,re),f=Math.imul($t,ne),f=f+Math.imul(jt,re)|0,w=Math.imul(jt,ne),g=g+Math.imul(Wt,oe)|0,f=f+Math.imul(Wt,se)|0,f=f+Math.imul(Ht,oe)|0,w=w+Math.imul(Ht,se)|0,g=g+Math.imul(Ut,ie)|0,f=f+Math.imul(Ut,ae)|0,f=f+Math.imul(Nt,ie)|0,w=w+Math.imul(Nt,ae)|0,g=g+Math.imul(Ct,ce)|0,f=f+Math.imul(Ct,ue)|0,f=f+Math.imul(Ot,ce)|0,w=w+Math.imul(Ot,ue)|0,g=g+Math.imul(Pt,fe)|0,f=f+Math.imul(Pt,le)|0,f=f+Math.imul(Mt,fe)|0,w=w+Math.imul(Mt,le)|0,g=g+Math.imul(qt,he)|0,f=f+Math.imul(qt,de)|0,f=f+Math.imul(Kt,he)|0,w=w+Math.imul(Kt,de)|0;var Bi=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,g=Math.imul($t,oe),f=Math.imul($t,se),f=f+Math.imul(jt,oe)|0,w=Math.imul(jt,se),g=g+Math.imul(Wt,ie)|0,f=f+Math.imul(Wt,ae)|0,f=f+Math.imul(Ht,ie)|0,w=w+Math.imul(Ht,ae)|0,g=g+Math.imul(Ut,ce)|0,f=f+Math.imul(Ut,ue)|0,f=f+Math.imul(Nt,ce)|0,w=w+Math.imul(Nt,ue)|0,g=g+Math.imul(Ct,fe)|0,f=f+Math.imul(Ct,le)|0,f=f+Math.imul(Ot,fe)|0,w=w+Math.imul(Ot,le)|0,g=g+Math.imul(Pt,he)|0,f=f+Math.imul(Pt,de)|0,f=f+Math.imul(Mt,he)|0,w=w+Math.imul(Mt,de)|0;var Ai=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,g=Math.imul($t,ie),f=Math.imul($t,ae),f=f+Math.imul(jt,ie)|0,w=Math.imul(jt,ae),g=g+Math.imul(Wt,ce)|0,f=f+Math.imul(Wt,ue)|0,f=f+Math.imul(Ht,ce)|0,w=w+Math.imul(Ht,ue)|0,g=g+Math.imul(Ut,fe)|0,f=f+Math.imul(Ut,le)|0,f=f+Math.imul(Nt,fe)|0,w=w+Math.imul(Nt,le)|0,g=g+Math.imul(Ct,he)|0,f=f+Math.imul(Ct,de)|0,f=f+Math.imul(Ot,he)|0,w=w+Math.imul(Ot,de)|0;var Ii=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,g=Math.imul($t,ce),f=Math.imul($t,ue),f=f+Math.imul(jt,ce)|0,w=Math.imul(jt,ue),g=g+Math.imul(Wt,fe)|0,f=f+Math.imul(Wt,le)|0,f=f+Math.imul(Ht,fe)|0,w=w+Math.imul(Ht,le)|0,g=g+Math.imul(Ut,he)|0,f=f+Math.imul(Ut,de)|0,f=f+Math.imul(Nt,he)|0,w=w+Math.imul(Nt,de)|0;var _i=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(_i>>>26)|0,_i&=67108863,g=Math.imul($t,fe),f=Math.imul($t,le),f=f+Math.imul(jt,fe)|0,w=Math.imul(jt,le),g=g+Math.imul(Wt,he)|0,f=f+Math.imul(Wt,de)|0,f=f+Math.imul(Ht,he)|0,w=w+Math.imul(Ht,de)|0;var Ri=(B+g|0)+((f&8191)<<13)|0;B=(w+(f>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,g=Math.imul($t,he),f=Math.imul($t,de),f=f+Math.imul(jt,he)|0,w=Math.imul(jt,de);var Li=(B+g|0)+((f&8191)<<13)|0;return B=(w+(f>>>13)|0)+(Li>>>26)|0,Li&=67108863,x[0]=hi,x[1]=di,x[2]=pi,x[3]=yi,x[4]=mi,x[5]=gi,x[6]=bi,x[7]=wi,x[8]=xi,x[9]=ki,x[10]=Si,x[11]=vi,x[12]=Ei,x[13]=Bi,x[14]=Ai,x[15]=Ii,x[16]=_i,x[17]=Ri,x[18]=Li,B!==0&&(x[19]=B,h.length++),h};Math.imul||(L=S);function U(k,a,l){l.negative=a.negative^k.negative,l.length=k.length+a.length;for(var h=0,d=0,m=0;m<l.length-1;m++){var x=d;d=0;for(var B=h&67108863,g=Math.min(m,a.length-1),f=Math.max(0,m-k.length+1);f<=g;f++){var w=m-f,N=k.words[w]|0,D=a.words[f]|0,K=N*D,X=K&67108863;x=x+(K/67108864|0)|0,X=X+B|0,B=X&67108863,x=x+(X>>>26)|0,d+=x>>>26,x&=67108863}l.words[m]=B,h=x,x=d}return h!==0?l.words[m]=h:l.length--,l._strip()}function M(k,a,l){return U(k,a,l)}o.prototype.mulTo=function(a,l){var h,d=this.length+a.length;return this.length===10&&a.length===10?h=L(this,a,l):d<63?h=S(this,a,l):d<1024?h=U(this,a,l):h=M(this,a,l),h};function z(k,a){this.x=k,this.y=a}z.prototype.makeRBT=function(a){for(var l=new Array(a),h=o.prototype._countBits(a)-1,d=0;d<a;d++)l[d]=this.revBin(d,h,a);return l},z.prototype.revBin=function(a,l,h){if(a===0||a===h-1)return a;for(var d=0,m=0;m<l;m++)d|=(a&1)<<l-m-1,a>>=1;return d},z.prototype.permute=function(a,l,h,d,m,x){for(var B=0;B<x;B++)d[B]=l[a[B]],m[B]=h[a[B]]},z.prototype.transform=function(a,l,h,d,m,x){this.permute(x,a,l,h,d,m);for(var B=1;B<m;B<<=1)for(var g=B<<1,f=Math.cos(2*Math.PI/g),w=Math.sin(2*Math.PI/g),N=0;N<m;N+=g)for(var D=f,K=w,X=0;X<B;X++){var rt=h[N+X],it=d[N+X],_t=h[N+X+B],ut=d[N+X+B],lt=D*_t-K*ut;ut=D*ut+K*_t,_t=lt,h[N+X]=rt+_t,d[N+X]=it+ut,h[N+X+B]=rt-_t,d[N+X+B]=it-ut,X!==g&&(lt=f*D-w*K,K=f*K+w*D,D=lt)}},z.prototype.guessLen13b=function(a,l){var h=Math.max(l,a)|1,d=h&1,m=0;for(h=h/2|0;h;h=h>>>1)m++;return 1<<m+1+d},z.prototype.conjugate=function(a,l,h){if(!(h<=1))for(var d=0;d<h/2;d++){var m=a[d];a[d]=a[h-d-1],a[h-d-1]=m,m=l[d],l[d]=-l[h-d-1],l[h-d-1]=-m}},z.prototype.normalize13b=function(a,l){for(var h=0,d=0;d<l/2;d++){var m=Math.round(a[2*d+1]/l)*8192+Math.round(a[2*d]/l)+h;a[d]=m&67108863,m<67108864?h=0:h=m/67108864|0}return a},z.prototype.convert13b=function(a,l,h,d){for(var m=0,x=0;x<l;x++)m=m+(a[x]|0),h[2*x]=m&8191,m=m>>>13,h[2*x+1]=m&8191,m=m>>>13;for(x=2*l;x<d;++x)h[x]=0;e(m===0),e((m&-8192)===0)},z.prototype.stub=function(a){for(var l=new Array(a),h=0;h<a;h++)l[h]=0;return l},z.prototype.mulp=function(a,l,h){var d=2*this.guessLen13b(a.length,l.length),m=this.makeRBT(d),x=this.stub(d),B=new Array(d),g=new Array(d),f=new Array(d),w=new Array(d),N=new Array(d),D=new Array(d),K=h.words;K.length=d,this.convert13b(a.words,a.length,B,d),this.convert13b(l.words,l.length,w,d),this.transform(B,x,g,f,d,m),this.transform(w,x,N,D,d,m);for(var X=0;X<d;X++){var rt=g[X]*N[X]-f[X]*D[X];f[X]=g[X]*D[X]+f[X]*N[X],g[X]=rt}return this.conjugate(g,f,d),this.transform(g,f,K,x,d,m),this.conjugate(K,x,d),this.normalize13b(K,d),h.negative=a.negative^l.negative,h.length=a.length+l.length,h._strip()},o.prototype.mul=function(a){var l=new o(null);return l.words=new Array(this.length+a.length),this.mulTo(a,l)},o.prototype.mulf=function(a){var l=new o(null);return l.words=new Array(this.length+a.length),M(this,a,l)},o.prototype.imul=function(a){return this.clone().mulTo(a,this)},o.prototype.imuln=function(a){var l=a<0;l&&(a=-a),e(typeof a=="number"),e(a<67108864);for(var h=0,d=0;d<this.length;d++){var m=(this.words[d]|0)*a,x=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=x>>>26,this.words[d]=x&67108863}return h!==0&&(this.words[d]=h,this.length++),l?this.ineg():this},o.prototype.muln=function(a){return this.clone().imuln(a)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(a){var l=A(a);if(l.length===0)return new o(1);for(var h=this,d=0;d<l.length&&l[d]===0;d++,h=h.sqr());if(++d<l.length)for(var m=h.sqr();d<l.length;d++,m=m.sqr())l[d]!==0&&(h=h.mul(m));return h},o.prototype.iushln=function(a){e(typeof a=="number"&&a>=0);var l=a%26,h=(a-l)/26,d=67108863>>>26-l<<26-l,m;if(l!==0){var x=0;for(m=0;m<this.length;m++){var B=this.words[m]&d,g=(this.words[m]|0)-B<<l;this.words[m]=g|x,x=B>>>26-l}x&&(this.words[m]=x,this.length++)}if(h!==0){for(m=this.length-1;m>=0;m--)this.words[m+h]=this.words[m];for(m=0;m<h;m++)this.words[m]=0;this.length+=h}return this._strip()},o.prototype.ishln=function(a){return e(this.negative===0),this.iushln(a)},o.prototype.iushrn=function(a,l,h){e(typeof a=="number"&&a>=0);var d;l?d=(l-l%26)/26:d=0;var m=a%26,x=Math.min((a-m)/26,this.length),B=67108863^67108863>>>m<<m,g=h;if(d-=x,d=Math.max(0,d),g){for(var f=0;f<x;f++)g.words[f]=this.words[f];g.length=x}if(x!==0)if(this.length>x)for(this.length-=x,f=0;f<this.length;f++)this.words[f]=this.words[f+x];else this.words[0]=0,this.length=1;var w=0;for(f=this.length-1;f>=0&&(w!==0||f>=d);f--){var N=this.words[f]|0;this.words[f]=w<<26-m|N>>>m,w=N&B}return g&&w!==0&&(g.words[g.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(a,l,h){return e(this.negative===0),this.iushrn(a,l,h)},o.prototype.shln=function(a){return this.clone().ishln(a)},o.prototype.ushln=function(a){return this.clone().iushln(a)},o.prototype.shrn=function(a){return this.clone().ishrn(a)},o.prototype.ushrn=function(a){return this.clone().iushrn(a)},o.prototype.testn=function(a){e(typeof a=="number"&&a>=0);var l=a%26,h=(a-l)/26,d=1<<l;if(this.length<=h)return!1;var m=this.words[h];return!!(m&d)},o.prototype.imaskn=function(a){e(typeof a=="number"&&a>=0);var l=a%26,h=(a-l)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(l!==0&&h++,this.length=Math.min(h,this.length),l!==0){var d=67108863^67108863>>>l<<l;this.words[this.length-1]&=d}return this._strip()},o.prototype.maskn=function(a){return this.clone().imaskn(a)},o.prototype.iaddn=function(a){return e(typeof a=="number"),e(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},o.prototype._iaddn=function(a){this.words[0]+=a;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(a){if(e(typeof a=="number"),e(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},o.prototype.addn=function(a){return this.clone().iaddn(a)},o.prototype.subn=function(a){return this.clone().isubn(a)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(a,l,h){var d=a.length+h,m;this._expand(d);var x,B=0;for(m=0;m<a.length;m++){x=(this.words[m+h]|0)+B;var g=(a.words[m]|0)*l;x-=g&67108863,B=(x>>26)-(g/67108864|0),this.words[m+h]=x&67108863}for(;m<this.length-h;m++)x=(this.words[m+h]|0)+B,B=x>>26,this.words[m+h]=x&67108863;if(B===0)return this._strip();for(e(B===-1),B=0,m=0;m<this.length;m++)x=-(this.words[m]|0)+B,B=x>>26,this.words[m]=x&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(a,l){var h=this.length-a.length,d=this.clone(),m=a,x=m.words[m.length-1]|0,B=this._countBits(x);h=26-B,h!==0&&(m=m.ushln(h),d.iushln(h),x=m.words[m.length-1]|0);var g=d.length-m.length,f;if(l!=="mod"){f=new o(null),f.length=g+1,f.words=new Array(f.length);for(var w=0;w<f.length;w++)f.words[w]=0}var N=d.clone()._ishlnsubmul(m,1,g);N.negative===0&&(d=N,f&&(f.words[g]=1));for(var D=g-1;D>=0;D--){var K=(d.words[m.length+D]|0)*67108864+(d.words[m.length+D-1]|0);for(K=Math.min(K/x|0,67108863),d._ishlnsubmul(m,K,D);d.negative!==0;)K--,d.negative=0,d._ishlnsubmul(m,1,D),d.isZero()||(d.negative^=1);f&&(f.words[D]=K)}return f&&f._strip(),d._strip(),l!=="div"&&h!==0&&d.iushrn(h),{div:f||null,mod:d}},o.prototype.divmod=function(a,l,h){if(e(!a.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var d,m,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,l),l!=="mod"&&(d=x.div.neg()),l!=="div"&&(m=x.mod.neg(),h&&m.negative!==0&&m.iadd(a)),{div:d,mod:m}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),l),l!=="mod"&&(d=x.div.neg()),{div:d,mod:x.mod}):(this.negative&a.negative)!==0?(x=this.neg().divmod(a.neg(),l),l!=="div"&&(m=x.mod.neg(),h&&m.negative!==0&&m.isub(a)),{div:x.div,mod:m}):a.length>this.length||this.cmp(a)<0?{div:new o(0),mod:this}:a.length===1?l==="div"?{div:this.divn(a.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new o(this.modrn(a.words[0]))}:this._wordDiv(a,l)},o.prototype.div=function(a){return this.divmod(a,"div",!1).div},o.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},o.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},o.prototype.divRound=function(a){var l=this.divmod(a);if(l.mod.isZero())return l.div;var h=l.div.negative!==0?l.mod.isub(a):l.mod,d=a.ushrn(1),m=a.andln(1),x=h.cmp(d);return x<0||m===1&&x===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modrn=function(a){var l=a<0;l&&(a=-a),e(a<=67108863);for(var h=(1<<26)%a,d=0,m=this.length-1;m>=0;m--)d=(h*d+(this.words[m]|0))%a;return l?-d:d},o.prototype.modn=function(a){return this.modrn(a)},o.prototype.idivn=function(a){var l=a<0;l&&(a=-a),e(a<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var m=(this.words[d]|0)+h*67108864;this.words[d]=m/a|0,h=m%a}return this._strip(),l?this.ineg():this},o.prototype.divn=function(a){return this.clone().idivn(a)},o.prototype.egcd=function(a){e(a.negative===0),e(!a.isZero());var l=this,h=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var d=new o(1),m=new o(0),x=new o(0),B=new o(1),g=0;l.isEven()&&h.isEven();)l.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),w=l.clone();!l.isZero();){for(var N=0,D=1;(l.words[0]&D)===0&&N<26;++N,D<<=1);if(N>0)for(l.iushrn(N);N-- >0;)(d.isOdd()||m.isOdd())&&(d.iadd(f),m.isub(w)),d.iushrn(1),m.iushrn(1);for(var K=0,X=1;(h.words[0]&X)===0&&K<26;++K,X<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||B.isOdd())&&(x.iadd(f),B.isub(w)),x.iushrn(1),B.iushrn(1);l.cmp(h)>=0?(l.isub(h),d.isub(x),m.isub(B)):(h.isub(l),x.isub(d),B.isub(m))}return{a:x,b:B,gcd:h.iushln(g)}},o.prototype._invmp=function(a){e(a.negative===0),e(!a.isZero());var l=this,h=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var d=new o(1),m=new o(0),x=h.clone();l.cmpn(1)>0&&h.cmpn(1)>0;){for(var B=0,g=1;(l.words[0]&g)===0&&B<26;++B,g<<=1);if(B>0)for(l.iushrn(B);B-- >0;)d.isOdd()&&d.iadd(x),d.iushrn(1);for(var f=0,w=1;(h.words[0]&w)===0&&f<26;++f,w<<=1);if(f>0)for(h.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(x),m.iushrn(1);l.cmp(h)>=0?(l.isub(h),d.isub(m)):(h.isub(l),m.isub(d))}var N;return l.cmpn(1)===0?N=d:N=m,N.cmpn(0)<0&&N.iadd(a),N},o.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var l=this.clone(),h=a.clone();l.negative=0,h.negative=0;for(var d=0;l.isEven()&&h.isEven();d++)l.iushrn(1),h.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;h.isEven();)h.iushrn(1);var m=l.cmp(h);if(m<0){var x=l;l=h,h=x}else if(m===0||h.cmpn(1)===0)break;l.isub(h)}while(!0);return h.iushln(d)},o.prototype.invm=function(a){return this.egcd(a).a.umod(a)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(a){return this.words[0]&a},o.prototype.bincn=function(a){e(typeof a=="number");var l=a%26,h=(a-l)/26,d=1<<l;if(this.length<=h)return this._expand(h+1),this.words[h]|=d,this;for(var m=d,x=h;m!==0&&x<this.length;x++){var B=this.words[x]|0;B+=m,m=B>>>26,B&=67108863,this.words[x]=B}return m!==0&&(this.words[x]=m,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(a){var l=a<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var h;if(this.length>1)h=1;else{l&&(a=-a),e(a<=67108863,"Number is too big");var d=this.words[0]|0;h=d===a?0:d<a?-1:1}return this.negative!==0?-h|0:h},o.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var l=this.ucmp(a);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var l=0,h=this.length-1;h>=0;h--){var d=this.words[h]|0,m=a.words[h]|0;if(d!==m){d<m?l=-1:d>m&&(l=1);break}}return l},o.prototype.gtn=function(a){return this.cmpn(a)===1},o.prototype.gt=function(a){return this.cmp(a)===1},o.prototype.gten=function(a){return this.cmpn(a)>=0},o.prototype.gte=function(a){return this.cmp(a)>=0},o.prototype.ltn=function(a){return this.cmpn(a)===-1},o.prototype.lt=function(a){return this.cmp(a)===-1},o.prototype.lten=function(a){return this.cmpn(a)<=0},o.prototype.lte=function(a){return this.cmp(a)<=0},o.prototype.eqn=function(a){return this.cmpn(a)===0},o.prototype.eq=function(a){return this.cmp(a)===0},o.red=function(a){return new tt(a)},o.prototype.toRed=function(a){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},o.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(a){return this.red=a,this},o.prototype.forceRed=function(a){return e(!this.red,"Already a number in reduction context"),this._forceRed(a)},o.prototype.redAdd=function(a){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},o.prototype.redIAdd=function(a){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},o.prototype.redSub=function(a){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},o.prototype.redISub=function(a){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},o.prototype.redShl=function(a){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},o.prototype.redMul=function(a){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},o.prototype.redIMul=function(a){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},o.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(a){return e(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var G={k256:null,p224:null,p192:null,p25519:null};function H(k,a){this.name=k,this.p=new o(a,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var a=new o(null);return a.words=new Array(Math.ceil(this.n/13)),a},H.prototype.ireduce=function(a){var l=a,h;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),h=l.bitLength();while(h>this.n);var d=h<this.n?-1:l.ucmp(this.p);return d===0?(l.words[0]=0,l.length=1):d>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},H.prototype.split=function(a,l){a.iushrn(this.n,0,l)},H.prototype.imulK=function(a){return a.imul(this.k)};function V(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(V,H),V.prototype.split=function(a,l){for(var h=4194303,d=Math.min(a.length,9),m=0;m<d;m++)l.words[m]=a.words[m];if(l.length=d,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(l.words[l.length++]=x&h,m=10;m<a.length;m++){var B=a.words[m]|0;a.words[m-10]=(B&h)<<4|x>>>22,x=B}x>>>=22,a.words[m-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},V.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var l=0,h=0;h<a.length;h++){var d=a.words[h]|0;l+=d*977,a.words[h]=l&67108863,l=d*64+(l/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function Z(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(Z,H);function Y(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Y,H);function St(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(St,H),St.prototype.imulK=function(a){for(var l=0,h=0;h<a.length;h++){var d=(a.words[h]|0)*19+l,m=d&67108863;d>>>=26,a.words[h]=m,l=d}return l!==0&&(a.words[a.length++]=l),a},o._prime=function(a){if(G[a])return G[a];var l;if(a==="k256")l=new V;else if(a==="p224")l=new Z;else if(a==="p192")l=new Y;else if(a==="p25519")l=new St;else throw new Error("Unknown prime "+a);return G[a]=l,l};function tt(k){if(typeof k=="string"){var a=o._prime(k);this.m=a.p,this.prime=a}else e(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}tt.prototype._verify1=function(a){e(a.negative===0,"red works only with positives"),e(a.red,"red works only with red numbers")},tt.prototype._verify2=function(a,l){e((a.negative|l.negative)===0,"red works only with positives"),e(a.red&&a.red===l.red,"red works only with red numbers")},tt.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},tt.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},tt.prototype.add=function(a,l){this._verify2(a,l);var h=a.add(l);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},tt.prototype.iadd=function(a,l){this._verify2(a,l);var h=a.iadd(l);return h.cmp(this.m)>=0&&h.isub(this.m),h},tt.prototype.sub=function(a,l){this._verify2(a,l);var h=a.sub(l);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},tt.prototype.isub=function(a,l){this._verify2(a,l);var h=a.isub(l);return h.cmpn(0)<0&&h.iadd(this.m),h},tt.prototype.shl=function(a,l){return this._verify1(a),this.imod(a.ushln(l))},tt.prototype.imul=function(a,l){return this._verify2(a,l),this.imod(a.imul(l))},tt.prototype.mul=function(a,l){return this._verify2(a,l),this.imod(a.mul(l))},tt.prototype.isqr=function(a){return this.imul(a,a.clone())},tt.prototype.sqr=function(a){return this.mul(a,a)},tt.prototype.sqrt=function(a){if(a.isZero())return a.clone();var l=this.m.andln(3);if(e(l%2===1),l===3){var h=this.m.add(new o(1)).iushrn(2);return this.pow(a,h)}for(var d=this.m.subn(1),m=0;!d.isZero()&&d.andln(1)===0;)m++,d.iushrn(1);e(!d.isZero());var x=new o(1).toRed(this),B=x.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,g).cmp(B)!==0;)f.redIAdd(B);for(var w=this.pow(f,d),N=this.pow(a,d.addn(1).iushrn(1)),D=this.pow(a,d),K=m;D.cmp(x)!==0;){for(var X=D,rt=0;X.cmp(x)!==0;rt++)X=X.redSqr();e(rt<K);var it=this.pow(w,new o(1).iushln(K-rt-1));N=N.redMul(it),w=it.redSqr(),D=D.redMul(w),K=rt}return N},tt.prototype.invm=function(a){var l=a._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},tt.prototype.pow=function(a,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return a.clone();var h=4,d=new Array(1<<h);d[0]=new o(1).toRed(this),d[1]=a;for(var m=2;m<d.length;m++)d[m]=this.mul(d[m-1],a);var x=d[0],B=0,g=0,f=l.bitLength()%26;for(f===0&&(f=26),m=l.length-1;m>=0;m--){for(var w=l.words[m],N=f-1;N>=0;N--){var D=w>>N&1;if(x!==d[0]&&(x=this.sqr(x)),D===0&&B===0){g=0;continue}B<<=1,B|=D,g++,!(g!==h&&(m!==0||N!==0))&&(x=this.mul(x,d[B]),g=0,B=0)}f=26}return x},tt.prototype.convertTo=function(a){var l=a.umod(this.m);return l===a?l.clone():l},tt.prototype.convertFrom=function(a){var l=a.clone();return l.red=null,l},o.mont=function(a){return new at(a)};function at(k){tt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(at,tt),at.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},at.prototype.convertFrom=function(a){var l=this.imod(a.mul(this.rinv));return l.red=null,l},at.prototype.imul=function(a,l){if(a.isZero()||l.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(l),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=h.isub(d).iushrn(this.shift),x=m;return m.cmp(this.m)>=0?x=m.isub(this.m):m.cmpn(0)<0&&(x=m.iadd(this.m)),x._forceRed(this)},at.prototype.mul=function(a,l){if(a.isZero()||l.isZero())return new o(0)._forceRed(this);var h=a.mul(l),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=h.isub(d).iushrn(this.shift),x=m;return m.cmp(this.m)>=0?x=m.isub(this.m):m.cmpn(0)<0&&(x=m.iadd(this.m)),x._forceRed(this)},at.prototype.invm=function(a){var l=this.imod(a._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof ya=="undefined"||ya,$u)});var Zu=Te((ga,Gu)=>{var Yo=Wn(),sr=Yo.Buffer;function ju(r,t){for(var e in r)t[e]=r[e]}sr.from&&sr.alloc&&sr.allocUnsafe&&sr.allocUnsafeSlow?Gu.exports=Yo:(ju(Yo,ga),ga.Buffer=en);function en(r,t,e){return sr(r,t,e)}en.prototype=Object.create(sr.prototype);ju(sr,en);en.from=function(r,t,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return sr(r,t,e)};en.alloc=function(r,t,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=sr(r);return t!==void 0?typeof e=="string"?n.fill(t,e):n.fill(t):n.fill(0),n};en.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return sr(r)};en.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Yo.SlowBuffer(r)}});var Ju=Te((Sb,Yu)=>{"use strict";var Jo=Zu().Buffer;function a0(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),s=o.charCodeAt(0);if(t[s]!==255)throw new TypeError(o+" is ambiguous");t[s]=n}var i=r.length,c=r.charAt(0),u=Math.log(i)/Math.log(256),p=Math.log(256)/Math.log(i);function y(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=Jo.from(E)),!Jo.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var _=0,A=0,S=0,L=E.length;S!==L&&E[S]===0;)S++,_++;for(var U=(L-S)*p+1>>>0,M=new Uint8Array(U);S!==L;){for(var z=E[S],G=0,H=U-1;(z!==0||G<A)&&H!==-1;H--,G++)z+=256*M[H]>>>0,M[H]=z%i>>>0,z=z/i>>>0;if(z!==0)throw new Error("Non-zero carry");A=G,S++}for(var V=U-A;V!==U&&M[V]===0;)V++;for(var Z=c.repeat(_);V<U;++V)Z+=r.charAt(M[V]);return Z}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return Jo.alloc(0);for(var _=0,A=0,S=0;E[_]===c;)A++,_++;for(var L=(E.length-_)*u+1>>>0,U=new Uint8Array(L);_<E.length;){var M=E.charCodeAt(_);if(M>255)return;var z=t[M];if(z===255)return;for(var G=0,H=L-1;(z!==0||G<S)&&H!==-1;H--,G++)z+=i*U[H]>>>0,U[H]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");S=G,_++}for(var V=L-S;V!==L&&U[V]===0;)V++;var Z=Jo.allocUnsafe(A+(L-V));Z.fill(0,0,A);for(var Y=A;V!==L;)Z[Y++]=U[V++];return Z}function I(E){var _=b(E);if(_)return _;throw new Error("Non-base"+i+" character")}return{encode:y,decodeUnsafe:b,decode:I}}Yu.exports=a0});var ba=Te((vb,Xu)=>{var c0=Ju(),u0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Xu.exports=c0(u0)});var Qu=Te(Sa=>{"use strict";function gr(r,t,e){return t<=r&&r<=e}function rs(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function l0(r){for(var t=String(r),e=t.length,n=0,o=[];n<e;){var s=t.charCodeAt(n);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(n===e-1)o.push(65533);else{var i=r.charCodeAt(n+1);if(56320<=i&&i<=57343){var c=s&1023,u=i&1023;o.push(65536+(c<<10)+u),n+=1}else o.push(65533)}n+=1}return o}function h0(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Xo=-1;function ka(r){this.tokens=[].slice.call(r)}ka.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Xo},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var vn=-1;function xa(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Qo="utf-8";function ts(r,t){if(!(this instanceof ts))return new ts(r,t);if(r=r!==void 0?String(r).toLowerCase():Qo,r!==Qo)throw new Error("Encoding not supported. Only utf-8 is supported");t=rs(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ts.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=rs(e),this._streaming||(this._decoder=new d0({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var o=new ka(n),s=[],i;!o.endOfStream()&&(i=this._decoder.handler(o,o.read()),i!==vn);)i!==null&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));if(!this._streaming){do{if(i=this._decoder.handler(o,o.read()),i===vn)break;i!==null&&(Array.isArray(i)?s.push.apply(s,i):s.push(i))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),h0(s)}};function es(r,t){if(!(this instanceof es))return new es(r,t);if(r=r!==void 0?String(r).toLowerCase():Qo,r!==Qo)throw new Error("Encoding not supported. Only utf-8 is supported");t=rs(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}es.prototype={encode:function(t,e){t=t?String(t):"",e=rs(e),this._streaming||(this._encoder=new p0(this._options)),this._streaming=!!e.stream;for(var n=[],o=new ka(l0(t)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==vn);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==vn;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function d0(r){var t=r.fatal,e=0,n=0,o=0,s=128,i=191;this.handler=function(c,u){if(u===Xo&&o!==0)return o=0,xa(t);if(u===Xo)return vn;if(o===0){if(gr(u,0,127))return u;if(gr(u,194,223))o=1,e=u-192;else if(gr(u,224,239))u===224&&(s=160),u===237&&(i=159),o=2,e=u-224;else if(gr(u,240,244))u===240&&(s=144),u===244&&(i=143),o=3,e=u-240;else return xa(t);return e=e<<6*o,null}if(!gr(u,s,i))return e=o=n=0,s=128,i=191,c.prepend(u),xa(t);if(s=128,i=191,n+=1,e+=u-128<<6*(o-n),n!==o)return null;var p=e;return e=o=n=0,p}}function p0(r){var t=r.fatal;this.handler=function(e,n){if(n===Xo)return vn;if(gr(n,0,127))return n;var o,s;gr(n,128,2047)?(o=1,s=192):gr(n,2048,65535)?(o=2,s=224):gr(n,65536,1114111)&&(o=3,s=240);for(var i=[(n>>6*o)+s];o>0;){var c=n>>6*(o-1);i.push(128|c&63),o-=1}return i}}Sa.TextEncoder=es;Sa.TextDecoder=ts});var of=Te(Et=>{"use strict";var y0=Et&&Et.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),m0=Et&&Et.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),ir=Et&&Et.__decorate||function(r,t,e,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var c=r.length-1;c>=0;c--)(i=r[c])&&(s=(o<3?i(s):o>3?i(t,e,s):i(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},g0=Et&&Et.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&y0(t,r,e);return m0(t,r),t},tf=Et&&Et.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Et,"__esModule",{value:!0});Et.deserializeUnchecked=Et.deserialize=Et.serialize=Et.BinaryReader=Et.BinaryWriter=Et.BorshError=Et.baseDecode=Et.baseEncode=void 0;var Or=tf(ma()),ef=tf(ba()),b0=g0(Qu()),w0=typeof TextDecoder!="function"?b0.TextDecoder:TextDecoder,x0=new w0("utf-8",{fatal:!0});function k0(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),ef.default.encode(Buffer.from(r))}Et.baseEncode=k0;function S0(r){return Buffer.from(ef.default.decode(r))}Et.baseDecode=S0;var va=1024,ke=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Et.BorshError=ke;var ns=class{constructor(){this.buf=Buffer.alloc(va),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(va)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Or.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Or.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Or.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Or.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(va)]),this.length+=t.length}writeString(t){this.maybeResize();let e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(let n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};Et.BinaryWriter=ns;function ar(r,t,e){let n=e.value;e.value=function(...o){try{return n.apply(this,o)}catch(s){if(s instanceof RangeError){let i=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new ke("Reached the end of buffer when deserializing")}throw s}}}var Pe=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new Or.default(t,"le")}readU128(){let t=this.readBuffer(16);return new Or.default(t,"le")}readU256(){let t=this.readBuffer(32);return new Or.default(t,"le")}readU512(){let t=this.readBuffer(64);return new Or.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ke(`Expected buffer length ${t} isn't within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return x0.decode(e)}catch(n){throw new ke(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),n=Array();for(let o=0;o<e;++o)n.push(t());return n}};ir([ar],Pe.prototype,"readU8",null);ir([ar],Pe.prototype,"readU16",null);ir([ar],Pe.prototype,"readU32",null);ir([ar],Pe.prototype,"readU64",null);ir([ar],Pe.prototype,"readU128",null);ir([ar],Pe.prototype,"readU256",null);ir([ar],Pe.prototype,"readU512",null);ir([ar],Pe.prototype,"readString",null);ir([ar],Pe.prototype,"readFixedArray",null);ir([ar],Pe.prototype,"readArray",null);Et.BinaryReader=Pe;function rf(r){return r.charAt(0).toUpperCase()+r.slice(1)}function rn(r,t,e,n,o){try{if(typeof n=="string")o[`write${rf(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new ke(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new ke(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let s=0;s<n[1];s++)rn(r,null,e[s],n[0],o)}else o.writeArray(e,s=>{rn(r,t,s,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),rn(r,t,e,n.type,o));break}case"map":{o.writeU32(e.size),e.forEach((s,i)=>{rn(r,t,i,n.key,o),rn(r,t,s,n.value,o)});break}default:throw new ke(`FieldType ${n} unrecognized`)}else nf(r,e,o)}catch(s){throw s instanceof ke&&s.addToFieldPath(t),s}}function nf(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}let n=r.get(t.constructor);if(!n)throw new ke(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,s])=>{rn(r,o,t[o],s,e)});else if(n.kind==="enum"){let o=t[n.field];for(let s=0;s<n.values.length;++s){let[i,c]=n.values[s];if(i===o){e.writeU8(s),rn(r,i,t[i],c,e);break}}}else throw new ke(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function v0(r,t,e=ns){let n=new e;return nf(r,t,n),n.toArray()}Et.serialize=v0;function nn(r,t,e,n){try{if(typeof e=="string")return n[`read${rf(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){let o=[];for(let s=0;s<e[1];s++)o.push(nn(r,null,e[0],n));return o}else return n.readArray(()=>nn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?nn(r,t,e.type,n):void 0;if(e.kind==="map"){let o=new Map,s=n.readU32();for(let i=0;i<s;i++){let c=nn(r,t,e.key,n),u=nn(r,t,e.value,n);o.set(c,u)}return o}return Ea(r,e,n)}catch(o){throw o instanceof ke&&o.addToFieldPath(t),o}}function Ea(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);let n=r.get(t);if(!n)throw new ke(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){let o={};for(let[s,i]of r.get(t).fields)o[s]=nn(r,s,i,e);return new t(o)}if(n.kind==="enum"){let o=e.readU8();if(o>=n.values.length)throw new ke(`Enum index: ${o} is out of range`);let[s,i]=n.values[o],c=nn(r,s,i,e);return new t({[s]:c})}throw new ke(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function E0(r,t,e,n=Pe){let o=new n(e),s=Ea(r,t,o);if(o.offset<e.length)throw new ke(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return s}Et.deserialize=E0;function B0(r,t,e,n=Pe){let o=new n(e);return Ea(r,t,o)}Et.deserializeUnchecked=B0});var _a=Te(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.s16=P.s8=P.nu64be=P.u48be=P.u40be=P.u32be=P.u24be=P.u16be=P.nu64=P.u48=P.u40=P.u32=P.u24=P.u16=P.u8=P.offset=P.greedy=P.Constant=P.UTF8=P.CString=P.Blob=P.Boolean=P.BitField=P.BitStructure=P.VariantLayout=P.Union=P.UnionLayoutDiscriminator=P.UnionDiscriminator=P.Structure=P.Sequence=P.DoubleBE=P.Double=P.FloatBE=P.Float=P.NearInt64BE=P.NearInt64=P.NearUInt64BE=P.NearUInt64=P.IntBE=P.Int=P.UIntBE=P.UInt=P.OffsetLayout=P.GreedyCount=P.ExternalLayout=P.bindConstructorLayout=P.nameWithProperty=P.Layout=P.uint8ArrayToBuffer=P.checkUint8Array=void 0;P.constant=P.utf8=P.cstr=P.blob=P.unionLayoutDiscriminator=P.union=P.seq=P.bits=P.struct=P.f64be=P.f64=P.f32be=P.f32=P.ns64be=P.s48be=P.s40be=P.s32be=P.s24be=P.s16be=P.ns64=P.s48=P.s40=P.s32=P.s24=void 0;var Aa=Wn();function An(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}P.checkUint8Array=An;function gt(r){return An(r),Aa.Buffer.from(r.buffer,r.byteOffset,r.length)}P.uint8ArrayToBuffer=gt;var bt=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};P.Layout=bt;function Ia(r,t){return t.property?r+"["+t.property+"]":r}P.nameWithProperty=Ia;function A0(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof bt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}P.bindConstructorLayout=A0;var ve=class extends bt{isCount(){throw new Error("ExternalLayout is abstract")}};P.ExternalLayout=ve;var os=class extends ve{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){An(t);let n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};P.GreedyCount=os;var Zn=class extends ve{constructor(t,e=0,n){if(!(t instanceof bt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Fe||this.layout instanceof De}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};P.OffsetLayout=Zn;var Fe=class extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return gt(e).writeUIntLE(t,n,this.span),this.span}};P.UInt=Fe;var De=class extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return gt(e).writeUIntBE(t,n,this.span),this.span}};P.UIntBE=De;var br=class extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readIntLE(e,this.span)}encode(t,e,n=0){return gt(e).writeIntLE(t,n,this.span),this.span}};P.Int=br;var Ur=class extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readIntBE(e,this.span)}encode(t,e,n=0){return gt(e).writeIntBE(t,n,this.span),this.span}};P.IntBE=Ur;var Ba=Math.pow(2,32);function ks(r){let t=Math.floor(r/Ba),e=r-t*Ba;return{hi32:t,lo32:e}}function Ss(r,t){return r*Ba+t}var ss=class extends bt{constructor(t){super(8,t)}decode(t,e=0){let n=gt(t),o=n.readUInt32LE(e),s=n.readUInt32LE(e+4);return Ss(s,o)}encode(t,e,n=0){let o=ks(t),s=gt(e);return s.writeUInt32LE(o.lo32,n),s.writeUInt32LE(o.hi32,n+4),8}};P.NearUInt64=ss;var is=class extends bt{constructor(t){super(8,t)}decode(t,e=0){let n=gt(t),o=n.readUInt32BE(e),s=n.readUInt32BE(e+4);return Ss(o,s)}encode(t,e,n=0){let o=ks(t),s=gt(e);return s.writeUInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};P.NearUInt64BE=is;var as=class extends bt{constructor(t){super(8,t)}decode(t,e=0){let n=gt(t),o=n.readUInt32LE(e),s=n.readInt32LE(e+4);return Ss(s,o)}encode(t,e,n=0){let o=ks(t),s=gt(e);return s.writeUInt32LE(o.lo32,n),s.writeInt32LE(o.hi32,n+4),8}};P.NearInt64=as;var cs=class extends bt{constructor(t){super(8,t)}decode(t,e=0){let n=gt(t),o=n.readInt32BE(e),s=n.readUInt32BE(e+4);return Ss(o,s)}encode(t,e,n=0){let o=ks(t),s=gt(e);return s.writeInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};P.NearInt64BE=cs;var us=class extends bt{constructor(t){super(4,t)}decode(t,e=0){return gt(t).readFloatLE(e)}encode(t,e,n=0){return gt(e).writeFloatLE(t,n),4}};P.Float=us;var fs=class extends bt{constructor(t){super(4,t)}decode(t,e=0){return gt(t).readFloatBE(e)}encode(t,e,n=0){return gt(e).writeFloatBE(t,n),4}};P.FloatBE=fs;var ls=class extends bt{constructor(t){super(8,t)}decode(t,e=0){return gt(t).readDoubleLE(e)}encode(t,e,n=0){return gt(e).writeDoubleLE(t,n),8}};P.Double=ls;var hs=class extends bt{constructor(t){super(8,t)}decode(t,e=0){return gt(t).readDoubleBE(e)}encode(t,e,n=0){return gt(e).writeDoubleBE(t,n),8}};P.DoubleBE=hs;var ds=class extends bt{constructor(t,e,n){if(!(t instanceof bt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ve&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof ve)&&0<t.span&&(o=e*t.span),super(o,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof ve&&(o=o.decode(t,e)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(t,e+n),++s}return n}decode(t,e=0){let n=[],o=0,s=this.count;for(s instanceof ve&&(s=s.decode(t,e));o<s;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return n}encode(t,e,n=0){let o=this.elementLayout,s=t.reduce((i,c)=>i+o.encode(c,e,n+i),0);return this.count instanceof ve&&this.count.encode(t.length,e,n),s}};P.Sequence=ds;var ps=class extends bt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((s,i)=>s&&i instanceof bt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(let s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((s,i)=>s+i.getSpan(),0)}catch(s){}super(o,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,s)=>{let i=s.getSpan(t,e);return e+=i,o+i},0)}catch(o){throw new RangeError("indeterminate span")}return n}decode(t,e=0){An(t);let n=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){let o=n,s=0,i=0;for(let c of this.fields){let u=c.span;if(i=0<u?u:0,c.property!==void 0){let p=t[c.property];p!==void 0&&(i=c.encode(p,e,n),0>u&&(u=c.getSpan(e,n)))}s=n,n+=u}return s+i-o}fromArray(t){let e=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(let n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};P.Structure=ps;var Yn=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}};P.UnionDiscriminator=Yn;var Bn=class extends Yn{constructor(t,e){if(!(t instanceof ve&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};P.UnionLayoutDiscriminator=Bn;var Jn=class extends bt{constructor(t,e,n){let o;if(t instanceof Fe||t instanceof De)o=new Bn(new Zn(t));else if(t instanceof ve&&t.isCount())o=new Bn(t);else if(t instanceof Yn)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof bt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let s=-1;e&&(s=e.span,0<=s&&(t instanceof Fe||t instanceof De)&&(s+=o.layout.span)),super(s,n),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof Fe||t instanceof De,this.defaultLayout=e,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return i(c)},this.configGetSourceVariant=function(c){i=c.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n,o=this.discriminator,s=o.decode(t,e),i=this.registry[s];if(i===void 0){let c=this.defaultLayout,u=0;this.usesPrefixDiscriminator&&(u=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[c.property]=c.decode(t,e+u)}else n=i.decode(t,e);return n}encode(t,e,n=0){let o=this.getSourceVariant(t);if(o===void 0){let s=this.discriminator,i=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(t[s.property],e,n),c+i.encode(t[i.property],e,n+c)}return o.encode(t,e,n)}addVariant(t,e,n){let o=new ys(this,t,e,n);return this.registry[t]=o,o}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};P.Union=Jn;var ys=class extends bt{constructor(t,e,n,o){if(!(t instanceof Jn))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof bt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,o),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+n)),n+o}decode(t,e=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let s=o;if(this.layout&&(this.layout.encode(t[this.property],e,n+o),s+=this.layout.getSpan(e,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};P.VariantLayout=ys;function En(r){return 0>r&&(r+=4294967296),r}var Xn=class extends bt{constructor(t,e,n){if(!(t instanceof Fe||t instanceof De))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(s){return o=En(s),this},this._packedGetValue=function(){return o}}decode(t,e=0){let n=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,e,n=0){let o=this.word.decode(e,n);this._packedSetValue(o);for(let s of this.fields)if(s.property!==void 0){let i=t[s.property];i!==void 0&&s.encode(i)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){let n=new Qn(this,t,e);return this.fields.push(n),n}addBoolean(t){let e=new ms(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}};P.BitStructure=Xn;var Qn=class{constructor(t,e,n){if(!(t instanceof Xn))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");let o=8*t.span,s=t.fields.reduce((i,c)=>i+c.bits,0);if(e+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-e),this.wordMask=En(this.valueMask<<this.start),this.property=n}decode(t,e){let n=this.container._packedGetValue();return En(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==En(t&this.valueMask))throw new TypeError(Ia("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),n=En(t<<this.start);this.container._packedSetValue(En(e&~this.wordMask)|n)}};P.BitField=Qn;var ms=class extends Qn{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};P.Boolean=ms;var gs=class extends bt{constructor(t,e){if(!(t instanceof ve&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ve||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),gt(t).slice(e,e+n)}encode(t,e,n){let o=this.length;if(this.length instanceof ve&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(Ia("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>e.length)throw new RangeError("encoding overruns Uint8Array");let s=gt(t);return gt(e).write(s.toString("hex"),n,o,"hex"),this.length instanceof ve&&this.length.encode(o,e,n),o}};P.Blob=gs;var bs=class extends bt{constructor(t){super(-1,t)}getSpan(t,e=0){An(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){let n=this.getSpan(t,e);return gt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let o=Aa.Buffer.from(t,"utf8"),s=o.length;if(n+s>e.length)throw new RangeError("encoding overruns Buffer");let i=gt(e);return o.copy(i,n),i[n+s]=0,s+1}};P.CString=bs;var ws=class extends bt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return An(t),t.length-e}decode(t,e=0){let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return gt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let o=Aa.Buffer.from(t,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(gt(e),n),s}};P.UTF8=ws;var xs=class extends bt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};P.Constant=xs;P.greedy=(r,t)=>new os(r,t);P.offset=(r,t,e)=>new Zn(r,t,e);P.u8=r=>new Fe(1,r);P.u16=r=>new Fe(2,r);P.u24=r=>new Fe(3,r);P.u32=r=>new Fe(4,r);P.u40=r=>new Fe(5,r);P.u48=r=>new Fe(6,r);P.nu64=r=>new ss(r);P.u16be=r=>new De(2,r);P.u24be=r=>new De(3,r);P.u32be=r=>new De(4,r);P.u40be=r=>new De(5,r);P.u48be=r=>new De(6,r);P.nu64be=r=>new is(r);P.s8=r=>new br(1,r);P.s16=r=>new br(2,r);P.s24=r=>new br(3,r);P.s32=r=>new br(4,r);P.s40=r=>new br(5,r);P.s48=r=>new br(6,r);P.ns64=r=>new as(r);P.s16be=r=>new Ur(2,r);P.s24be=r=>new Ur(3,r);P.s32be=r=>new Ur(4,r);P.s40be=r=>new Ur(5,r);P.s48be=r=>new Ur(6,r);P.ns64be=r=>new cs(r);P.f32=r=>new us(r);P.f32be=r=>new fs(r);P.f64=r=>new ls(r);P.f64be=r=>new hs(r);P.struct=(r,t,e)=>new ps(r,t,e);P.bits=(r,t,e)=>new Xn(r,t,e);P.seq=(r,t,e)=>new ds(r,t,e);P.union=(r,t,e)=>new Jn(r,t,e);P.unionLayoutDiscriminator=(r,t)=>new Bn(r,t);P.blob=(r,t)=>new gs(r,t);P.cstr=r=>new bs(r);P.utf8=(r,t)=>new ws(r,t);P.constant=(r,t)=>new xs(r,t)});var sf=Te(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var vs;function I0(r){{let t=Buffer.from(r);t.reverse();let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return vs.toBigInt(r,!1)}In.toBigIntLE=I0;function _0(r){{let t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return vs.toBigInt(r,!0)}In.toBigIntBE=_0;function R0(r,t){{let e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}return vs.fromBigInt(r,Buffer.allocUnsafe(t),!1)}In.toBufferLE=R0;function L0(r,t){{let e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}return vs.fromBigInt(r,Buffer.allocUnsafe(t),!0)}In.toBufferBE=L0});function ro(){if(!Is&&(Is=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Is))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Is(U0)}var Is,U0,Pa=Le(()=>{U0=new Uint8Array(16)});var lf,hf=Le(()=>{lf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function N0(r){return typeof r=="string"&&lf.test(r)}var Nr,no=Le(()=>{hf();Nr=N0});function F0(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Se[r[t+0]]+Se[r[t+1]]+Se[r[t+2]]+Se[r[t+3]]+"-"+Se[r[t+4]]+Se[r[t+5]]+"-"+Se[r[t+6]]+Se[r[t+7]]+"-"+Se[r[t+8]]+Se[r[t+9]]+"-"+Se[r[t+10]]+Se[r[t+11]]+Se[r[t+12]]+Se[r[t+13]]+Se[r[t+14]]+Se[r[t+15]]).toLowerCase();if(!Nr(e))throw TypeError("Stringified UUID is invalid");return e}var Se,_s,Fr,oo=Le(()=>{no();Se=[];for(_s=0;_s<256;++_s)Se.push((_s+256).toString(16).substr(1));Fr=F0});function z0(r,t,e){var n=t&&e||0,o=t||new Array(16);r=r||{};var s=r.node||df,i=r.clockseq!==void 0?r.clockseq:Ma;if(s==null||i==null){var c=r.random||(r.rng||ro)();s==null&&(s=df=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),i==null&&(i=Ma=(c[6]<<8|c[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),p=r.nsecs!==void 0?r.nsecs:Oa+1,y=u-Ca+(p-Oa)/1e4;if(y<0&&r.clockseq===void 0&&(i=i+1&16383),(y<0||u>Ca)&&r.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ca=u,Oa=p,Ma=i,u+=122192928e5;var b=((u&268435455)*1e4+p)%4294967296;o[n++]=b>>>24&255,o[n++]=b>>>16&255,o[n++]=b>>>8&255,o[n++]=b&255;var I=u/4294967296*1e4&268435455;o[n++]=I>>>8&255,o[n++]=I&255,o[n++]=I>>>24&15|16,o[n++]=I>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(var E=0;E<6;++E)o[n+E]=s[E];return t||Fr(o)}var df,Ma,Ca,Oa,pf,yf=Le(()=>{Pa();oo();Ca=0,Oa=0;pf=z0});function D0(r){if(!Nr(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var Rs,Ua=Le(()=>{no();Rs=D0});function q0(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function Ls(r,t,e){function n(o,s,i,c){if(typeof o=="string"&&(o=q0(o)),typeof s=="string"&&(s=Rs(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+o.length);if(u.set(s),u.set(o,s.length),u=e(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){c=c||0;for(var p=0;p<16;++p)i[c+p]=u[p];return i}return Fr(u)}try{n.name=r}catch(o){}return n.DNS=K0,n.URL=W0,n}var K0,W0,Na=Le(()=>{oo();Ua();K0="6ba7b810-9dad-11d1-80b4-00c04fd430c8",W0="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function H0(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return V0($0(j0(r),r.length*8))}function V0(r){for(var t=[],e=r.length*32,n="0123456789abcdef",o=0;o<e;o+=8){var s=r[o>>5]>>>o%32&255,i=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(i)}return t}function mf(r){return(r+64>>>9<<4)+14+1}function $0(r,t){r[t>>5]|=128<<t%32,r[mf(t)-1]=t;for(var e=1732584193,n=-271733879,o=-1732584194,s=271733878,i=0;i<r.length;i+=16){var c=e,u=n,p=o,y=s;e=Be(e,n,o,s,r[i],7,-680876936),s=Be(s,e,n,o,r[i+1],12,-389564586),o=Be(o,s,e,n,r[i+2],17,606105819),n=Be(n,o,s,e,r[i+3],22,-1044525330),e=Be(e,n,o,s,r[i+4],7,-176418897),s=Be(s,e,n,o,r[i+5],12,1200080426),o=Be(o,s,e,n,r[i+6],17,-1473231341),n=Be(n,o,s,e,r[i+7],22,-45705983),e=Be(e,n,o,s,r[i+8],7,1770035416),s=Be(s,e,n,o,r[i+9],12,-1958414417),o=Be(o,s,e,n,r[i+10],17,-42063),n=Be(n,o,s,e,r[i+11],22,-1990404162),e=Be(e,n,o,s,r[i+12],7,1804603682),s=Be(s,e,n,o,r[i+13],12,-40341101),o=Be(o,s,e,n,r[i+14],17,-1502002290),n=Be(n,o,s,e,r[i+15],22,1236535329),e=Ae(e,n,o,s,r[i+1],5,-165796510),s=Ae(s,e,n,o,r[i+6],9,-1069501632),o=Ae(o,s,e,n,r[i+11],14,643717713),n=Ae(n,o,s,e,r[i],20,-373897302),e=Ae(e,n,o,s,r[i+5],5,-701558691),s=Ae(s,e,n,o,r[i+10],9,38016083),o=Ae(o,s,e,n,r[i+15],14,-660478335),n=Ae(n,o,s,e,r[i+4],20,-405537848),e=Ae(e,n,o,s,r[i+9],5,568446438),s=Ae(s,e,n,o,r[i+14],9,-1019803690),o=Ae(o,s,e,n,r[i+3],14,-187363961),n=Ae(n,o,s,e,r[i+8],20,1163531501),e=Ae(e,n,o,s,r[i+13],5,-1444681467),s=Ae(s,e,n,o,r[i+2],9,-51403784),o=Ae(o,s,e,n,r[i+7],14,1735328473),n=Ae(n,o,s,e,r[i+12],20,-1926607734),e=Ie(e,n,o,s,r[i+5],4,-378558),s=Ie(s,e,n,o,r[i+8],11,-2022574463),o=Ie(o,s,e,n,r[i+11],16,1839030562),n=Ie(n,o,s,e,r[i+14],23,-35309556),e=Ie(e,n,o,s,r[i+1],4,-1530992060),s=Ie(s,e,n,o,r[i+4],11,1272893353),o=Ie(o,s,e,n,r[i+7],16,-155497632),n=Ie(n,o,s,e,r[i+10],23,-1094730640),e=Ie(e,n,o,s,r[i+13],4,681279174),s=Ie(s,e,n,o,r[i],11,-358537222),o=Ie(o,s,e,n,r[i+3],16,-722521979),n=Ie(n,o,s,e,r[i+6],23,76029189),e=Ie(e,n,o,s,r[i+9],4,-640364487),s=Ie(s,e,n,o,r[i+12],11,-421815835),o=Ie(o,s,e,n,r[i+15],16,530742520),n=Ie(n,o,s,e,r[i+2],23,-995338651),e=_e(e,n,o,s,r[i],6,-198630844),s=_e(s,e,n,o,r[i+7],10,1126891415),o=_e(o,s,e,n,r[i+14],15,-1416354905),n=_e(n,o,s,e,r[i+5],21,-57434055),e=_e(e,n,o,s,r[i+12],6,1700485571),s=_e(s,e,n,o,r[i+3],10,-1894986606),o=_e(o,s,e,n,r[i+10],15,-1051523),n=_e(n,o,s,e,r[i+1],21,-2054922799),e=_e(e,n,o,s,r[i+8],6,1873313359),s=_e(s,e,n,o,r[i+15],10,-30611744),o=_e(o,s,e,n,r[i+6],15,-1560198380),n=_e(n,o,s,e,r[i+13],21,1309151649),e=_e(e,n,o,s,r[i+4],6,-145523070),s=_e(s,e,n,o,r[i+11],10,-1120210379),o=_e(o,s,e,n,r[i+2],15,718787259),n=_e(n,o,s,e,r[i+9],21,-343485551),e=zr(e,c),n=zr(n,u),o=zr(o,p),s=zr(s,y)}return[e,n,o,s]}function j0(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(mf(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function zr(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function G0(r,t){return r<<t|r>>>32-t}function Ts(r,t,e,n,o,s){return zr(G0(zr(zr(t,r),zr(n,s)),o),e)}function Be(r,t,e,n,o,s,i){return Ts(t&e|~t&n,r,t,o,s,i)}function Ae(r,t,e,n,o,s,i){return Ts(t&n|e&~n,r,t,o,s,i)}function Ie(r,t,e,n,o,s,i){return Ts(t^e^n,r,t,o,s,i)}function _e(r,t,e,n,o,s,i){return Ts(e^(t|~n),r,t,o,s,i)}var gf,bf=Le(()=>{gf=H0});var Z0,wf,xf=Le(()=>{Na();bf();Z0=Ls("v3",48,gf),wf=Z0});function Y0(r,t,e){r=r||{};var n=r.random||(r.rng||ro)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=n[o];return t}return Fr(n)}var kf,Sf=Le(()=>{Pa();oo();kf=Y0});function J0(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Fa(r,t){return r<<t|r>>>32-t}function X0(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,i=Math.ceil(s/16),c=new Array(i),u=0;u<i;++u){for(var p=new Uint32Array(16),y=0;y<16;++y)p[y]=r[u*64+y*4]<<24|r[u*64+y*4+1]<<16|r[u*64+y*4+2]<<8|r[u*64+y*4+3];c[u]=p}c[i-1][14]=(r.length-1)*8/Math.pow(2,32),c[i-1][14]=Math.floor(c[i-1][14]),c[i-1][15]=(r.length-1)*8&4294967295;for(var b=0;b<i;++b){for(var I=new Uint32Array(80),E=0;E<16;++E)I[E]=c[b][E];for(var _=16;_<80;++_)I[_]=Fa(I[_-3]^I[_-8]^I[_-14]^I[_-16],1);for(var A=e[0],S=e[1],L=e[2],U=e[3],M=e[4],z=0;z<80;++z){var G=Math.floor(z/20),H=Fa(A,5)+J0(G,S,L,U)+M+t[G]+I[z]>>>0;M=U,U=L,L=Fa(S,30)>>>0,S=A,A=H}e[0]=e[0]+A>>>0,e[1]=e[1]+S>>>0,e[2]=e[2]+L>>>0,e[3]=e[3]+U>>>0,e[4]=e[4]+M>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var vf,Ef=Le(()=>{vf=X0});var Q0,Bf,Af=Le(()=>{Na();Ef();Q0=Ls("v5",80,vf),Bf=Q0});var If,_f=Le(()=>{If="00000000-0000-0000-0000-000000000000"});function tp(r){if(!Nr(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Rf,Lf=Le(()=>{no();Rf=tp});var za={};Mi(za,{NIL:()=>If,parse:()=>Rs,stringify:()=>Fr,v1:()=>pf,v3:()=>wf,v4:()=>kf,v5:()=>Bf,validate:()=>Nr,version:()=>Rf});var Da=Le(()=>{yf();xf();Sf();Af();_f();Lf();no();oo();Ua()});var Pf=Te((mw,Tf)=>{"use strict";var ep=(Da(),ru(za)).v4,rp=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let s={method:r};if(o===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof e=="undefined"){let i=typeof n.generator=="function"?n.generator:function(){return ep()};s.id=i(s,n)}else o===2&&e===null?n.notificationIdNull&&(s.id=null):s.id=e;return s};Tf.exports=rp});var Cf=Te((gw,Mf)=>{"use strict";var np=(Da(),ru(za)).v4,op=Pf(),so=function(r,t){if(!(this instanceof so))return new so(r,t);t||(t={}),this.options={reviver:typeof t.reviver!="undefined"?t.reviver:null,replacer:typeof t.replacer!="undefined"?t.replacer:null,generator:typeof t.generator!="undefined"?t.generator:function(){return np()},version:typeof t.version!="undefined"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};Mf.exports=so;so.prototype.request=function(r,t,e,n){let o=this,s=null,i=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&i)throw new TypeError("JSON-RPC 1.0 does not support batching");if(i||!i&&r&&typeof r=="object"&&typeof t=="function")n=t,s=r;else{typeof e=="function"&&(n=e,e=void 0);let p=typeof n=="function";try{s=op(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(p)return n(y);throw y}if(!p)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(p){return n(p)}return this.callServer(u,function(p,y){o._parseResponse(p,y,n)}),s};so.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(n)){let o=function(i){return typeof i.error!="undefined"},s=function(i){return!o(i)};return e(null,n.filter(o),n.filter(s))}else return e(null,n.error,n.result);e(null,n)}});var Uf=Te((bw,qa)=>{"use strict";var sp=Object.prototype.hasOwnProperty,Me="~";function io(){}Object.create&&(io.prototype=Object.create(null),new io().__proto__||(Me=!1));function ip(r,t,e){this.fn=r,this.context=t,this.once=e||!1}function Of(r,t,e,n,o){if(typeof e!="function")throw new TypeError("The listener must be a function");var s=new ip(e,n||r,o),i=Me?Me+t:t;return r._events[i]?r._events[i].fn?r._events[i]=[r._events[i],s]:r._events[i].push(s):(r._events[i]=s,r._eventsCount++),r}function Ps(r,t){--r._eventsCount===0?r._events=new io:delete r._events[t]}function Re(){this._events=new io,this._eventsCount=0}Re.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)sp.call(e,n)&&t.push(Me?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};Re.prototype.listeners=function(t){var e=Me?Me+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,i=new Array(s);o<s;o++)i[o]=n[o].fn;return i};Re.prototype.listenerCount=function(t){var e=Me?Me+t:t,n=this._events[e];return n?n.fn?1:n.length:0};Re.prototype.emit=function(t,e,n,o,s,i){var c=Me?Me+t:t;if(!this._events[c])return!1;var u=this._events[c],p=arguments.length,y,b;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,o),!0;case 5:return u.fn.call(u.context,e,n,o,s),!0;case 6:return u.fn.call(u.context,e,n,o,s,i),!0}for(b=1,y=new Array(p-1);b<p;b++)y[b-1]=arguments[b];u.fn.apply(u.context,y)}else{var I=u.length,E;for(b=0;b<I;b++)switch(u[b].once&&this.removeListener(t,u[b].fn,void 0,!0),p){case 1:u[b].fn.call(u[b].context);break;case 2:u[b].fn.call(u[b].context,e);break;case 3:u[b].fn.call(u[b].context,e,n);break;case 4:u[b].fn.call(u[b].context,e,n,o);break;default:if(!y)for(E=1,y=new Array(p-1);E<p;E++)y[E-1]=arguments[E];u[b].fn.apply(u[b].context,y)}}return!0};Re.prototype.on=function(t,e,n){return Of(this,t,e,n,!1)};Re.prototype.once=function(t,e,n){return Of(this,t,e,n,!0)};Re.prototype.removeListener=function(t,e,n,o){var s=Me?Me+t:t;if(!this._events[s])return this;if(!e)return Ps(this,s),this;var i=this._events[s];if(i.fn)i.fn===e&&(!o||i.once)&&(!n||i.context===n)&&Ps(this,s);else{for(var c=0,u=[],p=i.length;c<p;c++)(i[c].fn!==e||o&&!i[c].once||n&&i[c].context!==n)&&u.push(i[c]);u.length?this._events[s]=u.length===1?u[0]:u:Ps(this,s)}return this};Re.prototype.removeAllListeners=function(t){var e;return t?(e=Me?Me+t:t,this._events[e]&&Ps(this,e)):(this._events=new io,this._eventsCount=0),this};Re.prototype.off=Re.prototype.removeListener;Re.prototype.addListener=Re.prototype.on;Re.prefixed=Me;Re.EventEmitter=Re;typeof qa!="undefined"&&(qa.exports=Re)});var nt=er(Wn());function Hn(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function cd(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Er(r,...t){if(!cd(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error("Uint8Array expected of length "+t+", got length="+r.length)}function Eu(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Hn(r.outputLen),Hn(r.blockLen)}function hr(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Fo(r,t){Er(r);let e=t.outputLen;if(r.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}var Gr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Bu(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function zo(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Ge(r,t){return r<<32-t|r>>>t}var Vi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ud(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function $i(r){for(let t=0;t<r.length;t++)r[t]=ud(r[t])}function Au(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function Ar(r){return typeof r=="string"&&(r=Au(r)),Er(r),r}function ji(...r){let t=0;for(let n=0;n<r.length;n++){let o=r[n];Er(o),t+=o.length}let e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){let s=r[n];e.set(s,o),o+=s.length}return e}var Br=class{clone(){return this._cloneInto()}};function xn(r){let t=n=>r().update(Ar(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Iu(r){let t=(n,o)=>r(o).update(Ar(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}function Do(r=32){if(Gr&&typeof Gr.getRandomValues=="function")return Gr.getRandomValues(new Uint8Array(r));if(Gr&&typeof Gr.randomBytes=="function")return Gr.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function fd(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(e>>o&s),c=Number(e&s),u=n?4:0,p=n?0:4;r.setUint32(t+u,i,n),r.setUint32(t+p,c,n)}function _u(r,t,e){return r&t^~r&e}function Ru(r,t,e){return r&t^r&e^t&e}var kn=class extends Br{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=zo(this.buffer)}update(t){hr(this);let{view:e,buffer:n,blockLen:o}=this;t=Ar(t);let s=t.length;for(let i=0;i<s;){let c=Math.min(o-this.pos,s-i);if(c===o){let u=zo(t);for(;o<=s-i;i+=o)this.process(u,i);continue}n.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){hr(this),Fo(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(n,0),i=0);for(let b=i;b<o;b++)e[b]=0;fd(n,o-8,BigInt(this.length*8),s),this.process(n,0);let c=zo(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=u/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<p;b++)c.setUint32(4*b,y[b],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:o,finished:s,destroyed:i,pos:c}=this;return t.length=o,t.pos=c,t.finished=s,t.destroyed=i,o%e&&t.buffer.set(n),t}};var qo=BigInt(4294967295),Gi=BigInt(32);function Lu(r,t=!1){return t?{h:Number(r&qo),l:Number(r>>Gi&qo)}:{h:Number(r>>Gi&qo)|0,l:Number(r&qo)|0}}function Zi(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:s,l:i}=Lu(r[o],t);[e[o],n[o]]=[s,i]}return[e,n]}var ld=(r,t)=>BigInt(r>>>0)<<Gi|BigInt(t>>>0),hd=(r,t,e)=>r>>>e,dd=(r,t,e)=>r<<32-e|t>>>e,pd=(r,t,e)=>r>>>e|t<<32-e,yd=(r,t,e)=>r<<32-e|t>>>e,md=(r,t,e)=>r<<64-e|t>>>e-32,gd=(r,t,e)=>r>>>e-32|t<<64-e,bd=(r,t)=>t,wd=(r,t)=>r,Yi=(r,t,e)=>r<<e|t>>>32-e,Ji=(r,t,e)=>t<<e|r>>>32-e,Xi=(r,t,e)=>t<<e-32|r>>>64-e,Qi=(r,t,e)=>r<<e-32|t>>>64-e;function xd(r,t,e,n){let o=(t>>>0)+(n>>>0);return{h:r+e+(o/dt(2,32)|0)|0,l:o|0}}var kd=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),Sd=(r,t,e,n)=>t+e+n+(r/dt(2,32)|0)|0,vd=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Ed=(r,t,e,n,o)=>t+e+n+o+(r/dt(2,32)|0)|0,Bd=(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0),Ad=(r,t,e,n,o,s)=>t+e+n+o+s+(r/dt(2,32)|0)|0;var Id={fromBig:Lu,split:Zi,toBig:ld,shrSH:hd,shrSL:dd,rotrSH:pd,rotrSL:yd,rotrBH:md,rotrBL:gd,rotr32H:bd,rotr32L:wd,rotlSH:Yi,rotlSL:Ji,rotlBH:Xi,rotlBL:Qi,add:xd,add3L:kd,add3H:Sd,add4L:vd,add4H:Ed,add5H:Ad,add5L:Bd},ft=Id;var[_d,Rd]=ft.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Ir=new Uint32Array(80),_r=new Uint32Array(80),ta=class extends kn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:o,Ch:s,Cl:i,Dh:c,Dl:u,Eh:p,El:y,Fh:b,Fl:I,Gh:E,Gl:_,Hh:A,Hl:S}=this;return[t,e,n,o,s,i,c,u,p,y,b,I,E,_,A,S]}set(t,e,n,o,s,i,c,u,p,y,b,I,E,_,A,S){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=c|0,this.Dl=u|0,this.Eh=p|0,this.El=y|0,this.Fh=b|0,this.Fl=I|0,this.Gh=E|0,this.Gl=_|0,this.Hh=A|0,this.Hl=S|0}process(t,e){for(let M=0;M<16;M++,e+=4)Ir[M]=t.getUint32(e),_r[M]=t.getUint32(e+=4);for(let M=16;M<80;M++){let z=Ir[M-15]|0,G=_r[M-15]|0,H=ft.rotrSH(z,G,1)^ft.rotrSH(z,G,8)^ft.shrSH(z,G,7),V=ft.rotrSL(z,G,1)^ft.rotrSL(z,G,8)^ft.shrSL(z,G,7),Z=Ir[M-2]|0,Y=_r[M-2]|0,St=ft.rotrSH(Z,Y,19)^ft.rotrBH(Z,Y,61)^ft.shrSH(Z,Y,6),tt=ft.rotrSL(Z,Y,19)^ft.rotrBL(Z,Y,61)^ft.shrSL(Z,Y,6),at=ft.add4L(V,tt,_r[M-7],_r[M-16]),k=ft.add4H(at,H,St,Ir[M-7],Ir[M-16]);Ir[M]=k|0,_r[M]=at|0}let{Ah:n,Al:o,Bh:s,Bl:i,Ch:c,Cl:u,Dh:p,Dl:y,Eh:b,El:I,Fh:E,Fl:_,Gh:A,Gl:S,Hh:L,Hl:U}=this;for(let M=0;M<80;M++){let z=ft.rotrSH(b,I,14)^ft.rotrSH(b,I,18)^ft.rotrBH(b,I,41),G=ft.rotrSL(b,I,14)^ft.rotrSL(b,I,18)^ft.rotrBL(b,I,41),H=b&E^~b&A,V=I&_^~I&S,Z=ft.add5L(U,G,V,Rd[M],_r[M]),Y=ft.add5H(Z,L,z,H,_d[M],Ir[M]),St=Z|0,tt=ft.rotrSH(n,o,28)^ft.rotrBH(n,o,34)^ft.rotrBH(n,o,39),at=ft.rotrSL(n,o,28)^ft.rotrBL(n,o,34)^ft.rotrBL(n,o,39),k=n&s^n&c^s&c,a=o&i^o&u^i&u;L=A|0,U=S|0,A=E|0,S=_|0,E=b|0,_=I|0,{h:b,l:I}=ft.add(p|0,y|0,Y|0,St|0),p=c|0,y=u|0,c=s|0,u=i|0,s=n|0,i=o|0;let l=ft.add3L(St,at,a);n=ft.add3H(l,Y,tt,k),o=l|0}({h:n,l:o}=ft.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:i}=ft.add(this.Bh|0,this.Bl|0,s|0,i|0),{h:c,l:u}=ft.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:p,l:y}=ft.add(this.Dh|0,this.Dl|0,p|0,y|0),{h:b,l:I}=ft.add(this.Eh|0,this.El|0,b|0,I|0),{h:E,l:_}=ft.add(this.Fh|0,this.Fl|0,E|0,_|0),{h:A,l:S}=ft.add(this.Gh|0,this.Gl|0,A|0,S|0),{h:L,l:U}=ft.add(this.Hh|0,this.Hl|0,L|0,U|0),this.set(n,o,s,i,c,u,p,y,b,I,E,_,A,S,L,U)}roundClean(){Ir.fill(0),_r.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Tu=xn(()=>new ta);var Ho={};Mi(Ho,{aInRange:()=>Ue,abool:()=>Ze,abytes:()=>Sn,bitGet:()=>Od,bitLen:()=>oa,bitMask:()=>$n,bitSet:()=>Ud,bytesToHex:()=>pr,bytesToNumberBE:()=>yr,bytesToNumberLE:()=>Lr,concatBytes:()=>mr,createHmacDrbg:()=>sa,ensureBytes:()=>Ft,equalBytes:()=>Md,hexToBytes:()=>Yr,hexToNumber:()=>na,inRange:()=>Vn,isBytes:()=>Rr,memoized:()=>Xr,notImplemented:()=>Fd,numberToBytesBE:()=>Tr,numberToBytesLE:()=>Jr,numberToHexUnpadded:()=>Zr,numberToVarBytesBE:()=>Pd,utf8ToBytes:()=>Cd,validateObject:()=>or});var Ko=BigInt(0),Wo=BigInt(1),Ld=BigInt(2);function Rr(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Sn(r){if(!Rr(r))throw new Error("Uint8Array expected")}function Ze(r,t){if(typeof t!="boolean")throw new Error(r+" boolean expected, got "+t)}var Td=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function pr(r){Sn(r);let t="";for(let e=0;e<r.length;e++)t+=Td[r[e]];return t}function Zr(r){let t=r.toString(16);return t.length&1?"0"+t:t}function na(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Ko:BigInt("0x"+r)}var dr={_0:48,_9:57,A:65,F:70,a:97,f:102};function Pu(r){if(r>=dr._0&&r<=dr._9)return r-dr._0;if(r>=dr.A&&r<=dr.F)return r-(dr.A-10);if(r>=dr.a&&r<=dr.f)return r-(dr.a-10)}function Yr(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(e);for(let o=0,s=0;o<e;o++,s+=2){let i=Pu(r.charCodeAt(s)),c=Pu(r.charCodeAt(s+1));if(i===void 0||c===void 0){let u=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[o]=i*16+c}return n}function yr(r){return na(pr(r))}function Lr(r){return Sn(r),na(pr(Uint8Array.from(r).reverse()))}function Tr(r,t){return Yr(r.toString(16).padStart(t*2,"0"))}function Jr(r,t){return Tr(r,t).reverse()}function Pd(r){return Yr(Zr(r))}function Ft(r,t,e){let n;if(typeof t=="string")try{n=Yr(t)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(Rr(t))n=Uint8Array.from(t);else throw new Error(r+" must be hex string or Uint8Array");let o=n.length;if(typeof e=="number"&&o!==e)throw new Error(r+" of length "+e+" expected, got "+o);return n}function mr(...r){let t=0;for(let n=0;n<r.length;n++){let o=r[n];Sn(o),t+=o.length}let e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){let s=r[n];e.set(s,o),o+=s.length}return e}function Md(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function Cd(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}var ea=r=>typeof r=="bigint"&&Ko<=r;function Vn(r,t,e){return ea(r)&&ea(t)&&ea(e)&&t<=r&&r<e}function Ue(r,t,e,n){if(!Vn(t,e,n))throw new Error("expected valid "+r+": "+e+" <= n < "+n+", got "+t)}function oa(r){let t;for(t=0;r>Ko;r>>=Wo,t+=1);return t}function Od(r,t){return r>>BigInt(t)&Wo}function Ud(r,t,e){return r|(e?Wo:Ko)<<BigInt(t)}var $n=r=>(Ld<<BigInt(r-1))-Wo,ra=r=>new Uint8Array(r),Mu=r=>Uint8Array.from(r);function sa(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=ra(r),o=ra(r),s=0,i=()=>{n.fill(1),o.fill(0),s=0},c=(...b)=>e(o,n,...b),u=(b=ra())=>{o=c(Mu([0]),b),n=c(),b.length!==0&&(o=c(Mu([1]),b),n=c())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,I=[];for(;b<t;){n=c();let E=n.slice();I.push(E),b+=n.length}return mr(...I)};return(b,I)=>{i(),u(b);let E;for(;!(E=I(p()));)u();return i(),E}}var Nd={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Rr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function or(r,t,e={}){let n=(o,s,i)=>{let c=Nd[s];if(typeof c!="function")throw new Error("invalid validator function");let u=r[o];if(!(i&&u===void 0)&&!c(u,r))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+u)};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(e))n(o,s,!0);return r}var Fd=()=>{throw new Error("not implemented")};function Xr(r){let t=new WeakMap;return(e,...n)=>{let o=t.get(e);if(o!==void 0)return o;let s=r(e,...n);return t.set(e,s),s}}var ye=BigInt(0),Rt=BigInt(1),Qr=BigInt(2),zd=BigInt(3),ia=BigInt(4),Cu=BigInt(5),Ou=BigInt(8),Dd=BigInt(9),qd=BigInt(16);function vt(r,t){let e=r%t;return e>=ye?e:t+e}function Kd(r,t,e){if(t<ye)throw new Error("invalid exponent, negatives unsupported");if(e<=ye)throw new Error("invalid modulus");if(e===Rt)return ye;let n=Rt;for(;t>ye;)t&Rt&&(n=n*r%e),r=r*r%e,t>>=Rt;return n}function Lt(r,t,e){let n=r;for(;t-- >ye;)n*=n,n%=e;return n}function Vo(r,t){if(r===ye)throw new Error("invert: expected non-zero number");if(t<=ye)throw new Error("invert: expected positive modulus, got "+t);let e=vt(r,t),n=t,o=ye,s=Rt,i=Rt,c=ye;for(;e!==ye;){let p=n/e,y=n%e,b=o-i*p,I=s-c*p;n=e,e=y,o=i,s=c,i=b,c=I}if(n!==Rt)throw new Error("invert: does not exist");return vt(o,t)}function Wd(r){let t=(r-Rt)/Qr,e,n,o;for(e=r-Rt,n=0;e%Qr===ye;e/=Qr,n++);for(o=Qr;o<r&&Kd(o,t,r)!==r-Rt;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let i=(r+Rt)/ia;return function(u,p){let y=u.pow(p,i);if(!u.eql(u.sqr(y),p))throw new Error("Cannot find square root");return y}}let s=(e+Rt)/Qr;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let p=n,y=c.pow(c.mul(c.ONE,o),e),b=c.pow(u,s),I=c.pow(u,e);for(;!c.eql(I,c.ONE);){if(c.eql(I,c.ZERO))return c.ZERO;let E=1;for(let A=c.sqr(I);E<p&&!c.eql(A,c.ONE);E++)A=c.sqr(A);let _=c.pow(y,Rt<<BigInt(p-E-1));y=c.sqr(_),b=c.mul(b,_),I=c.mul(I,y),p=E}return b}}function Hd(r){if(r%ia===zd){let t=(r+Rt)/ia;return function(n,o){let s=n.pow(o,t);if(!n.eql(n.sqr(s),o))throw new Error("Cannot find square root");return s}}if(r%Ou===Cu){let t=(r-Cu)/Ou;return function(n,o){let s=n.mul(o,Qr),i=n.pow(s,t),c=n.mul(o,i),u=n.mul(n.mul(c,Qr),i),p=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(p),o))throw new Error("Cannot find square root");return p}}return r%qd,Wd(r)}var Uu=(r,t)=>(vt(r,t)&Rt)===Rt,Vd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aa(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=Vd.reduce((n,o)=>(n[o]="function",n),t);return or(r,e)}function $d(r,t,e){if(e<ye)throw new Error("invalid exponent, negatives unsupported");if(e===ye)return r.ONE;if(e===Rt)return t;let n=r.ONE,o=t;for(;e>ye;)e&Rt&&(n=r.mul(n,o)),o=r.sqr(o),e>>=Rt;return n}function jd(r,t){let e=new Array(t.length),n=t.reduce((s,i,c)=>r.is0(i)?s:(e[c]=s,r.mul(s,i)),r.ONE),o=r.inv(n);return t.reduceRight((s,i,c)=>r.is0(i)?s:(e[c]=r.mul(s,e[c]),r.mul(s,i)),o),e}function ca(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Pr(r,t,e=!1,n={}){if(r<=ye)throw new Error("invalid field: expected ORDER > 0, got "+r);let{nBitLength:o,nByteLength:s}=ca(r,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,c=Object.freeze({ORDER:r,isLE:e,BITS:o,BYTES:s,MASK:$n(o),ZERO:ye,ONE:Rt,create:u=>vt(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ye<=u&&u<r},is0:u=>u===ye,isOdd:u=>(u&Rt)===Rt,neg:u=>vt(-u,r),eql:(u,p)=>u===p,sqr:u=>vt(u*u,r),add:(u,p)=>vt(u+p,r),sub:(u,p)=>vt(u-p,r),mul:(u,p)=>vt(u*p,r),pow:(u,p)=>$d(c,u,p),div:(u,p)=>vt(u*Vo(p,r),r),sqrN:u=>u*u,addN:(u,p)=>u+p,subN:(u,p)=>u-p,mulN:(u,p)=>u*p,inv:u=>Vo(u,r),sqrt:n.sqrt||(u=>(i||(i=Hd(r)),i(c,u))),invertBatch:u=>jd(c,u),cmov:(u,p,y)=>y?p:u,toBytes:u=>e?Jr(u,s):Tr(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return e?Lr(u):yr(u)}});return Object.freeze(c)}function Nu(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let t=r.toString(2).length;return Math.ceil(t/8)}function ua(r){let t=Nu(r);return t+Math.ceil(t/2)}function Fu(r,t,e=!1){let n=r.length,o=Nu(t),s=ua(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);let i=e?Lr(r):yr(r),c=vt(i,t-Rt)+Rt;return e?Jr(c,o):Tr(c,o)}var zu=BigInt(0),$o=BigInt(1);function fa(r,t){let e=t.negate();return r?e:t}function Du(r,t){if(!Number.isSafeInteger(r)||r<=0||r>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+r)}function la(r,t){Du(r,t);let e=Math.ceil(t/r)+1,n=dt(2,r-1);return{windows:e,windowSize:n}}function Gd(r,t){if(!Array.isArray(r))throw new Error("array expected");r.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function Zd(r,t){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}var ha=new WeakMap,qu=new WeakMap;function da(r){return qu.get(r)||1}function jo(r,t){return{constTimeNegate:fa,hasPrecomputes(e){return da(e)!==1},unsafeLadder(e,n,o=r.ZERO){let s=e;for(;n>zu;)n&$o&&(o=o.add(s)),s=s.double(),n>>=$o;return o},precomputeWindow(e,n){let{windows:o,windowSize:s}=la(n,t),i=[],c=e,u=c;for(let p=0;p<o;p++){u=c,i.push(u);for(let y=1;y<s;y++)u=u.add(c),i.push(u);c=u.double()}return i},wNAF(e,n,o){let{windows:s,windowSize:i}=la(e,t),c=r.ZERO,u=r.BASE,p=BigInt(dt(2,e)-1),y=dt(2,e),b=BigInt(e);for(let I=0;I<s;I++){let E=I*i,_=Number(o&p);o>>=b,_>i&&(_-=y,o+=$o);let A=E,S=E+Math.abs(_)-1,L=I%2!==0,U=_<0;_===0?u=u.add(fa(L,n[A])):c=c.add(fa(U,n[S]))}return{p:c,f:u}},wNAFUnsafe(e,n,o,s=r.ZERO){let{windows:i,windowSize:c}=la(e,t),u=BigInt(dt(2,e)-1),p=dt(2,e),y=BigInt(e);for(let b=0;b<i;b++){let I=b*c;if(o===zu)break;let E=Number(o&u);if(o>>=y,E>c&&(E-=p,o+=$o),E===0)continue;let _=n[I+Math.abs(E)-1];E<0&&(_=_.negate()),s=s.add(_)}return s},getPrecomputes(e,n,o){let s=ha.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&ha.set(n,o(s))),s},wNAFCached(e,n,o){let s=da(e);return this.wNAF(s,this.getPrecomputes(s,e,o),n)},wNAFCachedUnsafe(e,n,o,s){let i=da(e);return i===1?this.unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,o),n,s)},setWindowSize(e,n){Du(n,t),qu.set(e,n),ha.delete(e)}}}function Go(r,t,e,n){if(Gd(e,r),Zd(n,t),e.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let o=r.ZERO,s=oa(BigInt(e.length)),i=s>12?s-3:s>4?s-2:s?2:1,c=(1<<i)-1,u=new Array(c+1).fill(o),p=Math.floor((t.BITS-1)/i)*i,y=o;for(let b=p;b>=0;b-=i){u.fill(o);for(let E=0;E<n.length;E++){let _=n[E],A=Number(_>>BigInt(b)&BigInt(c));u[A]=u[A].add(e[E])}let I=o;for(let E=u.length-1,_=o;E>0;E--)_=_.add(u[E]),I=I.add(_);if(y=y.add(I),b!==0)for(let E=0;E<i;E++)y=y.double()}return y}function jn(r){return aa(r.Fp),or(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(ct(J(J({},ca(r.n,r.nBitLength)),r),{p:r.Fp.ORDER}))}var Ye=BigInt(0),Ne=BigInt(1),Zo=BigInt(2),Yd=BigInt(8),Jd={zip215:!0};function Xd(r){let t=jn(r);return or(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(J({},t))}function Ku(r){let t=Xd(r),{Fp:e,n,prehash:o,hash:s,randomBytes:i,nByteLength:c,h:u}=t,p=Zo<<BigInt(c*8)-Ne,y=e.create,b=Pr(t.n,t.nBitLength),I=t.uvRatio||((h,d)=>{try{return{isValid:!0,value:e.sqrt(h*e.inv(d))}}catch(m){return{isValid:!1,value:Ye}}}),E=t.adjustScalarBytes||(h=>h),_=t.domain||((h,d,m)=>{if(Ze("phflag",m),d.length||m)throw new Error("Contexts/pre-hash are not supported");return h});function A(h,d){Ue("coordinate "+h,d,Ye,p)}function S(h){if(!(h instanceof M))throw new Error("ExtendedPoint expected")}let L=Xr((h,d)=>{let{ex:m,ey:x,ez:B}=h,g=h.is0();d==null&&(d=g?Yd:e.inv(B));let f=y(m*d),w=y(x*d),N=y(B*d);if(g)return{x:Ye,y:Ne};if(N!==Ne)throw new Error("invZ was invalid");return{x:f,y:w}}),U=Xr(h=>{let{a:d,d:m}=t;if(h.is0())throw new Error("bad point: ZERO");let{ex:x,ey:B,ez:g,et:f}=h,w=y(x*x),N=y(B*B),D=y(g*g),K=y(D*D),X=y(w*d),rt=y(D*y(X+N)),it=y(K+y(m*y(w*N)));if(rt!==it)throw new Error("bad point: equation left != right (1)");let _t=y(x*B),ut=y(g*f);if(_t!==ut)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(d,m,x,B){this.ex=d,this.ey=m,this.ez=x,this.et=B,A("x",d),A("y",m),A("z",x),A("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(d){if(d instanceof M)throw new Error("extended point not allowed");let{x:m,y:x}=d||{};return A("x",m),A("y",x),new M(m,x,Ne,y(m*x))}static normalizeZ(d){let m=e.invertBatch(d.map(x=>x.ez));return d.map((x,B)=>x.toAffine(m[B])).map(M.fromAffine)}static msm(d,m){return Go(M,b,d,m)}_setWindowSize(d){H.setWindowSize(this,d)}assertValidity(){U(this)}equals(d){S(d);let{ex:m,ey:x,ez:B}=this,{ex:g,ey:f,ez:w}=d,N=y(m*w),D=y(g*B),K=y(x*w),X=y(f*B);return N===D&&K===X}is0(){return this.equals(M.ZERO)}negate(){return new M(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){let{a:d}=t,{ex:m,ey:x,ez:B}=this,g=y(m*m),f=y(x*x),w=y(Zo*y(B*B)),N=y(d*g),D=m+x,K=y(y(D*D)-g-f),X=N+f,rt=X-w,it=N-f,_t=y(K*rt),ut=y(X*it),lt=y(K*it),ze=y(rt*X);return new M(_t,ut,ze,lt)}add(d){S(d);let{a:m,d:x}=t,{ex:B,ey:g,ez:f,et:w}=this,{ex:N,ey:D,ez:K,et:X}=d;if(m===BigInt(-1)){let Pt=y((g-B)*(D+N)),Mt=y((g+B)*(D-N)),pn=y(Mt-Pt);if(pn===Ye)return this.double();let Ct=y(f*Zo*X),Ot=y(w*Zo*K),Dn=Ot+Ct,Ut=Mt+Pt,Nt=Ot-Ct,To=y(Dn*pn),Wt=y(Ut*Nt),Ht=y(Dn*Nt),Po=y(pn*Ut);return new M(To,Wt,Po,Ht)}let rt=y(B*N),it=y(g*D),_t=y(w*x*X),ut=y(f*K),lt=y((B+g)*(N+D)-rt-it),ze=ut-_t,xt=ut+_t,wt=y(it-m*rt),Ro=y(lt*ze),qt=y(xt*wt),Kt=y(lt*wt),Lo=y(ze*xt);return new M(Ro,qt,Lo,Kt)}subtract(d){return this.add(d.negate())}wNAF(d){return H.wNAFCached(this,d,M.normalizeZ)}multiply(d){let m=d;Ue("scalar",m,Ne,n);let{p:x,f:B}=this.wNAF(m);return M.normalizeZ([x,B])[0]}multiplyUnsafe(d,m=M.ZERO){let x=d;return Ue("scalar",x,Ye,n),x===Ye?G:this.is0()||x===Ne?this:H.wNAFCachedUnsafe(this,x,M.normalizeZ,m)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return H.unsafeLadder(this,n).is0()}toAffine(d){return L(this,d)}clearCofactor(){let{h:d}=t;return d===Ne?this:this.multiplyUnsafe(d)}static fromHex(d,m=!1){let{d:x,a:B}=t,g=e.BYTES;d=Ft("pointHex",d,g),Ze("zip215",m);let f=d.slice(),w=d[g-1];f[g-1]=w&-129;let N=Lr(f),D=m?p:e.ORDER;Ue("pointHex.y",N,Ye,D);let K=y(N*N),X=y(K-Ne),rt=y(x*K-B),{isValid:it,value:_t}=I(X,rt);if(!it)throw new Error("Point.fromHex: invalid y coordinate");let ut=(_t&Ne)===Ne,lt=(w&128)!==0;if(!m&&_t===Ye&&lt)throw new Error("Point.fromHex: x=0 and x_0=1");return lt!==ut&&(_t=y(-_t)),M.fromAffine({x:_t,y:N})}static fromPrivateKey(d){return Y(d).point}toRawBytes(){let{x:d,y:m}=this.toAffine(),x=Jr(m,e.BYTES);return x[x.length-1]|=d&Ne?128:0,x}toHex(){return pr(this.toRawBytes())}}M.BASE=new M(t.Gx,t.Gy,Ne,y(t.Gx*t.Gy)),M.ZERO=new M(Ye,Ne,Ne,Ye);let{BASE:z,ZERO:G}=M,H=jo(M,c*8);function V(h){return vt(h,n)}function Z(h){return V(Lr(h))}function Y(h){let d=e.BYTES;h=Ft("private key",h,d);let m=Ft("hashed private key",s(h),2*d),x=E(m.slice(0,d)),B=m.slice(d,2*d),g=Z(x),f=z.multiply(g),w=f.toRawBytes();return{head:x,prefix:B,scalar:g,point:f,pointBytes:w}}function St(h){return Y(h).pointBytes}function tt(h=new Uint8Array,...d){let m=mr(...d);return Z(s(_(m,Ft("context",h),!!o)))}function at(h,d,m={}){h=Ft("message",h),o&&(h=o(h));let{prefix:x,scalar:B,pointBytes:g}=Y(d),f=tt(m.context,x,h),w=z.multiply(f).toRawBytes(),N=tt(m.context,w,g,h),D=V(f+N*B);Ue("signature.s",D,Ye,n);let K=mr(w,Jr(D,e.BYTES));return Ft("result",K,e.BYTES*2)}let k=Jd;function a(h,d,m,x=k){let{context:B,zip215:g}=x,f=e.BYTES;h=Ft("signature",h,2*f),d=Ft("message",d),m=Ft("publicKey",m,f),g!==void 0&&Ze("zip215",g),o&&(d=o(d));let w=Lr(h.slice(f,2*f)),N,D,K;try{N=M.fromHex(m,g),D=M.fromHex(h.slice(0,f),g),K=z.multiplyUnsafe(w)}catch(it){return!1}if(!g&&N.isSmallOrder())return!1;let X=tt(B,D.toRawBytes(),N.toRawBytes(),d);return D.add(N.multiplyUnsafe(X)).subtract(K).clearCofactor().equals(M.ZERO)}return z._setWindowSize(8),{CURVE:t,getPublicKey:St,sign:at,verify:a,ExtendedPoint:M,utils:{getExtendedPublicKey:Y,randomPrivateKey:()=>i(e.BYTES),precompute(h=8,d=M.BASE){return d._setWindowSize(h),d.multiply(BigInt(3)),d}}}}var pa=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Wu=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),mb=BigInt(0),Qd=BigInt(1),Hu=BigInt(2),gb=BigInt(3),t0=BigInt(5),e0=BigInt(8);function r0(r){let t=BigInt(10),e=BigInt(20),n=BigInt(40),o=BigInt(80),s=pa,c=r*r%s*r%s,u=Lt(c,Hu,s)*c%s,p=Lt(u,Qd,s)*r%s,y=Lt(p,t0,s)*p%s,b=Lt(y,t,s)*y%s,I=Lt(b,e,s)*b%s,E=Lt(I,n,s)*I%s,_=Lt(E,o,s)*E%s,A=Lt(_,o,s)*E%s,S=Lt(A,t,s)*y%s;return{pow_p_5_8:Lt(S,Hu,s)*r%s,b2:c}}function n0(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function o0(r,t){let e=pa,n=vt(t*t*t,e),o=vt(n*n*t,e),s=r0(r*o).pow_p_5_8,i=vt(r*n*s,e),c=vt(t*i*i,e),u=i,p=vt(i*Wu,e),y=c===r,b=c===vt(-r,e),I=c===vt(-r*Wu,e);return y&&(i=u),(b||I)&&(i=p),Uu(i,e)&&(i=vt(-i,e)),{isValid:y||b,value:i}}var s0=Pr(pa,void 0,!0),i0={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:s0,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:e0,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Tu,randomBytes:Do,adjustScalarBytes:n0,uvRatio:o0},tn=Ku(i0);var ec=er(ma()),xe=er(ba());var f0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cr=new Uint32Array(64),wa=class extends kn{constructor(){super(64,32,8,!1),this.A=Mr[0]|0,this.B=Mr[1]|0,this.C=Mr[2]|0,this.D=Mr[3]|0,this.E=Mr[4]|0,this.F=Mr[5]|0,this.G=Mr[6]|0,this.H=Mr[7]|0}get(){let{A:t,B:e,C:n,D:o,E:s,F:i,G:c,H:u}=this;return[t,e,n,o,s,i,c,u]}set(t,e,n,o,s,i,c,u){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=u|0}process(t,e){for(let b=0;b<16;b++,e+=4)Cr[b]=t.getUint32(e,!1);for(let b=16;b<64;b++){let I=Cr[b-15],E=Cr[b-2],_=Ge(I,7)^Ge(I,18)^I>>>3,A=Ge(E,17)^Ge(E,19)^E>>>10;Cr[b]=A+Cr[b-7]+_+Cr[b-16]|0}let{A:n,B:o,C:s,D:i,E:c,F:u,G:p,H:y}=this;for(let b=0;b<64;b++){let I=Ge(c,6)^Ge(c,11)^Ge(c,25),E=y+I+_u(c,u,p)+f0[b]+Cr[b]|0,A=(Ge(n,2)^Ge(n,13)^Ge(n,22))+Ru(n,o,s)|0;y=p,p=u,u=c,c=i+E|0,i=s,s=o,o=n,n=E+A|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,u=u+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(n,o,s,i,c,u,p,y)}roundClean(){Cr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Gn=xn(()=>new wa);var Pn=er(of()),v=er(_a()),gl=er(_a()),go=er(sf());var Ra=class extends TypeError{constructor(t,e){let n,p=t,{message:o,explanation:s}=p,i=fr(p,["message","explanation"]),{path:c}=t,u=c.length===0?o:`At path: ${c.join(".")} -- ${o}`;super(s!=null?s:u),s!=null&&(this.cause=u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n!=null?n:n=[t,...e()]}};function T0(r){return to(r)&&typeof r[Symbol.iterator]=="function"}function to(r){return typeof r=="object"&&r!=null}function Es(r){return to(r)&&!Array.isArray(r)}function Je(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function P0(r){let{done:t,value:e}=r.next();return t?void 0:e}function M0(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:o,branch:s}=t,{type:i}=e,{refinement:c,message:u=`Expected a value of type \`${i}\`${c?` with refinement \`${c}\``:""}, but received: \`${Je(n)}\``}=r;return ct(J({value:n,type:i,refinement:c,key:o[o.length-1],path:o,branch:s},r),{message:u})}function*af(r,t,e,n){T0(r)||(r=[r]);for(let o of r){let s=M0(o,t,e,n);s&&(yield s)}}function*La(r,t,e={}){let{path:n=[],branch:o=[r],coerce:s=!1,mask:i=!1}=e,c={path:n,branch:o,mask:i};s&&(r=t.coercer(r,c));let u="valid";for(let p of t.validator(r,c))p.explanation=e.message,u="not_valid",yield[p,void 0];for(let[p,y,b]of t.entries(r,c)){let I=La(y,b,{path:p===void 0?n:[...n,p],branch:p===void 0?o:[...o,y],coerce:s,mask:i,message:e.message});for(let E of I)E[0]?(u=E[0].refinement!=null?"not_refined":"not_valid",yield[E[0],void 0]):s&&(y=E[1],p===void 0?r=y:r instanceof Map?r.set(p,y):r instanceof Set?r.add(y):to(r)&&(y!==void 0||p in r)&&(r[p]=y))}if(u!=="not_valid")for(let p of t.refiner(r,c))p.explanation=e.message,u="not_refined",yield[p,void 0];u==="valid"&&(yield[void 0,r])}var We=class{constructor(t){let{type:e,schema:n,validator:o,refiner:s,coercer:i=u=>u,entries:c=function*(){}}=t;this.type=e,this.schema=n,this.entries=c,this.coercer=i,o?this.validator=(u,p)=>{let y=o(u,p);return af(y,p,this,u)}:this.validator=()=>[],s?this.refiner=(u,p)=>{let y=s(u,p);return af(y,p,this,u)}:this.refiner=()=>[]}assert(t,e){return cf(t,this,e)}create(t,e){return W(t,this,e)}is(t){return uf(t,this)}mask(t,e){return C0(t,this,e)}validate(t,e={}){return eo(t,this,e)}};function cf(r,t,e){let n=eo(r,t,{message:e});if(n[0])throw n[0]}function W(r,t,e){let n=eo(r,t,{coerce:!0,message:e});if(n[0])throw n[0];return n[1]}function C0(r,t,e){let n=eo(r,t,{coerce:!0,mask:!0,message:e});if(n[0])throw n[0];return n[1]}function uf(r,t){return!eo(r,t)[0]}function eo(r,t,e={}){let n=La(r,t,e),o=P0(n);return o[0]?[new Ra(o[0],function*(){for(let i of n)i[0]&&(yield i[0])}),void 0]:[void 0,o[1]]}function on(r,t){return new We({type:r,schema:null,validator:t})}function ff(){return on("any",()=>!0)}function $(r){return new We({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(let[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Je(t)}`}})}function Xe(){return on("boolean",r=>typeof r=="boolean")}function Bs(r){return on("instance",t=>t instanceof r||`Expected a \`${r.name}\` instance, but received: ${Je(t)}`)}function Tt(r){let t=Je(r),e=typeof r;return new We({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${t}\`, but received: ${Je(n)}`}})}function O0(){return on("never",()=>!1)}function j(r){return new We(ct(J({},r),{validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)}))}function R(){return on("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${Je(r)}`)}function et(r){return new We(ct(J({},r),{validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)}))}function Ta(r,t){return new We({type:"record",schema:null,*entries(e){if(to(e))for(let n in e){let o=e[n];yield[n,n,r],yield[n,o,t]}},validator(e){return Es(e)||`Expected an object, but received: ${Je(e)}`},coercer(e){return Es(e)?J({},e):e}})}function q(){return on("string",r=>typeof r=="string"||`Expected a string, but received: ${Je(r)}`)}function As(r){let t=O0();return new We({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){let n=Math.max(r.length,e.length);for(let o=0;o<n;o++)yield[o,e[o],r[o]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${Je(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function F(r){let t=Object.keys(r);return new We({type:"type",schema:r,*entries(e){if(to(e))for(let n of t)yield[n,e[n],r[n]]},validator(e){return Es(e)||`Expected an object, but received: ${Je(e)}`},coercer(e){return Es(e)?J({},e):e}})}function Ee(r){let t=r.map(e=>e.type).join(" | ");return new We({type:"union",schema:null,coercer(e,n){for(let o of r){let[s,i]=o.validate(e,{coerce:!0,mask:n.mask});if(!s)return i}return e},validator(e,n){let o=[];for(let s of r){let[...i]=La(e,s,n),[c]=i;if(c[0])for(let[u]of i)u&&o.push(u);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Je(e)}`,...o]}})}function sn(){return on("unknown",()=>!0)}function _n(r,t,e){return new We(ct(J({},r),{coercer:(n,o)=>uf(n,t)?r.coercer(e(n,o),o):r.coercer(n,o)}))}var bl=er(Cf());var Nf=er(Wn(),1);var Ms=er(Uf(),1);var ap=class extends Ms.default{constructor(t,e,n){super();ge(this,"socket");this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(t,e,n){let o=n||e;try{this.socket.send(t),o()}catch(s){o(s)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function Ff(r,t){return new ap(r,t)}var cp=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},zf=class extends Ms.default{constructor(t,e="ws://localhost:8080",y={},u,p){var b=y,{autoconnect:n=!0,reconnect:o=!0,reconnect_interval:s=1e3,max_reconnects:i=5}=b,c=fr(b,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);super();ge(this,"address");ge(this,"rpc_id");ge(this,"queue");ge(this,"options");ge(this,"autoconnect");ge(this,"ready");ge(this,"reconnect");ge(this,"reconnect_timer_id");ge(this,"reconnect_interval");ge(this,"max_reconnects");ge(this,"rest_options");ge(this,"current_reconnects");ge(this,"generate_request_id");ge(this,"socket");ge(this,"webSocketFactory");ge(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),p?this.dataPack=p:this.dataPack=new cp,this.autoconnect&&this._connect(this.address,J({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}connect(){this.socket||this._connect(this.address,J({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}call(t,e,n,o){return!o&&typeof n=="object"&&(o=n,n=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));let c=this.generate_request_id(t,e),u={jsonrpc:"2.0",method:t,params:e||void 0,id:c};this.socket.send(this.dataPack.encode(u),o,p=>{if(p)return i(p);this.queue[c]={promise:[s,i]},n&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],i(new Error("reply timeout"))},n))})})}login(t){return C(this,null,function*(){let e=yield this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e})}listMethods(){return C(this,null,function*(){return yield this.call("__listMethods")})}notify(t,e){return new Promise((n,o)=>{if(!this.ready)return o(new Error("socket not ready"));let s={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(s),i=>{if(i)return o(i);n()})})}subscribe(t){return C(this,null,function*(){typeof t=="string"&&(t=[t]);let e=yield this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e})}unsubscribe(t){return C(this,null,function*(){typeof t=="string"&&(t=[t]);let e=yield this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e})}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Nf.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch(o){return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);let o=[n.notification];if(n.params.constructor===Object)o.push(n.params);else for(let s=0;s<n.params.length;s++)o.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",n,o),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};var Kf=[],Wf=[],Hf=[],up=BigInt(0),ao=BigInt(1),fp=BigInt(2),lp=BigInt(7),hp=BigInt(256),dp=BigInt(113);for(let r=0,t=ao,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],Kf.push(2*(5*n+e)),Wf.push((r+1)*(r+2)/2%64);let o=up;for(let s=0;s<7;s++)t=(t<<ao^(t>>lp)*dp)%hp,t&fp&&(o^=ao<<(ao<<BigInt(s))-ao);Hf.push(o)}var[pp,yp]=Zi(Hf,!0),Df=(r,t,e)=>e>32?Xi(r,t,e):Yi(r,t,e),qf=(r,t,e)=>e>32?Qi(r,t,e):Ji(r,t,e);function mp(r,t=24){let e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)e[i]=r[i]^r[i+10]^r[i+20]^r[i+30]^r[i+40];for(let i=0;i<10;i+=2){let c=(i+8)%10,u=(i+2)%10,p=e[u],y=e[u+1],b=Df(p,y,1)^e[c],I=qf(p,y,1)^e[c+1];for(let E=0;E<50;E+=10)r[i+E]^=b,r[i+E+1]^=I}let o=r[2],s=r[3];for(let i=0;i<24;i++){let c=Wf[i],u=Df(o,s,c),p=qf(o,s,c),y=Kf[i];o=r[y],s=r[y+1],r[y]=u,r[y+1]=p}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)e[c]=r[i+c];for(let c=0;c<10;c++)r[i+c]^=~e[(c+2)%10]&e[(c+4)%10]}r[0]^=pp[n],r[1]^=yp[n]}e.fill(0)}var Cs=class r extends Br{constructor(t,e,n,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Hn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Bu(this.state)}keccak(){Vi||$i(this.state32),mp(this.state32,this.rounds),Vi||$i(this.state32),this.posOut=0,this.pos=0}update(t){hr(this);let{blockLen:e,state:n}=this;t=Ar(t);let o=t.length;for(let s=0;s<o;){let i=Math.min(e-this.pos,o-s);for(let c=0;c<i;c++)n[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:n,blockLen:o}=this;t[n]^=e,(e&128)!==0&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){hr(this,!1),Er(t),this.finish();let e=this.state,{blockLen:n}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-o);t.set(e.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Hn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Fo(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new r(e,n,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}},Dr=(r,t,e)=>xn(()=>new Cs(t,r,e)),Rw=Dr(6,144,224/8),Lw=Dr(6,136,256/8),Tw=Dr(6,104,384/8),Pw=Dr(6,72,512/8),Mw=Dr(1,144,224/8),Ka=Dr(1,136,256/8),Cw=Dr(1,104,384/8),Ow=Dr(1,72,512/8),Vf=(r,t,e)=>Iu((n={})=>new Cs(t,r,n.dkLen===void 0?e:n.dkLen,!0)),Uw=Vf(31,168,128/8),Nw=Vf(31,136,256/8);var Os=class extends Br{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Eu(t);let n=Ar(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return hr(this),this.iHash.update(t),this}digestInto(t){hr(this),Er(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Wa=(r,t,e)=>new Os(r,t).update(e).digest();Wa.create=(r,t)=>new Os(r,t);function $f(r){r.lowS!==void 0&&Ze("lowS",r.lowS),r.prehash!==void 0&&Ze("prehash",r.prehash)}function gp(r){let t=jn(r);or(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:o}=t;if(e){if(!n.eql(o,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze(J({},t))}var{bytesToNumberBE:bp,hexToBytes:wp}=Ho,Ha=class extends Error{constructor(t=""){super(t)}},wr={Err:Ha,_tlv:{encode:(r,t)=>{let{Err:e}=wr;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");let n=t.length/2,o=Zr(n);if(o.length/2&128)throw new e("tlv.encode: long form length too big");let s=n>127?Zr(o.length/2|128):"";return Zr(r)+s+o+t},decode(r,t){let{Err:e}=wr,n=0;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[n++]!==r)throw new e("tlv.decode: wrong tlv");let o=t[n++],s=!!(o&128),i=0;if(!s)i=o;else{let u=o&127;if(!u)throw new e("tlv.decode(long): indefinite length not supported");if(u>4)throw new e("tlv.decode(long): byte length is too big");let p=t.subarray(n,n+u);if(p.length!==u)throw new e("tlv.decode: length bytes not complete");if(p[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(let y of p)i=i<<8|y;if(n+=u,i<128)throw new e("tlv.decode(long): not minimal encoding")}let c=t.subarray(n,n+i);if(c.length!==i)throw new e("tlv.decode: wrong value length");return{v:c,l:t.subarray(n+i)}}},_int:{encode(r){let{Err:t}=wr;if(r<xr)throw new t("integer: negative integers are not allowed");let e=Zr(r);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(r){let{Err:t}=wr;if(r[0]&128)throw new t("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return bp(r)}},toSig(r){let{Err:t,_int:e,_tlv:n}=wr,o=typeof r=="string"?wp(r):r;Sn(o);let{v:s,l:i}=n.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:c,l:u}=n.decode(2,s),{v:p,l:y}=n.decode(2,u);if(y.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(c),s:e.decode(p)}},hexFromSig(r){let{_tlv:t,_int:e}=wr,n=t.encode(2,e.encode(r.r)),o=t.encode(2,e.encode(r.s)),s=n+o;return t.encode(48,s)}},xr=BigInt(0),we=BigInt(1),Vw=BigInt(2),jf=BigInt(3),$w=BigInt(4);function xp(r){let t=gp(r),{Fp:e}=t,n=Pr(t.n,t.nBitLength),o=t.toBytes||((A,S,L)=>{let U=S.toAffine();return mr(Uint8Array.from([4]),e.toBytes(U.x),e.toBytes(U.y))}),s=t.fromBytes||(A=>{let S=A.subarray(1),L=e.fromBytes(S.subarray(0,e.BYTES)),U=e.fromBytes(S.subarray(e.BYTES,2*e.BYTES));return{x:L,y:U}});function i(A){let{a:S,b:L}=t,U=e.sqr(A),M=e.mul(U,A);return e.add(e.add(M,e.mul(A,S)),L)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function c(A){return Vn(A,we,t.n)}function u(A){let{allowedPrivateKeyLengths:S,nByteLength:L,wrapPrivateKey:U,n:M}=t;if(S&&typeof A!="bigint"){if(Rr(A)&&(A=pr(A)),typeof A!="string"||!S.includes(A.length))throw new Error("invalid private key");A=A.padStart(L*2,"0")}let z;try{z=typeof A=="bigint"?A:yr(Ft("private key",A,L))}catch(G){throw new Error("invalid private key, expected hex or "+L+" bytes, got "+typeof A)}return U&&(z=vt(z,M)),Ue("private key",z,we,M),z}function p(A){if(!(A instanceof I))throw new Error("ProjectivePoint expected")}let y=Xr((A,S)=>{let{px:L,py:U,pz:M}=A;if(e.eql(M,e.ONE))return{x:L,y:U};let z=A.is0();S==null&&(S=z?e.ONE:e.inv(M));let G=e.mul(L,S),H=e.mul(U,S),V=e.mul(M,S);if(z)return{x:e.ZERO,y:e.ZERO};if(!e.eql(V,e.ONE))throw new Error("invZ was invalid");return{x:G,y:H}}),b=Xr(A=>{if(A.is0()){if(t.allowInfinityPoint&&!e.is0(A.py))return;throw new Error("bad point: ZERO")}let{x:S,y:L}=A.toAffine();if(!e.isValid(S)||!e.isValid(L))throw new Error("bad point: x or y not FE");let U=e.sqr(L),M=i(S);if(!e.eql(U,M))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class I{constructor(S,L,U){if(this.px=S,this.py=L,this.pz=U,S==null||!e.isValid(S))throw new Error("x required");if(L==null||!e.isValid(L))throw new Error("y required");if(U==null||!e.isValid(U))throw new Error("z required");Object.freeze(this)}static fromAffine(S){let{x:L,y:U}=S||{};if(!S||!e.isValid(L)||!e.isValid(U))throw new Error("invalid affine point");if(S instanceof I)throw new Error("projective point not allowed");let M=z=>e.eql(z,e.ZERO);return M(L)&&M(U)?I.ZERO:new I(L,U,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){let L=e.invertBatch(S.map(U=>U.pz));return S.map((U,M)=>U.toAffine(L[M])).map(I.fromAffine)}static fromHex(S){let L=I.fromAffine(s(Ft("pointHex",S)));return L.assertValidity(),L}static fromPrivateKey(S){return I.BASE.multiply(u(S))}static msm(S,L){return Go(I,n,S,L)}_setWindowSize(S){_.setWindowSize(this,S)}assertValidity(){b(this)}hasEvenY(){let{y:S}=this.toAffine();if(e.isOdd)return!e.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){p(S);let{px:L,py:U,pz:M}=this,{px:z,py:G,pz:H}=S,V=e.eql(e.mul(L,H),e.mul(z,M)),Z=e.eql(e.mul(U,H),e.mul(G,M));return V&&Z}negate(){return new I(this.px,e.neg(this.py),this.pz)}double(){let{a:S,b:L}=t,U=e.mul(L,jf),{px:M,py:z,pz:G}=this,H=e.ZERO,V=e.ZERO,Z=e.ZERO,Y=e.mul(M,M),St=e.mul(z,z),tt=e.mul(G,G),at=e.mul(M,z);return at=e.add(at,at),Z=e.mul(M,G),Z=e.add(Z,Z),H=e.mul(S,Z),V=e.mul(U,tt),V=e.add(H,V),H=e.sub(St,V),V=e.add(St,V),V=e.mul(H,V),H=e.mul(at,H),Z=e.mul(U,Z),tt=e.mul(S,tt),at=e.sub(Y,tt),at=e.mul(S,at),at=e.add(at,Z),Z=e.add(Y,Y),Y=e.add(Z,Y),Y=e.add(Y,tt),Y=e.mul(Y,at),V=e.add(V,Y),tt=e.mul(z,G),tt=e.add(tt,tt),Y=e.mul(tt,at),H=e.sub(H,Y),Z=e.mul(tt,St),Z=e.add(Z,Z),Z=e.add(Z,Z),new I(H,V,Z)}add(S){p(S);let{px:L,py:U,pz:M}=this,{px:z,py:G,pz:H}=S,V=e.ZERO,Z=e.ZERO,Y=e.ZERO,St=t.a,tt=e.mul(t.b,jf),at=e.mul(L,z),k=e.mul(U,G),a=e.mul(M,H),l=e.add(L,U),h=e.add(z,G);l=e.mul(l,h),h=e.add(at,k),l=e.sub(l,h),h=e.add(L,M);let d=e.add(z,H);return h=e.mul(h,d),d=e.add(at,a),h=e.sub(h,d),d=e.add(U,M),V=e.add(G,H),d=e.mul(d,V),V=e.add(k,a),d=e.sub(d,V),Y=e.mul(St,h),V=e.mul(tt,a),Y=e.add(V,Y),V=e.sub(k,Y),Y=e.add(k,Y),Z=e.mul(V,Y),k=e.add(at,at),k=e.add(k,at),a=e.mul(St,a),h=e.mul(tt,h),k=e.add(k,a),a=e.sub(at,a),a=e.mul(St,a),h=e.add(h,a),at=e.mul(k,h),Z=e.add(Z,at),at=e.mul(d,h),V=e.mul(l,V),V=e.sub(V,at),at=e.mul(l,k),Y=e.mul(d,Y),Y=e.add(Y,at),new I(V,Z,Y)}subtract(S){return this.add(S.negate())}is0(){return this.equals(I.ZERO)}wNAF(S){return _.wNAFCached(this,S,I.normalizeZ)}multiplyUnsafe(S){let{endo:L,n:U}=t;Ue("scalar",S,xr,U);let M=I.ZERO;if(S===xr)return M;if(this.is0()||S===we)return this;if(!L||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,S,I.normalizeZ);let{k1neg:z,k1:G,k2neg:H,k2:V}=L.splitScalar(S),Z=M,Y=M,St=this;for(;G>xr||V>xr;)G&we&&(Z=Z.add(St)),V&we&&(Y=Y.add(St)),St=St.double(),G>>=we,V>>=we;return z&&(Z=Z.negate()),H&&(Y=Y.negate()),Y=new I(e.mul(Y.px,L.beta),Y.py,Y.pz),Z.add(Y)}multiply(S){let{endo:L,n:U}=t;Ue("scalar",S,we,U);let M,z;if(L){let{k1neg:G,k1:H,k2neg:V,k2:Z}=L.splitScalar(S),{p:Y,f:St}=this.wNAF(H),{p:tt,f:at}=this.wNAF(Z);Y=_.constTimeNegate(G,Y),tt=_.constTimeNegate(V,tt),tt=new I(e.mul(tt.px,L.beta),tt.py,tt.pz),M=Y.add(tt),z=St.add(at)}else{let{p:G,f:H}=this.wNAF(S);M=G,z=H}return I.normalizeZ([M,z])[0]}multiplyAndAddUnsafe(S,L,U){let M=I.BASE,z=(H,V)=>V===xr||V===we||!H.equals(M)?H.multiplyUnsafe(V):H.multiply(V),G=z(this,L).add(z(S,U));return G.is0()?void 0:G}toAffine(S){return y(this,S)}isTorsionFree(){let{h:S,isTorsionFree:L}=t;if(S===we)return!0;if(L)return L(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:S,clearCofactor:L}=t;return S===we?this:L?L(I,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return Ze("isCompressed",S),this.assertValidity(),o(I,this,S)}toHex(S=!0){return Ze("isCompressed",S),pr(this.toRawBytes(S))}}I.BASE=new I(t.Gx,t.Gy,e.ONE),I.ZERO=new I(e.ZERO,e.ONE,e.ZERO);let E=t.nBitLength,_=jo(I,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:I,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:c}}function kp(r){let t=jn(r);return or(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(J({lowS:!0},t))}function Gf(r){let t=kp(r),{Fp:e,n}=t,o=e.BYTES+1,s=2*e.BYTES+1;function i(a){return vt(a,n)}function c(a){return Vo(a,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:p,weierstrassEquation:y,isWithinCurveOrder:b}=xp(ct(J({},t),{toBytes(a,l,h){let d=l.toAffine(),m=e.toBytes(d.x),x=mr;return Ze("isCompressed",h),h?x(Uint8Array.from([l.hasEvenY()?2:3]),m):x(Uint8Array.from([4]),m,e.toBytes(d.y))},fromBytes(a){let l=a.length,h=a[0],d=a.subarray(1);if(l===o&&(h===2||h===3)){let m=yr(d);if(!Vn(m,we,e.ORDER))throw new Error("Point is not on curve");let x=y(m),B;try{B=e.sqrt(x)}catch(w){let N=w instanceof Error?": "+w.message:"";throw new Error("Point is not on curve"+N)}let g=(B&we)===we;return(h&1)===1!==g&&(B=e.neg(B)),{x:m,y:B}}else if(l===s&&h===4){let m=e.fromBytes(d.subarray(0,e.BYTES)),x=e.fromBytes(d.subarray(e.BYTES,2*e.BYTES));return{x:m,y:x}}else{let m=o,x=s;throw new Error("invalid Point, expected length of "+m+", or uncompressed "+x+", got "+l)}}})),I=a=>pr(Tr(a,t.nByteLength));function E(a){let l=n>>we;return a>l}function _(a){return E(a)?i(-a):a}let A=(a,l,h)=>yr(a.slice(l,h));class S{constructor(l,h,d){this.r=l,this.s=h,this.recovery=d,this.assertValidity()}static fromCompact(l){let h=t.nByteLength;return l=Ft("compactSignature",l,h*2),new S(A(l,0,h),A(l,h,2*h))}static fromDER(l){let{r:h,s:d}=wr.toSig(Ft("DER",l));return new S(h,d)}assertValidity(){Ue("r",this.r,we,n),Ue("s",this.s,we,n)}addRecoveryBit(l){return new S(this.r,this.s,l)}recoverPublicKey(l){let{r:h,s:d,recovery:m}=this,x=H(Ft("msgHash",l));if(m==null||![0,1,2,3].includes(m))throw new Error("recovery id invalid");let B=m===2||m===3?h+t.n:h;if(B>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let g=(m&1)===0?"02":"03",f=u.fromHex(g+I(B)),w=c(B),N=i(-x*w),D=i(d*w),K=u.BASE.multiplyAndAddUnsafe(f,N,D);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Yr(this.toDERHex())}toDERHex(){return wr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yr(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let L={isValidPrivateKey(a){try{return p(a),!0}catch(l){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let a=ua(t.n);return Fu(t.randomBytes(a),t.n)},precompute(a=8,l=u.BASE){return l._setWindowSize(a),l.multiply(BigInt(3)),l}};function U(a,l=!0){return u.fromPrivateKey(a).toRawBytes(l)}function M(a){let l=Rr(a),h=typeof a=="string",d=(l||h)&&a.length;return l?d===o||d===s:h?d===2*o||d===2*s:a instanceof u}function z(a,l,h=!0){if(M(a))throw new Error("first arg must be private key");if(!M(l))throw new Error("second arg must be public key");return u.fromHex(l).multiply(p(a)).toRawBytes(h)}let G=t.bits2int||function(a){if(a.length>8192)throw new Error("input is too large");let l=yr(a),h=a.length*8-t.nBitLength;return h>0?l>>BigInt(h):l},H=t.bits2int_modN||function(a){return i(G(a))},V=$n(t.nBitLength);function Z(a){return Ue("num < 2^"+t.nBitLength,a,xr,V),Tr(a,t.nByteLength)}function Y(a,l,h=St){if(["recovered","canonical"].some(rt=>rt in h))throw new Error("sign() legacy options not supported");let{hash:d,randomBytes:m}=t,{lowS:x,prehash:B,extraEntropy:g}=h;x==null&&(x=!0),a=Ft("msgHash",a),$f(h),B&&(a=Ft("prehashed msgHash",d(a)));let f=H(a),w=p(l),N=[Z(w),Z(f)];if(g!=null&&g!==!1){let rt=g===!0?m(e.BYTES):g;N.push(Ft("extraEntropy",rt))}let D=mr(...N),K=f;function X(rt){let it=G(rt);if(!b(it))return;let _t=c(it),ut=u.BASE.multiply(it).toAffine(),lt=i(ut.x);if(lt===xr)return;let ze=i(_t*i(K+lt*w));if(ze===xr)return;let xt=(ut.x===lt?0:2)|Number(ut.y&we),wt=ze;return x&&E(ze)&&(wt=_(ze),xt^=1),new S(lt,wt,xt)}return{seed:D,k2sig:X}}let St={lowS:t.lowS,prehash:!1},tt={lowS:t.lowS,prehash:!1};function at(a,l,h=St){let{seed:d,k2sig:m}=Y(a,l,h),x=t;return sa(x.hash.outputLen,x.nByteLength,x.hmac)(d,m)}u.BASE._setWindowSize(8);function k(a,l,h,d=tt){var xt;let m=a;l=Ft("msgHash",l),h=Ft("publicKey",h);let{lowS:x,prehash:B,format:g}=d;if($f(d),"strict"in d)throw new Error("options.strict was renamed to lowS");if(g!==void 0&&g!=="compact"&&g!=="der")throw new Error("format must be compact or der");let f=typeof m=="string"||Rr(m),w=!f&&!g&&typeof m=="object"&&m!==null&&typeof m.r=="bigint"&&typeof m.s=="bigint";if(!f&&!w)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let N,D;try{if(w&&(N=new S(m.r,m.s)),f){try{g!=="compact"&&(N=S.fromDER(m))}catch(wt){if(!(wt instanceof wr.Err))throw wt}!N&&g!=="der"&&(N=S.fromCompact(m))}D=u.fromHex(h)}catch(wt){return!1}if(!N||x&&N.hasHighS())return!1;B&&(l=t.hash(l));let{r:K,s:X}=N,rt=H(l),it=c(X),_t=i(rt*it),ut=i(K*it),lt=(xt=u.BASE.multiplyAndAddUnsafe(D,_t,ut))==null?void 0:xt.toAffine();return lt?i(lt.x)===K:!1}return{CURVE:t,getPublicKey:U,getSharedSecret:z,sign:at,verify:k,ProjectivePoint:u,Signature:S,utils:L}}function Sp(r){return{hash:r,hmac:(t,...e)=>Wa(r,t,ji(...e)),randomBytes:Do}}function Zf(r,t){let e=n=>Gf(J(J({},r),Sp(n)));return ct(J({},e(t)),{create:e})}var Xf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vp=BigInt(1),Va=BigInt(2),Jf=(r,t)=>(r+t/Va)/t;function Ep(r){let t=Xf,e=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),p=r*r*r%t,y=p*p*r%t,b=Lt(y,e,t)*y%t,I=Lt(b,e,t)*y%t,E=Lt(I,Va,t)*p%t,_=Lt(E,o,t)*E%t,A=Lt(_,s,t)*_%t,S=Lt(A,c,t)*A%t,L=Lt(S,u,t)*S%t,U=Lt(L,c,t)*A%t,M=Lt(U,e,t)*y%t,z=Lt(M,i,t)*_%t,G=Lt(z,n,t)*p%t,H=Lt(G,Va,t);if(!$a.eql($a.sqr(H),r))throw new Error("Cannot find square root");return H}var $a=Pr(Xf,void 0,void 0,{sqrt:Ep}),co=Zf({a:BigInt(0),b:BigInt(7),Fp:$a,n:Yf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=Yf,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-vp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=e,i=BigInt("0x100000000000000000000000000000000"),c=Jf(s*r,t),u=Jf(-n*r,t),p=vt(r-c*e-u*o,t),y=vt(-c*n-u*s,t),b=p>i,I=y>i;if(b&&(p=t-p),I&&(y=t-y),p>i||y>i)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:b,k1:p,k2neg:I,k2:y}}}},Gn),n1=BigInt(0);var o1=co.ProjectivePoint;var h1=tn.utils.randomPrivateKey,Qf=()=>{let r=tn.utils.randomPrivateKey(),t=rc(r),e=new Uint8Array(64);return e.set(r),e.set(t,32),{publicKey:t,secretKey:e}},rc=tn.getPublicKey;function tl(r){try{return tn.ExtendedPoint.fromHex(r),!0}catch(t){return!1}}var wl=(r,t)=>tn.sign(r,t.slice(0,32)),Bp=tn.verify,yt=r=>nt.Buffer.isBuffer(r)?r:r instanceof Uint8Array?nt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):nt.Buffer.from(r),nc=class{constructor(t){Object.assign(this,t)}encode(){return nt.Buffer.from((0,Pn.serialize)(Fs,this))}static decode(t){return(0,Pn.deserialize)(Fs,this,t)}static decodeUnchecked(t){return(0,Pn.deserializeUnchecked)(Fs,this,t)}};var Fs=new Map,xl,Ap=32,Wr=32;function Ip(r){return r._bn!==void 0}var el=1,ot=class r extends nc{constructor(t){if(super({}),this._bn=void 0,Ip(t))this._bn=t._bn;else{if(typeof t=="string"){let e=xe.default.decode(t);if(e.length!=Wr)throw new Error("Invalid public key input");this._bn=new ec.default(e)}else this._bn=new ec.default(t);if(this._bn.byteLength()>Wr)throw new Error("Invalid public key input")}}static unique(){let t=new r(el);return el+=1,new r(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return xe.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(nt.Buffer);if(t.length===Wr)return t;let e=nt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static createWithSeed(t,e,n){return C(this,null,function*(){let o=nt.Buffer.concat([t.toBuffer(),nt.Buffer.from(e),n.toBuffer()]),s=Gn(o);return new r(s)})}static createProgramAddressSync(t,e){let n=nt.Buffer.alloc(0);t.forEach(function(s){if(s.length>Ap)throw new TypeError("Max seed length exceeded");n=nt.Buffer.concat([n,yt(s)])}),n=nt.Buffer.concat([n,e.toBuffer(),nt.Buffer.from("ProgramDerivedAddress")]);let o=Gn(n);if(tl(o))throw new Error("Invalid seeds, address must fall off the curve");return new r(o)}static createProgramAddress(t,e){return C(this,null,function*(){return this.createProgramAddressSync(t,e)})}static findProgramAddressSync(t,e){let n=255,o;for(;n!=0;){try{let s=t.concat(nt.Buffer.from([n]));o=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static findProgramAddress(t,e){return C(this,null,function*(){return this.findProgramAddressSync(t,e)})}static isOnCurve(t){let e=new r(t);return tl(e.toBytes())}};xl=ot;ot.default=new xl("11111111111111111111111111111111");Fs.set(ot,{kind:"struct",fields:[["_bn","u256"]]});var d1=new ot("BPFLoader1111111111111111111111111111111111"),un=1232,kl=127,Sl=64,zs=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(zs.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Ds=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Ds.prototype,"name",{value:"TransactionExpiredTimeoutError"});var cn=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(cn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Ln=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,i)=>{n.set(s.toBase58(),i)});let o=s=>{let i=n.get(s.toBase58());if(i===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return i};return t.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(i=>o(i.pubkey)),data:s.data}))}},pt=(r="publicKey")=>v.blob(32,r);var Rn=(r="string")=>{let t=v.struct([v.u32("length"),v.u32("lengthPadding"),v.blob(v.offset(v.u32(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),o=t;return o.decode=(s,i)=>e(s,i).chars.toString(),o.encode=(s,i,c)=>{let u={chars:nt.Buffer.from(s,"utf8")};return n(u,i,c)},o.alloc=s=>v.u32().span+v.u32().span+nt.Buffer.from(s,"utf8").length,o},_p=(r="authorized")=>v.struct([pt("staker"),pt("withdrawer")],r),Rp=(r="lockup")=>v.struct([v.ns64("unixTimestamp"),v.ns64("epoch"),pt("custodian")],r),Lp=(r="voteInit")=>v.struct([pt("nodePubkey"),pt("authorizedVoter"),pt("authorizedWithdrawer"),v.u8("commission")],r),Tp=(r="voteAuthorizeWithSeedArgs")=>v.struct([v.u32("voteAuthorizationType"),pt("currentAuthorityDerivedKeyOwnerPubkey"),Rn("currentAuthorityDerivedKeySeed"),pt("newAuthorized")],r);function vl(r,t){let e=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(t[o.property]);if("count"in o&&"elementLayout"in o){let s=t[o.property];if(Array.isArray(s))return s.length*e(o.elementLayout)}else if("fields"in o)return vl({layout:o},t[o.property]);return 0},n=0;return r.layout.fields.forEach(o=>{n+=e(o)}),n}function Ve(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,(n&128)===0)break}return t}function $e(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function It(r,t){if(!r)throw new Error(t||"Assertion failed")}var qs=class r{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let n=new Map,o=i=>{let c=i.toBase58(),u=n.get(c);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,u)),u},s=o(e);s.isSigner=!0,s.isWritable=!0;for(let i of t){o(i.programId).isInvoked=!0;for(let c of i.keys){let u=o(c.pubkey);u.isSigner||(u.isSigner=c.isSigner),u.isWritable||(u.isWritable=c.isWritable)}}return new r(e,n)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];It(t.length<=256,"Max static account keys length exceeded");let e=t.filter(([,u])=>u.isSigner&&u.isWritable),n=t.filter(([,u])=>u.isSigner&&!u.isWritable),o=t.filter(([,u])=>!u.isSigner&&u.isWritable),s=t.filter(([,u])=>!u.isSigner&&!u.isWritable),i={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{It(e.length>0,"Expected at least one writable signer key");let[u]=e[0];It(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...e.map(([u])=>new ot(u)),...n.map(([u])=>new ot(u)),...o.map(([u])=>new ot(u)),...s.map(([u])=>new ot(u))];return[i,c]}extractTableLookup(t){let[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,i=>!i.isSigner&&!i.isInvoked&&i.isWritable),[o,s]=this.drainKeysFoundInLookupTable(t.state.addresses,i=>!i.isSigner&&!i.isInvoked&&!i.isWritable);if(!(e.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:o},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,e){let n=new Array,o=new Array;for(let[s,i]of this.keyMetaMap.entries())if(e(i)){let c=new ot(s),u=t.findIndex(p=>p.equals(c));u>=0&&(It(u<256,"Max lookup table index exceeded"),n.push(u),o.push(c),this.keyMetaMap.delete(s))}return[n,o]}},El="Reached end of buffer unexpectedly";function Sr(r){if(r.length===0)throw new Error(El);return r.shift()}function je(r,...t){var n;let[e]=t;if(t.length===2?e+((n=t[1])!=null?n:0)>r.length:e>=r.length)throw new Error(El);return r.splice(...t)}var fn=class r{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new ot(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:xe.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ln(this.staticAccountKeys)}static compile(t){let e=qs.compile(t.instructions,t.payerKey),[n,o]=e.getMessageComponents(),i=new Ln(o).compileInstructions(t.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:xe.default.encode(c.data)}));return new r({header:n,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let n=t-e,s=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];$e(e,t);let n=this.instructions.map(b=>{let{accounts:I,programIdIndex:E}=b,_=Array.from(xe.default.decode(b.data)),A=[];$e(A,I.length);let S=[];return $e(S,_.length),{programIdIndex:E,keyIndicesCount:nt.Buffer.from(A),keyIndices:I,dataLength:nt.Buffer.from(S),data:_}}),o=[];$e(o,n.length);let s=nt.Buffer.alloc(un);nt.Buffer.from(o).copy(s);let i=o.length;n.forEach(b=>{let E=v.struct([v.u8("programIdIndex"),v.blob(b.keyIndicesCount.length,"keyIndicesCount"),v.seq(v.u8("keyIndex"),b.keyIndices.length,"keyIndices"),v.blob(b.dataLength.length,"dataLength"),v.seq(v.u8("userdatum"),b.data.length,"data")]).encode(b,s,i);i+=E}),s=s.slice(0,i);let c=v.struct([v.blob(1,"numRequiredSignatures"),v.blob(1,"numReadonlySignedAccounts"),v.blob(1,"numReadonlyUnsignedAccounts"),v.blob(e.length,"keyCount"),v.seq(pt("key"),t,"keys"),pt("recentBlockhash")]),u={numRequiredSignatures:nt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:nt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:nt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:nt.Buffer.from(e),keys:this.accountKeys.map(b=>yt(b.toBytes())),recentBlockhash:xe.default.decode(this.recentBlockhash)},p=nt.Buffer.alloc(2048),y=c.encode(u,p);return s.copy(p,y),p.slice(0,y+s.length)}static from(t){let e=[...t],n=Sr(e);if(n!==(n&kl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=Sr(e),s=Sr(e),i=Ve(e),c=[];for(let I=0;I<i;I++){let E=je(e,0,Wr);c.push(new ot(nt.Buffer.from(E)))}let u=je(e,0,Wr),p=Ve(e),y=[];for(let I=0;I<p;I++){let E=Sr(e),_=Ve(e),A=je(e,0,_),S=Ve(e),L=je(e,0,S),U=xe.default.encode(nt.Buffer.from(L));y.push({programIdIndex:E,accounts:A,data:U})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:xe.default.encode(nt.Buffer.from(u)),accountKeys:c,instructions:y};return new r(b)}},oc=class r{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ln(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){let o=t-n,s=this.addressTableLookups.reduce((i,c)=>i+c.writableIndexes.length,0);return o<s}else if(t>=this.header.numRequiredSignatures){let o=t-e,i=n-e-this.header.numReadonlyUnsignedAccounts;return o<i}else{let o=e-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){let e={writable:[],readonly:[]};for(let n of this.addressTableLookups){let o=t.find(s=>s.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<o.state.addresses.length)e.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<o.state.addresses.length)e.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){let e=qs.compile(t.instructions,t.payerKey),n=new Array,o={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(let y of s){let b=e.extractTableLookup(y);if(b!==void 0){let[I,{writable:E,readonly:_}]=b;n.push(I),o.writable.push(...E),o.readonly.push(..._)}}let[i,c]=e.getMessageComponents(),p=new Ln(c,o).compileInstructions(t.instructions);return new r({header:i,staticAccountKeys:c,recentBlockhash:t.recentBlockhash,compiledInstructions:p,addressTableLookups:n})}serialize(){let t=Array();$e(t,this.staticAccountKeys.length);let e=this.serializeInstructions(),n=Array();$e(n,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),s=Array();$e(s,this.addressTableLookups.length);let i=v.struct([v.u8("prefix"),v.struct([v.u8("numRequiredSignatures"),v.u8("numReadonlySignedAccounts"),v.u8("numReadonlyUnsignedAccounts")],"header"),v.blob(t.length,"staticAccountKeysLength"),v.seq(pt(),this.staticAccountKeys.length,"staticAccountKeys"),pt("recentBlockhash"),v.blob(n.length,"instructionsLength"),v.blob(e.length,"serializedInstructions"),v.blob(s.length,"addressTableLookupsLength"),v.blob(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(un),p=i.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(y=>y.toBytes()),recentBlockhash:xe.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},c);return c.slice(0,p)}serializeInstructions(){let t=0,e=new Uint8Array(un);for(let n of this.compiledInstructions){let o=Array();$e(o,n.accountKeyIndexes.length);let s=Array();$e(s,n.data.length);let i=v.struct([v.u8("programIdIndex"),v.blob(o.length,"encodedAccountKeyIndexesLength"),v.seq(v.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),v.blob(s.length,"encodedDataLength"),v.blob(n.data.length,"data")]);t+=i.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0,e=new Uint8Array(un);for(let n of this.addressTableLookups){let o=Array();$e(o,n.writableIndexes.length);let s=Array();$e(s,n.readonlyIndexes.length);let i=v.struct([pt("accountKey"),v.blob(o.length,"encodedWritableIndexesLength"),v.seq(v.u8(),n.writableIndexes.length,"writableIndexes"),v.blob(s.length,"encodedReadonlyIndexesLength"),v.seq(v.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=i.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t],n=Sr(e),o=n&kl;It(n!==o,"Expected versioned message but received legacy message");let s=o;It(s===0,`Expected versioned message with version 0 but found version ${s}`);let i={numRequiredSignatures:Sr(e),numReadonlySignedAccounts:Sr(e),numReadonlyUnsignedAccounts:Sr(e)},c=[],u=Ve(e);for(let _=0;_<u;_++)c.push(new ot(je(e,0,Wr)));let p=xe.default.encode(je(e,0,Wr)),y=Ve(e),b=[];for(let _=0;_<y;_++){let A=Sr(e),S=Ve(e),L=je(e,0,S),U=Ve(e),M=new Uint8Array(je(e,0,U));b.push({programIdIndex:A,accountKeyIndexes:L,data:M})}let I=Ve(e),E=[];for(let _=0;_<I;_++){let A=new ot(je(e,0,Wr)),S=Ve(e),L=je(e,0,S),U=Ve(e),M=je(e,0,U);E.push({accountKey:A,writableIndexes:L,readonlyIndexes:M})}return new r({header:i,staticAccountKeys:c,recentBlockhash:p,compiledInstructions:b,addressTableLookups:E})}};var qr=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({}),Pp=nt.Buffer.alloc(Sl).fill(0),Bt=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=nt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},kt=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){let{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){let{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{let{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Bt(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<e.length;A++)if(e[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);let o=[],s=[];e.forEach(A=>{A.keys.forEach(L=>{s.push(J({},L))});let S=A.programId.toString();o.includes(S)||o.push(S)}),o.forEach(A=>{s.push({pubkey:new ot(A),isSigner:!1,isWritable:!1})});let i=[];s.forEach(A=>{let S=A.pubkey.toString(),L=i.findIndex(U=>U.pubkey.toString()===S);L>-1?(i[L].isWritable=i[L].isWritable||A.isWritable,i[L].isSigner=i[L].isSigner||A.isSigner):i.push(A)}),i.sort(function(A,S){if(A.isSigner!==S.isSigner)return A.isSigner?-1:1;if(A.isWritable!==S.isWritable)return A.isWritable?-1:1;let L={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return A.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",L)});let c=i.findIndex(A=>A.pubkey.equals(n));if(c>-1){let[A]=i.splice(c,1);A.isSigner=!0,A.isWritable=!0,i.unshift(A)}else i.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let A of this.signatures){let S=i.findIndex(L=>L.pubkey.equals(A.publicKey));if(S>-1)i[S].isSigner||(i[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let u=0,p=0,y=0,b=[],I=[];i.forEach(({pubkey:A,isSigner:S,isWritable:L})=>{S?(b.push(A.toString()),u+=1,L||(p+=1)):(I.push(A.toString()),L||(y+=1))});let E=b.concat(I),_=e.map(A=>{let{data:S,programId:L}=A;return{programIdIndex:E.indexOf(L.toString()),accounts:A.keys.map(U=>E.indexOf(U.pubkey.toString())),data:xe.default.encode(S)}});return _.forEach(A=>{It(A.programIdIndex>=0),A.accounts.forEach(S=>It(S>=0))}),new fn({header:{numRequiredSignatures:u,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:y},accountKeys:E,recentBlockhash:t,instructions:_})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((o,s)=>e[s].equals(o.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}getEstimatedFee(t){return C(this,null,function*(){return(yield t.getFeeForMessage(this.compileMessage())).value})}setSigners(...t){if(t.length===0)throw new Error("No signers");let e=new Set;this.signatures=t.filter(n=>{let o=n.toString();return e.has(o)?!1:(e.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let s of t){let i=s.publicKey.toString();e.has(i)||(e.add(i),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let o=this._compile();this._partialSign(o,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let s of t){let i=s.publicKey.toString();e.has(i)||(e.add(i),n.push(s))}let o=this._compile();this._partialSign(o,...n)}_partialSign(t,...e){let n=t.serialize();e.forEach(o=>{let s=wl(n,o.secretKey);this._addSignature(o.publicKey,yt(s))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){It(e.length===64);let n=this.signatures.findIndex(o=>t.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=nt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){let n={};for(let{signature:o,publicKey:s}of this.signatures)o===null?e&&(n.missing||(n.missing=[])).push(s):Bp(o,t,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(t){let{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(o,e);if(s){let i="Signature verification failed.";throw s.invalid&&(i+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),s.missing&&(i+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(i)}}return this._serialize(o)}_serialize(t){let{signatures:e}=this,n=[];$e(n,e.length);let o=n.length+e.length*64+t.length,s=nt.Buffer.alloc(o);return It(e.length<256),nt.Buffer.from(n).copy(s,0),e.forEach(({signature:i},c)=>{i!==null&&(It(i.length===64,"signature has invalid length"),nt.Buffer.from(i).copy(s,n.length+c*64))}),t.copy(s,n.length+e.length*64),It(s.length<=un,`Transaction too large: ${s.length} > ${un}`),s}get keys(){return It(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return It(this.instructions.length===1),this.instructions[0].programId}get data(){return It(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t],n=Ve(e),o=[];for(let s=0;s<n;s++){let i=je(e,0,Sl);o.push(xe.default.encode(nt.Buffer.from(i)))}return r.populate(fn.from(e),o)}static populate(t,e=[]){let n=new r;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((o,s)=>{let i={signature:o==xe.default.encode(Pp)?null:xe.default.decode(o),publicKey:t.accountKeys[s]};n.signatures.push(i)}),t.instructions.forEach(o=>{let s=o.accounts.map(i=>{let c=t.accountKeys[i];return{pubkey:c,isSigner:n.signatures.some(u=>u.publicKey.toString()===c.toString())||t.isAccountSigner(i),isWritable:t.isAccountWritable(i)}});n.instructions.push(new Bt({keys:s,programId:t.accountKeys[o.programIdIndex],data:xe.default.decode(o.data)}))}),n._message=t,n._json=n.toJSON(),n}};var Mp=160,Cp=64,Op=Mp/Cp,Bl=1e3/Op,kr=new ot("SysvarC1ock11111111111111111111111111111111"),p1=new ot("SysvarEpochSchedu1e111111111111111111111111"),y1=new ot("Sysvar1nstructions1111111111111111111111111"),ja=new ot("SysvarRecentB1ockHashes11111111111111111111"),ho=new ot("SysvarRent111111111111111111111111111111111"),m1=new ot("SysvarRewards111111111111111111111111111111"),g1=new ot("SysvarS1otHashes111111111111111111111111111"),b1=new ot("SysvarS1otHistory11111111111111111111111111"),Ga=new ot("SysvarStakeHistory1111111111111111111111111"),po=class extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:o}){let s=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",i="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(t){case"send":c=`Transaction ${e} resulted in an error. 
${n}. `+s+i;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+s+i;break;default:c=`Unknown action '${(u=>u)(t)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}getLogs(t){return C(this,null,function*(){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){let s=o.meta.logMessages;this.transactionLogs=s,e(s)}else n(new Error("Log messages not found"))}).catch(n)})),yield this.transactionLogs})}};var Q=class extends Error{constructor({code:t,message:e,data:n},o){super(o!=null?`${o}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}};function rl(r,t,e,n){return C(this,null,function*(){let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=yield r.sendTransaction(t,e,o),i;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)i=(yield r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){let{nonceInstruction:c}=t.nonceInfo,u=c.keys[0].pubkey;i=(yield r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:t.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(yield r.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw s!=null?new po({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(i)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(i)})`);return s})}function an(r){return new Promise(t=>setTimeout(t,r))}function mt(r,t){let e=r.layout.span>=0?r.layout.span:vl(r,t),n=nt.Buffer.alloc(e),o=Object.assign({instruction:r.index},t);return r.layout.encode(o,n),n}var Up=v.nu64("lamportsPerSignature"),Al=v.struct([v.u32("version"),v.u32("state"),pt("authorizedPubkey"),pt("nonce"),v.struct([Up],"feeCalculator")]),nl=Al.span,sc=class r{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){let e=Al.decode(yt(t),0);return new r({authorizedPubkey:new ot(e.authorizedPubkey),nonce:new ot(e.nonce).toString(),feeCalculator:e.feeCalculator})}},Np=r=>{let t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Fp=r=>t=>{let e=(0,gl.blob)(r,t),{encode:n,decode:o}=Np(e),s=e;return s.decode=(i,c)=>{let u=o(i,c);return(0,go.toBigIntLE)(nt.Buffer.from(u))},s.encode=(i,c,u)=>{let p=(0,go.toBufferLE)(i,r);return n(p,c,u)},s},Tn=Fp(8);var He=Object.freeze({Create:{index:0,layout:v.struct([v.u32("instruction"),v.ns64("lamports"),v.ns64("space"),pt("programId")])},Assign:{index:1,layout:v.struct([v.u32("instruction"),pt("programId")])},Transfer:{index:2,layout:v.struct([v.u32("instruction"),Tn("lamports")])},CreateWithSeed:{index:3,layout:v.struct([v.u32("instruction"),pt("base"),Rn("seed"),v.ns64("lamports"),v.ns64("space"),pt("programId")])},AdvanceNonceAccount:{index:4,layout:v.struct([v.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:v.struct([v.u32("instruction"),v.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:v.struct([v.u32("instruction"),pt("authorized")])},AuthorizeNonceAccount:{index:7,layout:v.struct([v.u32("instruction"),pt("authorized")])},Allocate:{index:8,layout:v.struct([v.u32("instruction"),v.ns64("space")])},AllocateWithSeed:{index:9,layout:v.struct([v.u32("instruction"),pt("base"),Rn("seed"),v.ns64("space"),pt("programId")])},AssignWithSeed:{index:10,layout:v.struct([v.u32("instruction"),pt("base"),Rn("seed"),pt("programId")])},TransferWithSeed:{index:11,layout:v.struct([v.u32("instruction"),Tn("lamports"),Rn("seed"),pt("programId")])},UpgradeNonceAccount:{index:12,layout:v.struct([v.u32("instruction")])}}),Ce=class r{constructor(){}static createAccount(t){let e=He.Create,n=mt(e,{lamports:t.lamports,space:t.space,programId:yt(t.programId.toBuffer())});return new Bt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let e,n;if("basePubkey"in t){let o=He.TransferWithSeed;e=mt(o,{lamports:BigInt(t.lamports),seed:t.seed,programId:yt(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=He.Transfer;e=mt(o,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Bt({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){let o=He.AssignWithSeed;e=mt(o,{base:yt(t.basePubkey.toBuffer()),seed:t.seed,programId:yt(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=He.Assign;e=mt(o,{programId:yt(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Bt({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=He.CreateWithSeed,n=mt(e,{base:yt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:yt(t.programId.toBuffer())}),o=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||o.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Bt({keys:o,programId:this.programId,data:n})}static createNonceAccount(t){let e=new kt;"basePubkey"in t&&"seed"in t?e.add(r.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:nl,programId:this.programId})):e.add(r.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:nl,programId:this.programId}));let n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){let e=He.InitializeNonceAccount,n=mt(e,{authorized:yt(t.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ja,isSigner:!1,isWritable:!1},{pubkey:ho,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Bt(o)}static nonceAdvance(t){let e=He.AdvanceNonceAccount,n=mt(e),o={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ja,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Bt(o)}static nonceWithdraw(t){let e=He.WithdrawNonceAccount,n=mt(e,{lamports:t.lamports});return new Bt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ja,isSigner:!1,isWritable:!1},{pubkey:ho,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){let e=He.AuthorizeNonceAccount,n=mt(e,{authorized:yt(t.newAuthorizedPubkey.toBuffer())});return new Bt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let e,n;if("basePubkey"in t){let o=He.AllocateWithSeed;e=mt(o,{base:yt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:yt(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=He.Allocate;e=mt(o,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Bt({keys:n,programId:this.programId,data:e})}};Ce.programId=new ot("11111111111111111111111111111111");var zp=un-300,ic=class r{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/r.chunkSize)+1+1)}static load(t,e,n,o,s){return C(this,null,function*(){{let b=yield t.getMinimumBalanceForRentExemption(s.length),I=yield t.getAccountInfo(n.publicKey,"confirmed"),E=null;if(I!==null){if(I.executable)return console.error("Program load failed, account is already executable"),!1;I.data.length!==s.length&&(E=E||new kt,E.add(Ce.allocate({accountPubkey:n.publicKey,space:s.length}))),I.owner.equals(o)||(E=E||new kt,E.add(Ce.assign({accountPubkey:n.publicKey,programId:o}))),I.lamports<b&&(E=E||new kt,E.add(Ce.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:b-I.lamports})))}else E=new kt().add(Ce.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:s.length,programId:o}));E!==null&&(yield rl(t,E,[e,n],{commitment:"confirmed"}))}let i=v.struct([v.u32("instruction"),v.u32("offset"),v.u32("bytesLength"),v.u32("bytesLengthPadding"),v.seq(v.u8("byte"),v.offset(v.u32(),-8),"bytes")]),c=r.chunkSize,u=0,p=s,y=[];for(;p.length>0;){let b=p.slice(0,c),I=nt.Buffer.alloc(c+16);i.encode({instruction:0,offset:u,bytes:b,bytesLength:0,bytesLengthPadding:0},I);let E=new kt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:I});y.push(rl(t,E,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&(yield an(1e3/4)),u+=c,p=p.slice(c)}yield Promise.all(y);{let b=v.struct([v.u32("instruction")]),I=nt.Buffer.alloc(b.span);b.encode({instruction:1},I);let E=new kt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ho,isSigner:!1,isWritable:!1}],programId:o,data:I}),_="processed",A=yield t.sendTransaction(E,[e,n],{preflightCommitment:_}),{context:S,value:L}=yield t.confirmTransaction({signature:A,lastValidBlockHeight:E.lastValidBlockHeight,blockhash:E.recentBlockhash},_);if(L.err)throw new Error(`Transaction ${A} failed (${JSON.stringify(L)})`);for(;;){try{if((yield t.getSlot({commitment:_}))>S.slot)break}catch(U){}yield new Promise(U=>setTimeout(U,Math.round(Bl/2)))}}return!0})}};ic.chunkSize=zp;var w1=new ot("BPFLoader2111111111111111111111111111111111");function Dp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Za,ol;function qp(){if(ol)return Za;ol=1;var r=Object.prototype.toString,t=Object.keys||function(n){var o=[];for(var s in n)o.push(s);return o};function e(n,o){var s,i,c,u,p,y,b;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return e(n.toJSON(),o);if(b=r.call(n),b==="[object Array]"){for(c="[",i=n.length-1,s=0;s<i;s++)c+=e(n[s],!0)+",";return i>-1&&(c+=e(n[s],!0)),c+"]"}else if(b==="[object Object]"){for(u=t(n).sort(),i=u.length,c="",s=0;s<i;)p=u[s],y=e(n[p],!1),y!==void 0&&(c&&(c+=","),c+=JSON.stringify(p)+":"+y),s++;return"{"+c+"}"}else return JSON.stringify(n);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return Za=function(n){var o=e(n,!1);if(o!==void 0)return""+o},Za}var Kp=qp(),sl=Dp(Kp),uo=32;function Ya(r){let t=0;for(;r>1;)r/=2,t++;return t}function Wp(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}var ac=class{constructor(t,e,n,o,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){let e=Ya(Wp(t+uo+1))-Ya(uo)-1,n=this.getSlotsInEpoch(e),o=t-(n-uo);return[e,o]}else{let e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),o=this.firstNormalEpoch+n,s=e%this.slotsPerEpoch;return[o,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*uo:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Ya(uo)):this.slotsPerEpoch}},Hp=globalThis.fetch,cc=class extends zf{constructor(t,e,n){let o=s=>{let i=Ff(s,J({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},e));return"socket"in i?this.underlyingSocket=i.socket:this.underlyingSocket=i,i};super(o,t,e,n),this.underlyingSocket=void 0}call(...t){var n;let e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var n;let e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}};function Vp(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}var il=56,Ks=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){let t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){let e=Vp($p,t),n=t.length-il;It(n>=0,"lookup table is invalid"),It(n%32===0,"lookup table is invalid");let o=n/32,{addresses:s}=v.struct([v.seq(pt(),o,"addresses")]).decode(t.slice(il));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new ot(e.authority[0]):void 0,addresses:s.map(i=>new ot(i))}}},$p={index:1,layout:v.struct([v.u32("typeIndex"),Tn("deactivationSlot"),v.nu64("lastExtendedSlot"),v.u8("lastExtendedStartIndex"),v.u8(),v.seq(pt(),v.offset(v.u8(),-1),"authority")])},jp=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Gp(r){let t=r.match(jp);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);let[e,n,o,s]=t,i=r.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),u=c==null?"":`:${c+1}`;return`${i}//${n}${u}${s}`}var zt=_n(Bs(ot),q(),r=>new ot(r)),Il=As([q(),Tt("base64")]),gc=_n(Bs(nt.Buffer),Il,r=>nt.Buffer.from(r[0],"base64")),Zp=30*1e3;function Yp(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function At(r){let t,e;if(typeof r=="string")t=r;else if(r){let n=r,{commitment:o}=n,s=fr(n,["commitment"]);t=o,e=s}return{commitment:t,config:e}}function al(r){return r.map(t=>{var e;return"memcmp"in t?ct(J({},t),{memcmp:ct(J({},t.memcmp),{encoding:(e=t.memcmp.encoding)!=null?e:"base58"})}):t})}function _l(r){return Ee([F({jsonrpc:Tt("2.0"),id:q(),result:r}),F({jsonrpc:Tt("2.0"),id:q(),error:F({code:sn(),message:q(),data:et(ff())})})])}var Jp=_l(sn());function ht(r){return _n(_l(r),Jp,t=>"error"in t?t:ct(J({},t),{result:W(t.result,r)}))}function Vt(r){return ht(F({context:F({slot:R()}),value:r}))}function js(r){return F({context:F({slot:R()}),value:r})}function Ja(r,t){return r===0?new oc({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new ot(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:xe.default.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new fn(t)}var Xp=F({foundation:R(),foundationTerm:R(),initial:R(),taper:R(),terminal:R()}),Qp=ht($(j(F({epoch:R(),effectiveSlot:R(),amount:R(),postBalance:R(),commission:et(j(R()))})))),ty=$(F({slot:R(),prioritizationFee:R()})),ey=F({total:R(),validator:R(),foundation:R(),epoch:R()}),ry=F({epoch:R(),slotIndex:R(),slotsInEpoch:R(),absoluteSlot:R(),blockHeight:et(R()),transactionCount:et(R())}),ny=F({slotsPerEpoch:R(),leaderScheduleSlotOffset:R(),warmup:Xe(),firstNormalEpoch:R(),firstNormalSlot:R()}),oy=Ta(q(),$(R())),ln=j(Ee([F({}),q()])),sy=F({err:ln}),iy=Tt("receivedSignature"),ay=F({"solana-core":q(),"feature-set":et(R())}),cy=F({program:q(),programId:zt,parsed:sn()}),uy=F({programId:zt,accounts:$(zt),data:q()}),cl=Vt(F({err:j(Ee([F({}),q()])),logs:j($(q())),accounts:et(j($(j(F({executable:Xe(),owner:q(),lamports:R(),data:$(q()),rentEpoch:et(R())}))))),unitsConsumed:et(R()),returnData:et(j(F({programId:q(),data:As([q(),Tt("base64")])}))),innerInstructions:et(j($(F({index:R(),instructions:$(Ee([cy,uy]))}))))})),fy=Vt(F({byIdentity:Ta(q(),$(R())),range:F({firstSlot:R(),lastSlot:R()})}));function ly(r,t,e,n,o,s){let i=e||Hp,c;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=(y,b)=>C(this,null,function*(){let I=yield new Promise((E,_)=>{try{n(y,b,(A,S)=>E([A,S]))}catch(A){_(A)}});return yield i(...I)})),new bl.default((y,b)=>C(this,null,function*(){let I={method:"POST",body:y,agent:c,headers:Object.assign({"Content-Type":"application/json"},t||{},lm)};try{let E=5,_,A=500;for(;u?_=yield u(r,I):_=yield i(r,I),!(_.status!==429||o===!0||(E-=1,E===0));)console.error(`Server responded with ${_.status} ${_.statusText}.  Retrying after ${A}ms delay...`),yield an(A),A*=2;let S=yield _.text();_.ok?b(null,S):b(new Error(`${_.status} ${_.statusText}: ${S}`))}catch(E){E instanceof Error&&b(E)}}),{})}function hy(r){return(t,e)=>new Promise((n,o)=>{r.request(t,e,(s,i)=>{if(s){o(s);return}n(i)})})}function dy(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);let o=t.map(s=>r.request(s.methodName,s.args));r.request(o,(s,i)=>{if(s){n(s);return}e(i)})})}var py=ht(Xp),yy=ht(ey),my=ht(ty),gy=ht(ry),by=ht(ny),wy=ht(oy),xy=ht(R()),ky=Vt(F({total:R(),circulating:R(),nonCirculating:R(),nonCirculatingAccounts:$(zt)})),uc=F({amount:q(),uiAmount:j(R()),decimals:R(),uiAmountString:et(q())}),Sy=Vt($(F({address:zt,amount:q(),uiAmount:j(R()),decimals:R(),uiAmountString:et(q())}))),vy=Vt($(F({pubkey:zt,account:F({executable:Xe(),owner:zt,lamports:R(),data:gc,rentEpoch:R()})}))),fc=F({program:q(),parsed:sn(),space:R()}),Ey=Vt($(F({pubkey:zt,account:F({executable:Xe(),owner:zt,lamports:R(),data:fc,rentEpoch:R()})}))),By=Vt($(F({lamports:R(),address:zt}))),yo=F({executable:Xe(),owner:zt,lamports:R(),data:gc,rentEpoch:R()}),Ay=F({pubkey:zt,account:yo}),Iy=_n(Ee([Bs(nt.Buffer),fc]),Ee([Il,fc]),r=>Array.isArray(r)?W(r,gc):r),lc=F({executable:Xe(),owner:zt,lamports:R(),data:Iy,rentEpoch:R()}),_y=F({pubkey:zt,account:lc}),Ry=F({state:Ee([Tt("active"),Tt("inactive"),Tt("activating"),Tt("deactivating")]),active:R(),inactive:R()}),Ly=ht($(F({signature:q(),slot:R(),err:ln,memo:j(q()),blockTime:et(j(R()))}))),Ty=ht($(F({signature:q(),slot:R(),err:ln,memo:j(q()),blockTime:et(j(R()))}))),Py=F({subscription:R(),result:js(yo)}),My=F({pubkey:zt,account:yo}),Cy=F({subscription:R(),result:js(My)}),Oy=F({parent:R(),slot:R(),root:R()}),Uy=F({subscription:R(),result:Oy}),Ny=Ee([F({type:Ee([Tt("firstShredReceived"),Tt("completed"),Tt("optimisticConfirmation"),Tt("root")]),slot:R(),timestamp:R()}),F({type:Tt("createdBank"),parent:R(),slot:R(),timestamp:R()}),F({type:Tt("frozen"),slot:R(),timestamp:R(),stats:F({numTransactionEntries:R(),numSuccessfulTransactions:R(),numFailedTransactions:R(),maxTransactionsPerEntry:R()})}),F({type:Tt("dead"),slot:R(),timestamp:R(),err:q()})]),Fy=F({subscription:R(),result:Ny}),zy=F({subscription:R(),result:js(Ee([sy,iy]))}),Dy=F({subscription:R(),result:R()}),qy=F({pubkey:q(),gossip:j(q()),tpu:j(q()),rpc:j(q()),version:j(q())}),ul=F({votePubkey:q(),nodePubkey:q(),activatedStake:R(),epochVoteAccount:Xe(),epochCredits:$(As([R(),R(),R()])),commission:R(),lastVote:R(),rootSlot:j(R())}),Ky=ht(F({current:$(ul),delinquent:$(ul)})),Wy=Ee([Tt("processed"),Tt("confirmed"),Tt("finalized")]),Hy=F({slot:R(),confirmations:j(R()),err:ln,confirmationStatus:et(Wy)}),Vy=Vt($(j(Hy))),$y=ht(R()),Rl=F({accountKey:zt,writableIndexes:$(R()),readonlyIndexes:$(R())}),bc=F({signatures:$(q()),message:F({accountKeys:$(q()),header:F({numRequiredSignatures:R(),numReadonlySignedAccounts:R(),numReadonlyUnsignedAccounts:R()}),instructions:$(F({accounts:$(R()),data:q(),programIdIndex:R()})),recentBlockhash:q(),addressTableLookups:et($(Rl))})}),Ll=F({pubkey:zt,signer:Xe(),writable:Xe(),source:et(Ee([Tt("transaction"),Tt("lookupTable")]))}),Tl=F({accountKeys:$(Ll),signatures:$(q())}),Pl=F({parsed:sn(),program:q(),programId:zt}),Ml=F({accounts:$(zt),data:q(),programId:zt}),jy=Ee([Ml,Pl]),Gy=Ee([F({parsed:sn(),program:q(),programId:q()}),F({accounts:$(q()),data:q(),programId:q()})]),Cl=_n(jy,Gy,r=>"accounts"in r?W(r,Ml):W(r,Pl)),Ol=F({signatures:$(q()),message:F({accountKeys:$(Ll),instructions:$(Cl),recentBlockhash:q(),addressTableLookups:et(j($(Rl)))})}),Ws=F({accountIndex:R(),mint:q(),owner:et(q()),programId:et(q()),uiTokenAmount:uc}),Ul=F({writable:$(zt),readonly:$(zt)}),Gs=F({err:ln,fee:R(),innerInstructions:et(j($(F({index:R(),instructions:$(F({accounts:$(R()),data:q(),programIdIndex:R()}))})))),preBalances:$(R()),postBalances:$(R()),logMessages:et(j($(q()))),preTokenBalances:et(j($(Ws))),postTokenBalances:et(j($(Ws))),loadedAddresses:et(Ul),computeUnitsConsumed:et(R())}),wc=F({err:ln,fee:R(),innerInstructions:et(j($(F({index:R(),instructions:$(Cl)})))),preBalances:$(R()),postBalances:$(R()),logMessages:et(j($(q()))),preTokenBalances:et(j($(Ws))),postTokenBalances:et(j($(Ws))),loadedAddresses:et(Ul),computeUnitsConsumed:et(R())}),Mn=Ee([Tt(0),Tt("legacy")]),hn=F({pubkey:q(),lamports:R(),postBalance:j(R()),rewardType:j(q()),commission:et(j(R()))}),Zy=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),transactions:$(F({transaction:bc,meta:j(Gs),version:et(Mn)})),rewards:et($(hn)),blockTime:j(R()),blockHeight:j(R())}))),Yy=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),rewards:et($(hn)),blockTime:j(R()),blockHeight:j(R())}))),Jy=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),transactions:$(F({transaction:Tl,meta:j(Gs),version:et(Mn)})),rewards:et($(hn)),blockTime:j(R()),blockHeight:j(R())}))),Xy=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),transactions:$(F({transaction:Ol,meta:j(wc),version:et(Mn)})),rewards:et($(hn)),blockTime:j(R()),blockHeight:j(R())}))),Qy=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),transactions:$(F({transaction:Tl,meta:j(wc),version:et(Mn)})),rewards:et($(hn)),blockTime:j(R()),blockHeight:j(R())}))),tm=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),rewards:et($(hn)),blockTime:j(R()),blockHeight:j(R())}))),em=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),transactions:$(F({transaction:bc,meta:j(Gs)})),rewards:et($(hn)),blockTime:j(R())}))),fl=ht(j(F({blockhash:q(),previousBlockhash:q(),parentSlot:R(),signatures:$(q()),blockTime:j(R())}))),Xa=ht(j(F({slot:R(),meta:j(Gs),blockTime:et(j(R())),transaction:bc,version:et(Mn)}))),Us=ht(j(F({slot:R(),transaction:Ol,meta:j(wc),blockTime:et(j(R())),version:et(Mn)}))),rm=Vt(F({blockhash:q(),lastValidBlockHeight:R()})),nm=Vt(Xe()),om=F({slot:R(),numTransactions:R(),numSlots:R(),samplePeriodSecs:R()}),sm=ht($(om)),im=Vt(j(F({feeCalculator:F({lamportsPerSignature:R()})}))),am=ht(q()),cm=ht(q()),um=F({err:ln,logs:$(q()),signature:q()}),fm=F({result:js(um),subscription:R()}),lm={"solana-client":"js/1.0.0-maintenance"},Hs=class{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let p={};return y=>C(this,null,function*(){var A;let{commitment:b,config:I}=At(y),E=this._buildArgs([],b,void 0,I),_=sl(E);return p[_]=(A=p[_])!=null?A:C(this,null,function*(){try{let S=yield this._rpcRequest("getBlockHeight",E),L=W(S,ht(R()));if("error"in L)throw new Q(L.error,"failed to get block height information");return L.result}finally{delete p[_]}}),yield p[_]})})();let n,o,s,i,c,u;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,o=e.httpHeaders,s=e.fetch,i=e.fetchMiddleware,c=e.disableRetryOnRateLimit,u=e.httpAgent),this._rpcEndpoint=Yp(t),this._rpcWsEndpoint=n||Gp(t),this._rpcClient=ly(t,o,s,i,c,u),this._rpcRequest=hy(this._rpcClient),this._rpcBatchRequest=dy(this._rpcClient),this._rpcWebSocket=new cc(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}getBalanceAndContext(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgs([t.toBase58()],n,void 0,o),i=yield this._rpcRequest("getBalance",s),c=W(i,Vt(R()));if("error"in c)throw new Q(c.error,`failed to get balance for ${t.toBase58()}`);return c.result})}getBalance(t,e){return C(this,null,function*(){return yield this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})})}getBlockTime(t){return C(this,null,function*(){let e=yield this._rpcRequest("getBlockTime",[t]),n=W(e,ht(j(R())));if("error"in n)throw new Q(n.error,`failed to get block time for slot ${t}`);return n.result})}getMinimumLedgerSlot(){return C(this,null,function*(){let t=yield this._rpcRequest("minimumLedgerSlot",[]),e=W(t,ht(R()));if("error"in e)throw new Q(e.error,"failed to get minimum ledger slot");return e.result})}getFirstAvailableBlock(){return C(this,null,function*(){let t=yield this._rpcRequest("getFirstAvailableBlock",[]),e=W(t,xy);if("error"in e)throw new Q(e.error,"failed to get first available block");return e.result})}getSupply(t){return C(this,null,function*(){let e={};typeof t=="string"?e={commitment:t}:t?e=ct(J({},t),{commitment:t&&t.commitment||this.commitment}):e={commitment:this.commitment};let n=yield this._rpcRequest("getSupply",[e]),o=W(n,ky);if("error"in o)throw new Q(o.error,"failed to get supply");return o.result})}getTokenSupply(t,e){return C(this,null,function*(){let n=this._buildArgs([t.toBase58()],e),o=yield this._rpcRequest("getTokenSupply",n),s=W(o,Vt(uc));if("error"in s)throw new Q(s.error,"failed to get token supply");return s.result})}getTokenAccountBalance(t,e){return C(this,null,function*(){let n=this._buildArgs([t.toBase58()],e),o=yield this._rpcRequest("getTokenAccountBalance",n),s=W(o,Vt(uc));if("error"in s)throw new Q(s.error,"failed to get token account balance");return s.result})}getTokenAccountsByOwner(t,e,n){return C(this,null,function*(){let{commitment:o,config:s}=At(n),i=[t.toBase58()];"mint"in e?i.push({mint:e.mint.toBase58()}):i.push({programId:e.programId.toBase58()});let c=this._buildArgs(i,o,"base64",s),u=yield this._rpcRequest("getTokenAccountsByOwner",c),p=W(u,vy);if("error"in p)throw new Q(p.error,`failed to get token accounts owned by account ${t.toBase58()}`);return p.result})}getParsedTokenAccountsByOwner(t,e,n){return C(this,null,function*(){let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});let s=this._buildArgs(o,n,"jsonParsed"),i=yield this._rpcRequest("getTokenAccountsByOwner",s),c=W(i,Ey);if("error"in c)throw new Q(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result})}getLargestAccounts(t){return C(this,null,function*(){let e=ct(J({},t),{commitment:t&&t.commitment||this.commitment}),n=e.filter||e.commitment?[e]:[],o=yield this._rpcRequest("getLargestAccounts",n),s=W(o,By);if("error"in s)throw new Q(s.error,"failed to get largest accounts");return s.result})}getTokenLargestAccounts(t,e){return C(this,null,function*(){let n=this._buildArgs([t.toBase58()],e),o=yield this._rpcRequest("getTokenLargestAccounts",n),s=W(o,Sy);if("error"in s)throw new Q(s.error,"failed to get token largest accounts");return s.result})}getAccountInfoAndContext(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgs([t.toBase58()],n,"base64",o),i=yield this._rpcRequest("getAccountInfo",s),c=W(i,Vt(j(yo)));if("error"in c)throw new Q(c.error,`failed to get info about account ${t.toBase58()}`);return c.result})}getParsedAccountInfo(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgs([t.toBase58()],n,"jsonParsed",o),i=yield this._rpcRequest("getAccountInfo",s),c=W(i,Vt(j(lc)));if("error"in c)throw new Q(c.error,`failed to get info about account ${t.toBase58()}`);return c.result})}getAccountInfo(t,e){return C(this,null,function*(){try{return(yield this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}})}getMultipleParsedAccounts(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=t.map(p=>p.toBase58()),i=this._buildArgs([s],n,"jsonParsed",o),c=yield this._rpcRequest("getMultipleAccounts",i),u=W(c,Vt($(j(lc))));if("error"in u)throw new Q(u.error,`failed to get info for accounts ${s}`);return u.result})}getMultipleAccountsInfoAndContext(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=t.map(p=>p.toBase58()),i=this._buildArgs([s],n,"base64",o),c=yield this._rpcRequest("getMultipleAccounts",i),u=W(c,Vt($(j(yo))));if("error"in u)throw new Q(u.error,`failed to get info for accounts ${s}`);return u.result})}getMultipleAccountsInfo(t,e){return C(this,null,function*(){return(yield this.getMultipleAccountsInfoAndContext(t,e)).value})}getStakeActivation(t,e,n){return C(this,null,function*(){let{commitment:o,config:s}=At(e),i=this._buildArgs([t.toBase58()],o,void 0,ct(J({},s),{epoch:n!=null?n:s==null?void 0:s.epoch})),c=yield this._rpcRequest("getStakeActivation",i),u=W(c,ht(Ry));if("error"in u)throw new Q(u.error,`failed to get Stake Activation ${t.toBase58()}`);return u.result})}getProgramAccounts(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),b=o||{},{encoding:s}=b,i=fr(b,["encoding"]),c=this._buildArgs([t.toBase58()],n,s||"base64",J(J({},i),i.filters?{filters:al(i.filters)}:null)),u=yield this._rpcRequest("getProgramAccounts",c),p=$(Ay),y=i.withContext===!0?W(u,Vt(p)):W(u,ht(p));if("error"in y)throw new Q(y.error,`failed to get accounts owned by program ${t.toBase58()}`);return y.result})}getParsedProgramAccounts(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgs([t.toBase58()],n,"jsonParsed",o),i=yield this._rpcRequest("getProgramAccounts",s),c=W(i,ht($(_y)));if("error"in c)throw new Q(c.error,`failed to get accounts owned by program ${t.toBase58()}`);return c.result})}confirmTransaction(t,e){return C(this,null,function*(){var s;let n;if(typeof t=="string")n=t;else{let i=t;if((s=i.abortSignal)!=null&&s.aborted)return Promise.reject(i.abortSignal.reason);n=i.signature}let o;try{o=xe.default.decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return It(o.length===64,"signature has invalid length"),typeof t=="string"?yield this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?yield this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):yield this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,o,s=!1,i=new Promise((u,p)=>{try{n=this.onSignature(e,(b,I)=>{n=void 0;let E={context:I,value:b};u({__type:qr.PROCESSED,response:E})},t);let y=new Promise(b=>{n==null?b():o=this._onSubscriptionStateChange(n,I=>{I==="subscribed"&&b()})});C(this,null,function*(){if(yield y,s)return;let b=yield this.getSignatureStatus(e);if(s||b==null)return;let{context:I,value:E}=b;if(E!=null)if(E!=null&&E.err)p(E.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(E.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(E.confirmationStatus==="processed"||E.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:qr.PROCESSED,response:{context:I,value:E}})}})}catch(y){p(y)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:i}}confirmTransactionUsingBlockHeightExceedanceStrategy(s){return C(this,arguments,function*({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:o}}){let i=!1,c=new Promise(I=>{let E=()=>C(this,null,function*(){try{return yield this.getBlockHeight(t)}catch(_){return-1}});C(this,null,function*(){let _=yield E();if(!i){for(;_<=n;)if(yield an(1e3),i||(_=yield E(),i))return;I({__type:qr.BLOCKHEIGHT_EXCEEDED})}})}),{abortConfirmation:u,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),y=this.getCancellationPromise(e),b;try{let I=yield Promise.race([y,p,c]);if(I.__type===qr.PROCESSED)b=I.response;else throw new zs(o)}finally{i=!0,u()}return b})}confirmTransactionUsingDurableNonceStrategy(c){return C(this,arguments,function*({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:o,nonceValue:s,signature:i}}){var _;let u=!1,p=new Promise(A=>{let S=s,L=null,U=()=>C(this,null,function*(){try{let{context:M,value:z}=yield this.getNonceAndContext(o,{commitment:t,minContextSlot:n});return L=M.slot,z==null?void 0:z.nonce}catch(M){return S}});C(this,null,function*(){if(S=yield U(),!u)for(;;){if(s!==S){A({__type:qr.NONCE_INVALID,slotInWhichNonceDidAdvance:L});return}if(yield an(2e3),u||(S=yield U(),u))return}})}),{abortConfirmation:y,confirmationPromise:b}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),I=this.getCancellationPromise(e),E;try{let A=yield Promise.race([I,b,p]);if(A.__type===qr.PROCESSED)E=A.response;else{let S;for(;;){let L=yield this.getSignatureStatus(i);if(L==null)break;if(L.context.slot<((_=A.slotInWhichNonceDidAdvance)!=null?_:n)){yield an(400);continue}S=L;break}if(S!=null&&S.value){let L=t||"finalized",{confirmationStatus:U}=S.value;switch(L){case"processed":case"recent":if(U!=="processed"&&U!=="confirmed"&&U!=="finalized")throw new cn(i);break;case"confirmed":case"single":case"singleGossip":if(U!=="confirmed"&&U!=="finalized")throw new cn(i);break;case"finalized":case"max":case"root":if(U!=="finalized")throw new cn(i);break;default:}E={context:S.context,value:{err:S.value.err}}}else throw new cn(i)}}finally{u=!0,y()}return E})}confirmTransactionUsingLegacyTimeoutStrategy(n){return C(this,arguments,function*({commitment:t,signature:e}){let o,s=new Promise(p=>{let y=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{y=this._confirmTransactionInitialTimeout||3e4;break}}o=setTimeout(()=>p({__type:qr.TIMED_OUT,timeoutMs:y}),y)}),{abortConfirmation:i,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:e}),u;try{let p=yield Promise.race([c,s]);if(p.__type===qr.PROCESSED)u=p.response;else throw new Ds(e,p.timeoutMs/1e3)}finally{clearTimeout(o),i()}return u})}getClusterNodes(){return C(this,null,function*(){let t=yield this._rpcRequest("getClusterNodes",[]),e=W(t,ht($(qy)));if("error"in e)throw new Q(e.error,"failed to get cluster nodes");return e.result})}getVoteAccounts(t){return C(this,null,function*(){let e=this._buildArgs([],t),n=yield this._rpcRequest("getVoteAccounts",e),o=W(n,Ky);if("error"in o)throw new Q(o.error,"failed to get vote accounts");return o.result})}getSlot(t){return C(this,null,function*(){let{commitment:e,config:n}=At(t),o=this._buildArgs([],e,void 0,n),s=yield this._rpcRequest("getSlot",o),i=W(s,ht(R()));if("error"in i)throw new Q(i.error,"failed to get slot");return i.result})}getSlotLeader(t){return C(this,null,function*(){let{commitment:e,config:n}=At(t),o=this._buildArgs([],e,void 0,n),s=yield this._rpcRequest("getSlotLeader",o),i=W(s,ht(q()));if("error"in i)throw new Q(i.error,"failed to get slot leader");return i.result})}getSlotLeaders(t,e){return C(this,null,function*(){let n=[t,e],o=yield this._rpcRequest("getSlotLeaders",n),s=W(o,ht($(zt)));if("error"in s)throw new Q(s.error,"failed to get slot leaders");return s.result})}getSignatureStatus(t,e){return C(this,null,function*(){let{context:n,value:o}=yield this.getSignatureStatuses([t],e);It(o.length===1);let s=o[0];return{context:n,value:s}})}getSignatureStatuses(t,e){return C(this,null,function*(){let n=[t];e&&n.push(e);let o=yield this._rpcRequest("getSignatureStatuses",n),s=W(o,Vy);if("error"in s)throw new Q(s.error,"failed to get signature status");return s.result})}getTransactionCount(t){return C(this,null,function*(){let{commitment:e,config:n}=At(t),o=this._buildArgs([],e,void 0,n),s=yield this._rpcRequest("getTransactionCount",o),i=W(s,ht(R()));if("error"in i)throw new Q(i.error,"failed to get transaction count");return i.result})}getTotalSupply(t){return C(this,null,function*(){return(yield this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total})}getInflationGovernor(t){return C(this,null,function*(){let e=this._buildArgs([],t),n=yield this._rpcRequest("getInflationGovernor",e),o=W(n,py);if("error"in o)throw new Q(o.error,"failed to get inflation");return o.result})}getInflationReward(t,e,n){return C(this,null,function*(){let{commitment:o,config:s}=At(n),i=this._buildArgs([t.map(p=>p.toBase58())],o,void 0,ct(J({},s),{epoch:e!=null?e:s==null?void 0:s.epoch})),c=yield this._rpcRequest("getInflationReward",i),u=W(c,Qp);if("error"in u)throw new Q(u.error,"failed to get inflation reward");return u.result})}getInflationRate(){return C(this,null,function*(){let t=yield this._rpcRequest("getInflationRate",[]),e=W(t,yy);if("error"in e)throw new Q(e.error,"failed to get inflation rate");return e.result})}getEpochInfo(t){return C(this,null,function*(){let{commitment:e,config:n}=At(t),o=this._buildArgs([],e,void 0,n),s=yield this._rpcRequest("getEpochInfo",o),i=W(s,gy);if("error"in i)throw new Q(i.error,"failed to get epoch info");return i.result})}getEpochSchedule(){return C(this,null,function*(){let t=yield this._rpcRequest("getEpochSchedule",[]),e=W(t,by);if("error"in e)throw new Q(e.error,"failed to get epoch schedule");let n=e.result;return new ac(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)})}getLeaderSchedule(){return C(this,null,function*(){let t=yield this._rpcRequest("getLeaderSchedule",[]),e=W(t,wy);if("error"in e)throw new Q(e.error,"failed to get leader schedule");return e.result})}getMinimumBalanceForRentExemption(t,e){return C(this,null,function*(){let n=this._buildArgs([t],e),o=yield this._rpcRequest("getMinimumBalanceForRentExemption",n),s=W(o,$y);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result})}getRecentBlockhashAndContext(t){return C(this,null,function*(){let{context:e,value:{blockhash:n}}=yield this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}})}getRecentPerformanceSamples(t){return C(this,null,function*(){let e=yield this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=W(e,sm);if("error"in n)throw new Q(n.error,"failed to get recent performance samples");return n.result})}getFeeCalculatorForBlockhash(t,e){return C(this,null,function*(){let n=this._buildArgs([t],e),o=yield this._rpcRequest("getFeeCalculatorForBlockhash",n),s=W(o,im);if("error"in s)throw new Q(s.error,"failed to get fee calculator");let{context:i,value:c}=s.result;return{context:i,value:c!==null?c.feeCalculator:null}})}getFeeForMessage(t,e){return C(this,null,function*(){let n=yt(t.serialize()).toString("base64"),o=this._buildArgs([n],e),s=yield this._rpcRequest("getFeeForMessage",o),i=W(s,Vt(j(R())));if("error"in i)throw new Q(i.error,"failed to get fee for message");if(i.result===null)throw new Error("invalid blockhash");return i.result})}getRecentPrioritizationFees(t){return C(this,null,function*(){var i;let e=(i=t==null?void 0:t.lockedWritableAccounts)==null?void 0:i.map(c=>c.toBase58()),n=e!=null&&e.length?[e]:[],o=yield this._rpcRequest("getRecentPrioritizationFees",n),s=W(o,my);if("error"in s)throw new Q(s.error,"failed to get recent prioritization fees");return s.result})}getRecentBlockhash(t){return C(this,null,function*(){try{return(yield this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}})}getLatestBlockhash(t){return C(this,null,function*(){try{return(yield this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}})}getLatestBlockhashAndContext(t){return C(this,null,function*(){let{commitment:e,config:n}=At(t),o=this._buildArgs([],e,void 0,n),s=yield this._rpcRequest("getLatestBlockhash",o),i=W(s,rm);if("error"in i)throw new Q(i.error,"failed to get latest blockhash");return i.result})}isBlockhashValid(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgs([t],n,void 0,o),i=yield this._rpcRequest("isBlockhashValid",s),c=W(i,nm);if("error"in c)throw new Q(c.error,"failed to determine if the blockhash `"+t+"`is valid");return c.result})}getVersion(){return C(this,null,function*(){let t=yield this._rpcRequest("getVersion",[]),e=W(t,ht(ay));if("error"in e)throw new Q(e.error,"failed to get version");return e.result})}getGenesisHash(){return C(this,null,function*(){let t=yield this._rpcRequest("getGenesisHash",[]),e=W(t,ht(q()));if("error"in e)throw new Q(e.error,"failed to get genesis hash");return e.result})}getBlock(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgsAtLeastConfirmed([t],n,void 0,o),i=yield this._rpcRequest("getBlock",s);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{let c=W(i,Jy);if("error"in c)throw c.error;return c.result}case"none":{let c=W(i,Yy);if("error"in c)throw c.error;return c.result}default:{let c=W(i,Zy);if("error"in c)throw c.error;let{result:u}=c;return u?ct(J({},u),{transactions:u.transactions.map(({transaction:p,meta:y,version:b})=>({meta:y,transaction:ct(J({},p),{message:Ja(b,p.message)}),version:b}))}):null}}}catch(c){throw new Q(c,"failed to get confirmed block")}})}getParsedBlock(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",o),i=yield this._rpcRequest("getBlock",s);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{let c=W(i,Qy);if("error"in c)throw c.error;return c.result}case"none":{let c=W(i,tm);if("error"in c)throw c.error;return c.result}default:{let c=W(i,Xy);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Q(c,"failed to get block")}})}getBlockProduction(t){return C(this,null,function*(){let e,n;if(typeof t=="string")n=t;else if(t){let c=t,{commitment:u}=c,p=fr(c,["commitment"]);n=u,e=p}let o=this._buildArgs([],n,"base64",e),s=yield this._rpcRequest("getBlockProduction",o),i=W(s,fy);if("error"in i)throw new Q(i.error,"failed to get block production information");return i.result})}getTransaction(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgsAtLeastConfirmed([t],n,void 0,o),i=yield this._rpcRequest("getTransaction",s),c=W(i,Xa);if("error"in c)throw new Q(c.error,"failed to get transaction");let u=c.result;return u&&ct(J({},u),{transaction:ct(J({},u.transaction),{message:Ja(u.version,u.transaction.message)})})})}getParsedTransaction(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",o),i=yield this._rpcRequest("getTransaction",s),c=W(i,Us);if("error"in c)throw new Q(c.error,"failed to get transaction");return c.result})}getParsedTransactions(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",o)}));return(yield this._rpcBatchRequest(s)).map(u=>{let p=W(u,Us);if("error"in p)throw new Q(p.error,"failed to get transactions");return p.result})})}getTransactions(t,e){return C(this,null,function*(){let{commitment:n,config:o}=At(e),s=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,o)}));return(yield this._rpcBatchRequest(s)).map(u=>{let p=W(u,Xa);if("error"in p)throw new Q(p.error,"failed to get transactions");let y=p.result;return y&&ct(J({},y),{transaction:ct(J({},y.transaction),{message:Ja(y.version,y.transaction.message)})})})})}getConfirmedBlock(t,e){return C(this,null,function*(){let n=this._buildArgsAtLeastConfirmed([t],e),o=yield this._rpcRequest("getBlock",n),s=W(o,em);if("error"in s)throw new Q(s.error,"failed to get confirmed block");let i=s.result;if(!i)throw new Error("Confirmed block "+t+" not found");let c=ct(J({},i),{transactions:i.transactions.map(({transaction:u,meta:p})=>{let y=new fn(u.message);return{meta:p,transaction:ct(J({},u),{message:y})}})});return ct(J({},c),{transactions:c.transactions.map(({transaction:u,meta:p})=>({meta:p,transaction:kt.populate(u.message,u.signatures)}))})})}getBlocks(t,e,n){return C(this,null,function*(){let o=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),s=yield this._rpcRequest("getBlocks",o),i=W(s,ht($(R())));if("error"in i)throw new Q(i.error,"failed to get blocks");return i.result})}getBlockSignatures(t,e){return C(this,null,function*(){let n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=yield this._rpcRequest("getBlock",n),s=W(o,fl);if("error"in s)throw new Q(s.error,"failed to get block");let i=s.result;if(!i)throw new Error("Block "+t+" not found");return i})}getConfirmedBlockSignatures(t,e){return C(this,null,function*(){let n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=yield this._rpcRequest("getBlock",n),s=W(o,fl);if("error"in s)throw new Q(s.error,"failed to get confirmed block");let i=s.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i})}getConfirmedTransaction(t,e){return C(this,null,function*(){let n=this._buildArgsAtLeastConfirmed([t],e),o=yield this._rpcRequest("getTransaction",n),s=W(o,Xa);if("error"in s)throw new Q(s.error,"failed to get transaction");let i=s.result;if(!i)return i;let c=new fn(i.transaction.message),u=i.transaction.signatures;return ct(J({},i),{transaction:kt.populate(c,u)})})}getParsedConfirmedTransaction(t,e){return C(this,null,function*(){let n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),o=yield this._rpcRequest("getTransaction",n),s=W(o,Us);if("error"in s)throw new Q(s.error,"failed to get confirmed transaction");return s.result})}getParsedConfirmedTransactions(t,e){return C(this,null,function*(){let n=t.map(i=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([i],e,"jsonParsed")}));return(yield this._rpcBatchRequest(n)).map(i=>{let c=W(i,Us);if("error"in c)throw new Q(c.error,"failed to get confirmed transactions");return c.result})})}getConfirmedSignaturesForAddress(t,e,n){return C(this,null,function*(){let o={},s=yield this.getFirstAvailableBlock();for(;!("until"in o)&&(e--,!(e<=0||e<s));)try{let u=yield this.getConfirmedBlockSignatures(e,"finalized");u.signatures.length>0&&(o.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let i=yield this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>i));)try{let u=yield this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(o.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(yield this.getConfirmedSignaturesForAddress2(t,o)).map(u=>u.signature)})}getConfirmedSignaturesForAddress2(t,e,n){return C(this,null,function*(){let o=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),s=yield this._rpcRequest("getConfirmedSignaturesForAddress2",o),i=W(s,Ly);if("error"in i)throw new Q(i.error,"failed to get confirmed signatures for address");return i.result})}getSignaturesForAddress(t,e,n){return C(this,null,function*(){let o=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),s=yield this._rpcRequest("getSignaturesForAddress",o),i=W(s,Ty);if("error"in i)throw new Q(i.error,"failed to get signatures for address");return i.result})}getAddressLookupTable(t,e){return C(this,null,function*(){let{context:n,value:o}=yield this.getAccountInfoAndContext(t,e),s=null;return o!==null&&(s=new Ks({key:t,state:Ks.deserialize(o.data)})),{context:n,value:s}})}getNonceAndContext(t,e){return C(this,null,function*(){let{context:n,value:o}=yield this.getAccountInfoAndContext(t,e),s=null;return o!==null&&(s=sc.fromAccountData(o.data)),{context:n,value:s}})}getNonce(t,e){return C(this,null,function*(){return yield this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})})}requestAirdrop(t,e){return C(this,null,function*(){let n=yield this._rpcRequest("requestAirdrop",[t.toBase58(),e]),o=W(n,am);if("error"in o)throw new Q(o.error,`airdrop to ${t.toBase58()} failed`);return o.result})}_blockhashWithExpiryBlockHeight(t){return C(this,null,function*(){if(!t){for(;this._pollingBlockhash;)yield an(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Zp;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return yield this._pollNewBlockhash()})}_pollNewBlockhash(){return C(this,null,function*(){this._pollingBlockhash=!0;try{let t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let o=0;o<50;o++){let s=yield this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;yield an(Bl/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}})}getStakeMinimumDelegation(t){return C(this,null,function*(){let{commitment:e,config:n}=At(t),o=this._buildArgs([],e,"base64",n),s=yield this._rpcRequest("getStakeMinimumDelegation",o),i=W(s,Vt(R()));if("error"in i)throw new Q(i.error,"failed to get stake minimum delegation");return i.result})}simulateTransaction(t,e,n){return C(this,null,function*(){if("message"in t){let A=t.serialize(),S=nt.Buffer.from(A).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");let L=e||{};L.encoding="base64","commitment"in L||(L.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(L.innerInstructions=e.innerInstructions);let U=[S,L],M=yield this._rpcRequest("simulateTransaction",U),z=W(M,cl);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let o;if(t instanceof kt){let _=t;o=new kt,o.feePayer=_.feePayer,o.instructions=t.instructions,o.nonceInfo=_.nonceInfo,o.signatures=_.signatures}else o=kt.populate(t),o._message=o._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");let s=e;if(o.nonceInfo&&s)o.sign(...s);else{let _=this._disableBlockhashCaching;for(;;){let A=yield this._blockhashWithExpiryBlockHeight(_);if(o.lastValidBlockHeight=A.lastValidBlockHeight,o.recentBlockhash=A.blockhash,!s)break;if(o.sign(...s),!o.signature)throw new Error("!signature");let S=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else _=!0}}let i=o._compile(),c=i.serialize(),p=o._serialize(c).toString("base64"),y={encoding:"base64",commitment:this.commitment};if(n){let _=(Array.isArray(n)?n:i.nonProgramIds()).map(A=>A.toBase58());y.accounts={encoding:"base64",addresses:_}}s&&(y.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(y.innerInstructions=e.innerInstructions);let b=[p,y],I=yield this._rpcRequest("simulateTransaction",b),E=W(I,cl);if("error"in E){let _;if("data"in E.error&&(_=E.error.data.logs,_&&Array.isArray(_))){let A=`
    `,S=A+_.join(A);console.error(E.error.message,S)}throw new po({action:"simulate",signature:"",transactionMessage:E.error.message,logs:_})}return E.result})}sendTransaction(t,e,n){return C(this,null,function*(){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");let i=t.serialize();return yield this.sendRawTransaction(i,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");let o=e;if(t.nonceInfo)t.sign(...o);else{let i=this._disableBlockhashCaching;for(;;){let c=yield this._blockhashWithExpiryBlockHeight(i);if(t.lastValidBlockHeight=c.lastValidBlockHeight,t.recentBlockhash=c.blockhash,t.sign(...o),!t.signature)throw new Error("!signature");let u=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))i=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}let s=t.serialize();return yield this.sendRawTransaction(s,n)})}sendRawTransaction(t,e){return C(this,null,function*(){let n=yt(t).toString("base64");return yield this.sendEncodedTransaction(n,e)})}sendEncodedTransaction(t,e){return C(this,null,function*(){let n={encoding:"base64"},o=e&&e.skipPreflight,s=o===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),o&&(n.skipPreflight=o),s&&(n.preflightCommitment=s);let i=[t,n],c=yield this._rpcRequest("sendTransaction",i),u=W(c,cm);if("error"in u){let p;throw"data"in u.error&&(p=u.error.data.logs),new po({action:o?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:p})}return u.result})}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{C(this,null,function*(){try{yield this._rpcWebSocket.notify("ping")}catch(t){}})},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,ct(J({},n),{state:"pending"}))})}_setSubscription(t,e){var o;let n=(o=this._subscriptionsByHash[t])==null?void 0:o.state;if(this._subscriptionsByHash[t]=e,n!==e.state){let s=this._subscriptionStateChangeCallbacksByHash[t];s&&s.forEach(i=>{try{i(e.state)}catch(c){}})}}_onSubscriptionStateChange(t,e){var s;let n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};let o=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return o.add(e),()=>{o.delete(e),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}_updateSubscriptions(){return C(this,null,function*(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;yield Promise.all(Object.keys(this._subscriptionsByHash).map(n=>C(this,null,function*(){let o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],yield this._updateSubscriptions();return}yield C(this,null,function*(){let{args:s,method:i}=o;try{this._setSubscription(n,ct(J({},o),{state:"subscribing"}));let c=yield this._rpcWebSocket.call(i,s);this._setSubscription(n,ct(J({},o),{serverSubscriptionId:c,state:"subscribed"})),this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,yield this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:s,error:c}),!e())return;this._setSubscription(n,ct(J({},o),{state:"pending"})),yield this._updateSubscriptions()}});break;case"subscribed":o.callbacks.size===0&&(yield C(this,null,function*(){let{serverSubscriptionId:s,unsubscribeMethod:i}=o;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,ct(J({},o),{state:"unsubscribing"})),this._setSubscription(n,ct(J({},o),{state:"unsubscribing"}));try{yield this._rpcWebSocket.call(i,[s])}catch(c){if(c instanceof Error&&console.error(`${i} error:`,c.message),!e())return;this._setSubscription(n,ct(J({},o),{state:"subscribed"})),yield this._updateSubscriptions();return}}this._setSubscription(n,ct(J({},o),{state:"unsubscribed"})),yield this._updateSubscriptions()}));break}})))})}_handleServerNotification(t,e){let n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(o=>{try{o(...e)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){let{result:e,subscription:n}=W(t,Py);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){let n=this._nextClientSubscriptionId++,o=sl([t.method,e]),s=this._subscriptionsByHash[o];return s===void 0?this._subscriptionsByHash[o]=ct(J({},t),{args:e,callbacks:new Set([t.callback]),state:"pending"}):s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=()=>C(this,null,function*(){delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let i=this._subscriptionsByHash[o];It(i!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),i.callbacks.delete(t.callback),yield this._updateSubscriptions()}),this._updateSubscriptions(),n}onAccountChange(t,e,n){let{commitment:o,config:s}=At(n),i=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}removeAccountChangeListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"account change")})}_wsOnProgramAccountNotification(t){let{result:e,subscription:n}=W(t,Cy);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,o){let{commitment:s,config:i}=At(n),c=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i||(o?{filters:al(o)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}removeProgramAccountChangeListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"program account change")})}onLogs(t,e,n){let o=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}removeOnLogsListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"logs")})}_wsOnLogsNotification(t){let{result:e,subscription:n}=W(t,fm);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){let{result:e,subscription:n}=W(t,Uy);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}removeSlotChangeListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"slot change")})}_wsOnSlotUpdatesNotification(t){let{result:e,subscription:n}=W(t,Fy);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}removeSlotUpdateListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"slot update")})}_unsubscribeClientSubscription(t,e){return C(this,null,function*(){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?yield n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)})}_buildArgs(t,e,n,o){let s=e||this._commitment;if(s||n||o){let i={};n&&(i.encoding=n),s&&(i.commitment=s),o&&(i=Object.assign(i,o)),t.push(i)}return t}_buildArgsAtLeastConfirmed(t,e,n,o){let s=e||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,o)}_wsOnSignatureNotification(t){let{result:e,subscription:n}=W(t,zy);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){let o=this._buildArgs([t],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(i,c)=>{if(i.type==="status"){e(i.result,c);try{this.removeSignatureListener(s)}catch(u){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}onSignatureWithOptions(t,e,n){let u=ct(J({},n),{commitment:n&&n.commitment||this._commitment||"finalized"}),{commitment:o}=u,s=fr(u,["commitment"]),i=this._buildArgs([t],o,void 0,s),c=this._makeSubscription({callback:(p,y)=>{e(p,y);try{this.removeSignatureListener(c)}catch(b){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return c}removeSignatureListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"signature result")})}_wsOnRootNotification(t){let{result:e,subscription:n}=W(t,Dy);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}removeRootChangeListener(t){return C(this,null,function*(){yield this._unsubscribeClientSubscription(t,"root change")})}},hc=class r{constructor(t){this._keypair=void 0,this._keypair=t!=null?t:Qf()}static generate(){return new r(Qf())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");let n=t.slice(32,64);if(!e||!e.skipValidation){let o=t.slice(0,32),s=rc(o);for(let i=0;i<32;i++)if(n[i]!==s[i])throw new Error("provided secretKey is invalid")}return new r({publicKey:n,secretKey:t})}static fromSeed(t){let e=rc(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new r({publicKey:e,secretKey:n})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},fo=Object.freeze({CreateLookupTable:{index:0,layout:v.struct([v.u32("instruction"),Tn("recentSlot"),v.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:v.struct([v.u32("instruction")])},ExtendLookupTable:{index:2,layout:v.struct([v.u32("instruction"),Tn(),v.seq(pt(),v.offset(v.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:v.struct([v.u32("instruction")])},CloseLookupTable:{index:4,layout:v.struct([v.u32("instruction")])}});var dc=class{constructor(){}static createLookupTable(t){let[e,n]=ot.findProgramAddressSync([t.authority.toBuffer(),(0,go.toBufferLE)(BigInt(t.recentSlot),8)],this.programId),o=fo.CreateLookupTable,s=mt(o,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ce.programId,isSigner:!1,isWritable:!1}];return[new Bt({programId:this.programId,keys:i,data:s}),e]}static freezeLookupTable(t){let e=fo.FreezeLookupTable,n=mt(e),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Bt({programId:this.programId,keys:o,data:n})}static extendLookupTable(t){let e=fo.ExtendLookupTable,n=mt(e,{addresses:t.addresses.map(s=>s.toBytes())}),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&o.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ce.programId,isSigner:!1,isWritable:!1}),new Bt({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(t){let e=fo.DeactivateLookupTable,n=mt(e),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Bt({programId:this.programId,keys:o,data:n})}static closeLookupTable(t){let e=fo.CloseLookupTable,n=mt(e),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Bt({programId:this.programId,keys:o,data:n})}};dc.programId=new ot("AddressLookupTab1e1111111111111111111111111");var Ns=Object.freeze({RequestUnits:{index:0,layout:v.struct([v.u8("instruction"),v.u32("units"),v.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:v.struct([v.u8("instruction"),v.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:v.struct([v.u8("instruction"),v.u32("units")])},SetComputeUnitPrice:{index:3,layout:v.struct([v.u8("instruction"),Tn("microLamports")])}}),pc=class{constructor(){}static requestUnits(t){let e=Ns.RequestUnits,n=mt(e,t);return new Bt({keys:[],programId:this.programId,data:n})}static requestHeapFrame(t){let e=Ns.RequestHeapFrame,n=mt(e,t);return new Bt({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(t){let e=Ns.SetComputeUnitLimit,n=mt(e,t);return new Bt({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(t){let e=Ns.SetComputeUnitPrice,n=mt(e,{microLamports:BigInt(t.microLamports)});return new Bt({keys:[],programId:this.programId,data:n})}};pc.programId=new ot("ComputeBudget111111111111111111111111111111");var ll=64,hl=32,dl=64,pl=v.struct([v.u8("numSignatures"),v.u8("padding"),v.u16("signatureOffset"),v.u16("signatureInstructionIndex"),v.u16("publicKeyOffset"),v.u16("publicKeyInstructionIndex"),v.u16("messageDataOffset"),v.u16("messageDataSize"),v.u16("messageInstructionIndex")]),yc=class r{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:o,instructionIndex:s}=t;It(e.length===hl,`Public Key must be ${hl} bytes but received ${e.length} bytes`),It(o.length===dl,`Signature must be ${dl} bytes but received ${o.length} bytes`);let i=pl.span,c=i+e.length,u=c+o.length,p=1,y=nt.Buffer.alloc(u+n.length),b=s==null?65535:s;return pl.encode({numSignatures:p,padding:0,signatureOffset:c,signatureInstructionIndex:b,publicKeyOffset:i,publicKeyInstructionIndex:b,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:b},y),y.fill(e,i),y.fill(o,c),y.fill(n,u),new Bt({keys:[],programId:r.programId,data:y})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:o}=t;It(e.length===ll,`Private key must be ${ll} bytes but received ${e.length} bytes`);try{let s=hc.fromSecretKey(e),i=s.publicKey.toBytes(),c=wl(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:c,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};yc.programId=new ot("Ed25519SigVerify111111111111111111111111111");var hm=(r,t)=>{let e=co.sign(r,t);return[e.toCompactRawBytes(),e.recovery]};co.utils.isValidPrivateKey;var dm=co.getPublicKey,yl=32,Qa=20,ml=64,pm=11,tc=v.struct([v.u8("numSignatures"),v.u16("signatureOffset"),v.u8("signatureInstructionIndex"),v.u16("ethAddressOffset"),v.u8("ethAddressInstructionIndex"),v.u16("messageDataOffset"),v.u16("messageDataSize"),v.u8("messageInstructionIndex"),v.blob(20,"ethAddress"),v.blob(64,"signature"),v.u8("recoveryId")]),mc=class r{constructor(){}static publicKeyToEthAddress(t){It(t.length===ml,`Public key must be ${ml} bytes but received ${t.length} bytes`);try{return nt.Buffer.from(Ka(yt(t))).slice(-Qa)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:o,recoveryId:s,instructionIndex:i}=t;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(e),message:n,signature:o,recoveryId:s,instructionIndex:i})}static createInstructionWithEthAddress(t){let{ethAddress:e,message:n,signature:o,recoveryId:s,instructionIndex:i=0}=t,c;typeof e=="string"?e.startsWith("0x")?c=nt.Buffer.from(e.substr(2),"hex"):c=nt.Buffer.from(e,"hex"):c=e,It(c.length===Qa,`Address must be ${Qa} bytes but received ${c.length} bytes`);let u=1+pm,p=u,y=u+c.length,b=y+o.length+1,I=1,E=nt.Buffer.alloc(tc.span+n.length);return tc.encode({numSignatures:I,signatureOffset:y,signatureInstructionIndex:i,ethAddressOffset:p,ethAddressInstructionIndex:i,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:i,signature:yt(o),ethAddress:yt(c),recoveryId:s},E),E.fill(yt(n),tc.span),new Bt({keys:[],programId:r.programId,data:E})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:o}=t;It(e.length===yl,`Private key must be ${yl} bytes but received ${e.length} bytes`);try{let s=yt(e),i=dm(s,!1).slice(1),c=nt.Buffer.from(Ka(yt(n))),[u,p]=hm(c,s);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:u,recoveryId:p,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};mc.programId=new ot("KeccakSecp256k11111111111111111111111111111");var Nl,ym=new ot("StakeConfig11111111111111111111111111111111");var mo=class{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}};Nl=mo;mo.default=new Nl(0,0,ot.default);var Kr=Object.freeze({Initialize:{index:0,layout:v.struct([v.u32("instruction"),_p(),Rp()])},Authorize:{index:1,layout:v.struct([v.u32("instruction"),pt("newAuthorized"),v.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:v.struct([v.u32("instruction")])},Split:{index:3,layout:v.struct([v.u32("instruction"),v.ns64("lamports")])},Withdraw:{index:4,layout:v.struct([v.u32("instruction"),v.ns64("lamports")])},Deactivate:{index:5,layout:v.struct([v.u32("instruction")])},Merge:{index:7,layout:v.struct([v.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:v.struct([v.u32("instruction"),pt("newAuthorized"),v.u32("stakeAuthorizationType"),Rn("authoritySeed"),pt("authorityOwner")])}}),x1=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Vs=class{constructor(){}static initialize(t){let{stakePubkey:e,authorized:n,lockup:o}=t,s=o||mo.default,i=Kr.Initialize,c=mt(i,{authorized:{staker:yt(n.staker.toBuffer()),withdrawer:yt(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:yt(s.custodian.toBuffer())}}),u={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ho,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new Bt(u)}static createAccountWithSeed(t){let e=new kt;e.add(Ce.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=t;return e.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static createAccount(t){let e=new kt;e.add(Ce.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=t;return e.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:n,votePubkey:o}=t,s=Kr.Delegate,i=mt(s);return new kt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:Ga,isSigner:!1,isWritable:!1},{pubkey:ym,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){let{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:i}=t,c=Kr.Authorize,u=mt(c,{newAuthorized:yt(o.toBuffer()),stakeAuthorizationType:s.index}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&p.push({pubkey:i,isSigner:!0,isWritable:!1}),new kt().add({keys:p,programId:this.programId,data:u})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:n,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:i,stakeAuthorizationType:c,custodianPubkey:u}=t,p=Kr.AuthorizeWithSeed,y=mt(p,{newAuthorized:yt(i.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:yt(s.toBuffer())}),b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1}];return u&&b.push({pubkey:u,isSigner:!0,isWritable:!1}),new kt().add({keys:b,programId:this.programId,data:y})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:o,lamports:s}=t,i=Kr.Split,c=mt(i,{lamports:s});return new Bt({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(t,e){let n=new kt;return n.add(Ce.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){let{stakePubkey:n,authorizedPubkey:o,splitStakePubkey:s,basePubkey:i,seed:c,lamports:u}=t,p=new kt;return p.add(Ce.allocate({accountPubkey:s,basePubkey:i,seed:c,space:this.space,programId:this.programId})),e&&e>0&&p.add(Ce.transfer({fromPubkey:t.authorizedPubkey,toPubkey:s,lamports:e})),p.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:o,splitStakePubkey:s,lamports:u}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:o}=t,s=Kr.Merge,i=mt(s);return new kt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:Ga,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:n,toPubkey:o,lamports:s,custodianPubkey:i}=t,c=Kr.Withdraw,u=mt(c,{lamports:s}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:Ga,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&p.push({pubkey:i,isSigner:!0,isWritable:!1}),new kt().add({keys:p,programId:this.programId,data:u})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:n}=t,o=Kr.Deactivate,s=mt(o);return new kt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Vs.programId=new ot("Stake11111111111111111111111111111111111111");Vs.space=200;var lo=Object.freeze({InitializeAccount:{index:0,layout:v.struct([v.u32("instruction"),Lp()])},Authorize:{index:1,layout:v.struct([v.u32("instruction"),pt("newAuthorized"),v.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:v.struct([v.u32("instruction"),v.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:v.struct([v.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:v.struct([v.u32("instruction"),Tp()])}}),k1=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),$s=class r{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:n,voteInit:o}=t,s=lo.InitializeAccount,i=mt(s,{voteInit:{nodePubkey:yt(o.nodePubkey.toBuffer()),authorizedVoter:yt(o.authorizedVoter.toBuffer()),authorizedWithdrawer:yt(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ho,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Bt(c)}static createAccount(t){let e=new kt;return e.add(Ce.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:s}=t,i=lo.Authorize,c=mt(i,{newAuthorized:yt(o.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new kt().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:i,votePubkey:c}=t,u=lo.AuthorizeWithSeed,p=mt(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:yt(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:yt(s.toBuffer()),voteAuthorizationType:i.index}}),y=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new kt().add({keys:y,programId:this.programId,data:p})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:s}=t,i=lo.Withdraw,c=mt(i,{lamports:o}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new kt().add({keys:u,programId:this.programId,data:c})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return r.withdraw(t)}static updateValidatorIdentity(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,nodePubkey:o}=t,s=lo.UpdateValidatorIdentity,i=mt(s),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new kt().add({keys:c,programId:this.programId,data:i})}};$s.programId=new ot("Vote111111111111111111111111111111111111111");$s.space=3762;var S1=new ot("Va1idator1nfo111111111111111111111111111111"),v1=F({name:q(),website:et(q()),details:et(q()),iconUrl:et(q()),keybaseUsername:et(q())});var E1=new ot("Vote111111111111111111111111111111111111111"),B1=v.struct([pt("nodePubkey"),pt("authorizedWithdrawer"),v.u8("commission"),v.nu64(),v.seq(v.struct([v.nu64("slot"),v.u32("confirmationCount")]),v.offset(v.u32(),-8),"votes"),v.u8("rootSlotValid"),v.nu64("rootSlot"),v.nu64(),v.seq(v.struct([v.nu64("epoch"),pt("authorizedVoter")]),v.offset(v.u32(),-8),"authorizedVoters"),v.struct([v.seq(v.struct([pt("authorizedPubkey"),v.nu64("epochOfLastAuthorizedSwitch"),v.nu64("targetEpoch")]),32,"buf"),v.nu64("idx"),v.u8("isEmpty")],"priorVoters"),v.nu64(),v.seq(v.struct([v.nu64("epoch"),v.nu64("credits"),v.nu64("prevCredits")]),v.offset(v.u32(),-8),"epochCredits"),v.struct([v.nu64("slot"),v.nu64("timestamp")],"lastTimestamp")]);function bo(r,t){return function(){return r.apply(t,arguments)}}var{toString:gm}=Object.prototype,{getPrototypeOf:kc}=Object,Ys=(r=>t=>{let e=gm.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Qe=r=>(r=r.toLowerCase(),t=>Ys(t)===r),Js=r=>t=>typeof t===r,{isArray:Cn}=Array,wo=Js("undefined");function bm(r){return r!==null&&!wo(r)&&r.constructor!==null&&!wo(r.constructor)&&qe(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}var zl=Qe("ArrayBuffer");function wm(r){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&zl(r.buffer),t}var xm=Js("string"),qe=Js("function"),Dl=Js("number"),Xs=r=>r!==null&&typeof r=="object",km=r=>r===!0||r===!1,Zs=r=>{if(Ys(r)!=="object")return!1;let t=kc(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Sm=Qe("Date"),vm=Qe("File"),Em=Qe("Blob"),Bm=Qe("FileList"),Am=r=>Xs(r)&&qe(r.pipe),Im=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||qe(r.append)&&((t=Ys(r))==="formdata"||t==="object"&&qe(r.toString)&&r.toString()==="[object FormData]"))},_m=Qe("URLSearchParams"),[Rm,Lm,Tm,Pm]=["ReadableStream","Request","Response","Headers"].map(Qe),Mm=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(r,t,{allOwnKeys:e=!1}={}){if(r===null||typeof r=="undefined")return;let n,o;if(typeof r!="object"&&(r=[r]),Cn(r))for(n=0,o=r.length;n<o;n++)t.call(null,r[n],n,r);else{let s=e?Object.getOwnPropertyNames(r):Object.keys(r),i=s.length,c;for(n=0;n<i;n++)c=s[n],t.call(null,r[c],c,r)}}function ql(r,t){t=t.toLowerCase();let e=Object.keys(r),n=e.length,o;for(;n-- >0;)if(o=e[n],t===o.toLowerCase())return o;return null}var dn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Kl=r=>!wo(r)&&r!==dn;function xc(){let{caseless:r}=Kl(this)&&this||{},t={},e=(n,o)=>{let s=r&&ql(t,o)||o;Zs(t[s])&&Zs(n)?t[s]=xc(t[s],n):Zs(n)?t[s]=xc({},n):Cn(n)?t[s]=n.slice():t[s]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&xo(arguments[n],e);return t}var Cm=(r,t,e,{allOwnKeys:n}={})=>(xo(t,(o,s)=>{e&&qe(o)?r[s]=bo(o,e):r[s]=o},{allOwnKeys:n}),r),Om=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Um=(r,t,e,n)=>{r.prototype=Object.create(t.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),e&&Object.assign(r.prototype,e)},Nm=(r,t,e,n)=>{let o,s,i,c={};if(t=t||{},r==null)return t;do{for(o=Object.getOwnPropertyNames(r),s=o.length;s-- >0;)i=o[s],(!n||n(i,r,t))&&!c[i]&&(t[i]=r[i],c[i]=!0);r=e!==!1&&kc(r)}while(r&&(!e||e(r,t))&&r!==Object.prototype);return t},Fm=(r,t,e)=>{r=String(r),(e===void 0||e>r.length)&&(e=r.length),e-=t.length;let n=r.indexOf(t,e);return n!==-1&&n===e},zm=r=>{if(!r)return null;if(Cn(r))return r;let t=r.length;if(!Dl(t))return null;let e=new Array(t);for(;t-- >0;)e[t]=r[t];return e},Dm=(r=>t=>r&&t instanceof r)(typeof Uint8Array!="undefined"&&kc(Uint8Array)),qm=(r,t)=>{let n=(r&&r[Symbol.iterator]).call(r),o;for(;(o=n.next())&&!o.done;){let s=o.value;t.call(r,s[0],s[1])}},Km=(r,t)=>{let e,n=[];for(;(e=r.exec(t))!==null;)n.push(e);return n},Wm=Qe("HTMLFormElement"),Hm=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,o){return n.toUpperCase()+o}),Fl=(({hasOwnProperty:r})=>(t,e)=>r.call(t,e))(Object.prototype),Vm=Qe("RegExp"),Wl=(r,t)=>{let e=Object.getOwnPropertyDescriptors(r),n={};xo(e,(o,s)=>{let i;(i=t(o,s,r))!==!1&&(n[s]=i||o)}),Object.defineProperties(r,n)},$m=r=>{Wl(r,(t,e)=>{if(qe(r)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;let n=r[e];if(qe(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},jm=(r,t)=>{let e={},n=o=>{o.forEach(s=>{e[s]=!0})};return Cn(r)?n(r):n(String(r).split(t)),e},Gm=()=>{},Zm=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function Ym(r){return!!(r&&qe(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}var Jm=r=>{let t=new Array(10),e=(n,o)=>{if(Xs(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;let s=Cn(n)?[]:{};return xo(n,(i,c)=>{let u=e(i,o+1);!wo(u)&&(s[c]=u)}),t[o]=void 0,s}}return n};return e(r,0)},Xm=Qe("AsyncFunction"),Qm=r=>r&&(Xs(r)||qe(r))&&qe(r.then)&&qe(r.catch),Hl=((r,t)=>r?setImmediate:t?((e,n)=>(dn.addEventListener("message",({source:o,data:s})=>{o===dn&&s===e&&n.length&&n.shift()()},!1),o=>{n.push(o),dn.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",qe(dn.postMessage)),tg=typeof queueMicrotask!="undefined"?queueMicrotask.bind(dn):typeof process!="undefined"&&process.nextTick||Hl,T={isArray:Cn,isArrayBuffer:zl,isBuffer:bm,isFormData:Im,isArrayBufferView:wm,isString:xm,isNumber:Dl,isBoolean:km,isObject:Xs,isPlainObject:Zs,isReadableStream:Rm,isRequest:Lm,isResponse:Tm,isHeaders:Pm,isUndefined:wo,isDate:Sm,isFile:vm,isBlob:Em,isRegExp:Vm,isFunction:qe,isStream:Am,isURLSearchParams:_m,isTypedArray:Dm,isFileList:Bm,forEach:xo,merge:xc,extend:Cm,trim:Mm,stripBOM:Om,inherits:Um,toFlatObject:Nm,kindOf:Ys,kindOfTest:Qe,endsWith:Fm,toArray:zm,forEachEntry:qm,matchAll:Km,isHTMLForm:Wm,hasOwnProperty:Fl,hasOwnProp:Fl,reduceDescriptors:Wl,freezeMethods:$m,toObjectSet:jm,toCamelCase:Hm,noop:Gm,toFiniteNumber:Zm,findKey:ql,global:dn,isContextDefined:Kl,isSpecCompliantForm:Ym,toJSONObject:Jm,isAsyncFn:Xm,isThenable:Qm,setImmediate:Hl,asap:tg};function On(r,t,e,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}T.inherits(On,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});var Vl=On.prototype,$l={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{$l[r]={value:r}});Object.defineProperties(On,$l);Object.defineProperty(Vl,"isAxiosError",{value:!0});On.from=(r,t,e,n,o,s)=>{let i=Object.create(Vl);return T.toFlatObject(r,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),On.call(i,r.message,t,e,n,o),i.cause=r,i.name=r.name,s&&Object.assign(i,s),i};var st=On;var Qs=null;function Sc(r){return T.isPlainObject(r)||T.isArray(r)}function Gl(r){return T.endsWith(r,"[]")?r.slice(0,-2):r}function jl(r,t,e){return r?r.concat(t).map(function(o,s){return o=Gl(o),!e&&s?"["+o+"]":o}).join(e?".":""):t}function eg(r){return T.isArray(r)&&!r.some(Sc)}var rg=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function ng(r,t,e){if(!T.isObject(r))throw new TypeError("target must be an object");t=t||new(Qs||FormData),e=T.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,S){return!T.isUndefined(S[A])});let n=e.metaTokens,o=e.visitor||y,s=e.dots,i=e.indexes,u=(e.Blob||typeof Blob!="undefined"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(o))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(T.isDate(_))return _.toISOString();if(!u&&T.isBlob(_))throw new st("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(_)||T.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function y(_,A,S){let L=_;if(_&&!S&&typeof _=="object"){if(T.endsWith(A,"{}"))A=n?A:A.slice(0,-2),_=JSON.stringify(_);else if(T.isArray(_)&&eg(_)||(T.isFileList(_)||T.endsWith(A,"[]"))&&(L=T.toArray(_)))return A=Gl(A),L.forEach(function(M,z){!(T.isUndefined(M)||M===null)&&t.append(i===!0?jl([A],z,s):i===null?A:A+"[]",p(M))}),!1}return Sc(_)?!0:(t.append(jl(S,A,s),p(_)),!1)}let b=[],I=Object.assign(rg,{defaultVisitor:y,convertValue:p,isVisitable:Sc});function E(_,A){if(!T.isUndefined(_)){if(b.indexOf(_)!==-1)throw Error("Circular reference detected in "+A.join("."));b.push(_),T.forEach(_,function(L,U){(!(T.isUndefined(L)||L===null)&&o.call(t,L,T.isString(U)?U.trim():U,A,I))===!0&&E(L,A?A.concat(U):[U])}),b.pop()}}if(!T.isObject(r))throw new TypeError("data must be an object");return E(r),t}var Hr=ng;function Zl(r){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Yl(r,t){this._pairs=[],r&&Hr(r,this,t)}var Jl=Yl.prototype;Jl.append=function(t,e){this._pairs.push([t,e])};Jl.toString=function(t){let e=t?function(n){return t.call(this,n,Zl)}:Zl;return this._pairs.map(function(o){return e(o[0])+"="+e(o[1])},"").join("&")};var ti=Yl;function og(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ko(r,t,e){if(!t)return r;let n=e&&e.encode||og;T.isFunction(e)&&(e={serialize:e});let o=e&&e.serialize,s;if(o?s=o(t,e):s=T.isURLSearchParams(t)?t.toString():new ti(t,e).toString(n),s){let i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}var vc=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}},Ec=vc;var ei={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Xl=typeof URLSearchParams!="undefined"?URLSearchParams:ti;var Ql=typeof FormData!="undefined"?FormData:null;var th=typeof Blob!="undefined"?Blob:null;var eh={isBrowser:!0,classes:{URLSearchParams:Xl,FormData:Ql,Blob:th},protocols:["http","https","file","blob","url","data"]};var Ic={};Mi(Ic,{hasBrowserEnv:()=>Ac,hasStandardBrowserEnv:()=>sg,hasStandardBrowserWebWorkerEnv:()=>ig,navigator:()=>Bc,origin:()=>ag});var Ac=typeof window!="undefined"&&typeof document!="undefined",Bc=typeof navigator=="object"&&navigator||void 0,sg=Ac&&(!Bc||["ReactNative","NativeScript","NS"].indexOf(Bc.product)<0),ig=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ag=Ac&&window.location.href||"http://localhost";var Dt=J(J({},Ic),eh);function _c(r,t){return Hr(r,new Dt.classes.URLSearchParams,Object.assign({visitor:function(e,n,o,s){return Dt.isNode&&T.isBuffer(e)?(this.append(n,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function cg(r){return T.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ug(r){let t={},e=Object.keys(r),n,o=e.length,s;for(n=0;n<o;n++)s=e[n],t[s]=r[s];return t}function fg(r){function t(e,n,o,s){let i=e[s++];if(i==="__proto__")return!0;let c=Number.isFinite(+i),u=s>=e.length;return i=!i&&T.isArray(o)?o.length:i,u?(T.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!c):((!o[i]||!T.isObject(o[i]))&&(o[i]=[]),t(e,n,o[i],s)&&T.isArray(o[i])&&(o[i]=ug(o[i])),!c)}if(T.isFormData(r)&&T.isFunction(r.entries)){let e={};return T.forEachEntry(r,(n,o)=>{t(cg(n),o,e,0)}),e}return null}var ri=fg;function lg(r,t,e){if(T.isString(r))try{return(t||JSON.parse)(r),T.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(r)}var Rc={transitional:ei,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){let n=e.getContentType()||"",o=n.indexOf("application/json")>-1,s=T.isObject(t);if(s&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return o?JSON.stringify(ri(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _c(t,this.formSerializer).toString();if((c=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){let u=this.env&&this.env.FormData;return Hr(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||o?(e.setContentType("application/json",!1),lg(t)):t}],transformResponse:[function(t){let e=this.transitional||Rc.transitional,n=e&&e.forcedJSONParsing,o=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||o)){let i=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(i)throw c.name==="SyntaxError"?st.from(c,st.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dt.classes.FormData,Blob:Dt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],r=>{Rc.headers[r]={}});var Un=Rc;var hg=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rh=r=>{let t={},e,n,o;return r&&r.split(`
`).forEach(function(i){o=i.indexOf(":"),e=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!e||t[e]&&hg[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t};var nh=Symbol("internals");function So(r){return r&&String(r).trim().toLowerCase()}function ni(r){return r===!1||r==null?r:T.isArray(r)?r.map(ni):String(r)}function dg(r){let t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=e.exec(r);)t[n[1]]=n[2];return t}var pg=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Lc(r,t,e,n,o){if(T.isFunction(n))return n.call(this,t,e);if(o&&(t=e),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function yg(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function mg(r,t){let e=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+e,{value:function(o,s,i){return this[n].call(this,t,o,s,i)},configurable:!0})})}var Nn=class{constructor(t){t&&this.set(t)}set(t,e,n){let o=this;function s(c,u,p){let y=So(u);if(!y)throw new Error("header name must be a non-empty string");let b=T.findKey(o,y);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||u]=ni(c))}let i=(c,u)=>T.forEach(c,(p,y)=>s(p,y,u));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,e);else if(T.isString(t)&&(t=t.trim())&&!pg(t))i(rh(t),e);else if(T.isHeaders(t))for(let[c,u]of t.entries())s(u,c,n);else t!=null&&s(e,t,n);return this}get(t,e){if(t=So(t),t){let n=T.findKey(this,t);if(n){let o=this[n];if(!e)return o;if(e===!0)return dg(o);if(T.isFunction(e))return e.call(this,o,n);if(T.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=So(t),t){let n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||Lc(this,this[n],n,e)))}return!1}delete(t,e){let n=this,o=!1;function s(i){if(i=So(i),i){let c=T.findKey(n,i);c&&(!e||Lc(n,n[c],c,e))&&(delete n[c],o=!0)}}return T.isArray(t)?t.forEach(s):s(t),o}clear(t){let e=Object.keys(this),n=e.length,o=!1;for(;n--;){let s=e[n];(!t||Lc(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){let e=this,n={};return T.forEach(this,(o,s)=>{let i=T.findKey(n,s);if(i){e[i]=ni(o),delete e[s];return}let c=t?yg(s):String(s).trim();c!==s&&delete e[s],e[c]=ni(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let e=Object.create(null);return T.forEach(this,(n,o)=>{n!=null&&n!==!1&&(e[o]=t&&T.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){let n=new this(t);return e.forEach(o=>n.set(o)),n}static accessor(t){let n=(this[nh]=this[nh]={accessors:{}}).accessors,o=this.prototype;function s(i){let c=So(i);n[c]||(mg(o,i),n[c]=!0)}return T.isArray(t)?t.forEach(s):s(t),this}};Nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Nn.prototype,({value:r},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(n){this[e]=n}}});T.freezeMethods(Nn);var me=Nn;function vo(r,t){let e=this||Un,n=t||e,o=me.from(n.headers),s=n.data;return T.forEach(r,function(c){s=c.call(e,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function Eo(r){return!!(r&&r.__CANCEL__)}function oh(r,t,e){st.call(this,r==null?"canceled":r,st.ERR_CANCELED,t,e),this.name="CanceledError"}T.inherits(oh,st,{__CANCEL__:!0});var cr=oh;function Bo(r,t,e){let n=e.config.validateStatus;!e.status||!n||n(e.status)?r(e):t(new st("Request failed with status code "+e.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function Tc(r){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function gg(r,t){r=r||10;let e=new Array(r),n=new Array(r),o=0,s=0,i;return t=t!==void 0?t:1e3,function(u){let p=Date.now(),y=n[s];i||(i=p),e[o]=u,n[o]=p;let b=s,I=0;for(;b!==o;)I+=e[b++],b=b%r;if(o=(o+1)%r,o===s&&(s=(s+1)%r),p-i<t)return;let E=y&&p-y;return E?Math.round(I*1e3/E):void 0}}var sh=gg;function bg(r,t){let e=0,n=1e3/t,o,s,i=(p,y=Date.now())=>{e=y,o=null,s&&(clearTimeout(s),s=null),r.apply(null,p)};return[(...p)=>{let y=Date.now(),b=y-e;b>=n?i(p,y):(o=p,s||(s=setTimeout(()=>{s=null,i(o)},n-b)))},()=>o&&i(o)]}var ih=bg;var Fn=(r,t,e=3)=>{let n=0,o=sh(50,250);return ih(s=>{let i=s.loaded,c=s.lengthComputable?s.total:void 0,u=i-n,p=o(u),y=i<=c;n=i;let b={loaded:i,total:c,progress:c?i/c:void 0,bytes:u,rate:p||void 0,estimated:p&&c&&y?(c-i)/p:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};r(b)},e)},Pc=(r,t)=>{let e=r!=null;return[n=>t[0]({lengthComputable:e,total:r,loaded:n}),t[1]]},Mc=r=>(...t)=>T.asap(()=>r(...t));var ah=Dt.hasStandardBrowserEnv?((r,t)=>e=>(e=new URL(e,Dt.origin),r.protocol===e.protocol&&r.host===e.host&&(t||r.port===e.port)))(new URL(Dt.origin),Dt.navigator&&/(msie|trident)/i.test(Dt.navigator.userAgent)):()=>!0;var ch=Dt.hasStandardBrowserEnv?{write(r,t,e,n,o,s){let i=[r+"="+encodeURIComponent(t)];T.isNumber(e)&&i.push("expires="+new Date(e).toGMTString()),T.isString(n)&&i.push("path="+n),T.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(r){let t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cc(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Oc(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function Ao(r,t,e){let n=!Cc(t);return r&&(n||e==!1)?Oc(r,t):t}var uh=r=>r instanceof me?J({},r):r;function tr(r,t){t=t||{};let e={};function n(p,y,b,I){return T.isPlainObject(p)&&T.isPlainObject(y)?T.merge.call({caseless:I},p,y):T.isPlainObject(y)?T.merge({},y):T.isArray(y)?y.slice():y}function o(p,y,b,I){if(T.isUndefined(y)){if(!T.isUndefined(p))return n(void 0,p,b,I)}else return n(p,y,b,I)}function s(p,y){if(!T.isUndefined(y))return n(void 0,y)}function i(p,y){if(T.isUndefined(y)){if(!T.isUndefined(p))return n(void 0,p)}else return n(void 0,y)}function c(p,y,b){if(b in t)return n(p,y);if(b in r)return n(void 0,p)}let u={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(p,y,b)=>o(uh(p),uh(y),b,!0)};return T.forEach(Object.keys(Object.assign({},r,t)),function(y){let b=u[y]||o,I=b(r[y],t[y],y);T.isUndefined(I)&&b!==c||(e[y]=I)}),e}var oi=r=>{let t=tr({},r),{data:e,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:c}=t;t.headers=i=me.from(i),t.url=ko(Ao(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(T.isFormData(e)){if(Dt.hasStandardBrowserEnv||Dt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){let[p,...y]=u?u.split(";").map(b=>b.trim()).filter(Boolean):[];i.setContentType([p||"multipart/form-data",...y].join("; "))}}if(Dt.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&ah(t.url))){let p=o&&s&&ch.read(s);p&&i.set(o,p)}return t};var wg=typeof XMLHttpRequest!="undefined",fh=wg&&function(r){return new Promise(function(e,n){let o=oi(r),s=o.data,i=me.from(o.headers).normalize(),{responseType:c,onUploadProgress:u,onDownloadProgress:p}=o,y,b,I,E,_;function A(){E&&E(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function L(){if(!S)return;let M=me.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),G={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:M,config:r,request:S};Bo(function(V){e(V),A()},function(V){n(V),A()},G),S=null}"onloadend"in S?S.onloadend=L:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(L)},S.onabort=function(){S&&(n(new st("Request aborted",st.ECONNABORTED,r,S)),S=null)},S.onerror=function(){n(new st("Network Error",st.ERR_NETWORK,r,S)),S=null},S.ontimeout=function(){let z=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",G=o.transitional||ei;o.timeoutErrorMessage&&(z=o.timeoutErrorMessage),n(new st(z,G.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,r,S)),S=null},s===void 0&&i.setContentType(null),"setRequestHeader"in S&&T.forEach(i.toJSON(),function(z,G){S.setRequestHeader(G,z)}),T.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),c&&c!=="json"&&(S.responseType=o.responseType),p&&([I,_]=Fn(p,!0),S.addEventListener("progress",I)),u&&S.upload&&([b,E]=Fn(u),S.upload.addEventListener("progress",b),S.upload.addEventListener("loadend",E)),(o.cancelToken||o.signal)&&(y=M=>{S&&(n(!M||M.type?new cr(null,r,S):M),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));let U=Tc(o.url);if(U&&Dt.protocols.indexOf(U)===-1){n(new st("Unsupported protocol "+U+":",st.ERR_BAD_REQUEST,r));return}S.send(s||null)})};var xg=(r,t)=>{let{length:e}=r=r?r.filter(Boolean):[];if(t||e){let n=new AbortController,o,s=function(p){if(!o){o=!0,c();let y=p instanceof Error?p:this.reason;n.abort(y instanceof st?y:new cr(y instanceof Error?y.message:y))}},i=t&&setTimeout(()=>{i=null,s(new st(`timeout ${t} of ms exceeded`,st.ETIMEDOUT))},t),c=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(s):p.removeEventListener("abort",s)}),r=null)};r.forEach(p=>p.addEventListener("abort",s));let{signal:u}=n;return u.unsubscribe=()=>T.asap(c),u}},lh=xg;var kg=function*(r,t){let e=r.byteLength;if(!t||e<t){yield r;return}let n=0,o;for(;n<e;)o=n+t,yield r.slice(n,o),n=o},Sg=function(r,t){return Ci(this,null,function*(){try{for(var e=nu(vg(r)),n,o,s;n=!(o=yield new Vr(e.next())).done;n=!1){let i=o.value;yield*Co(kg(i,t))}}catch(o){s=[o]}finally{try{n&&(o=e.return)&&(yield new Vr(o.call(e)))}finally{if(s)throw s[0]}}})},vg=function(r){return Ci(this,null,function*(){if(r[Symbol.asyncIterator]){yield*Co(r);return}let t=r.getReader();try{for(;;){let{done:e,value:n}=yield new Vr(t.read());if(e)break;yield n}}finally{yield new Vr(t.cancel())}})},Uc=(r,t,e,n)=>{let o=Sg(r,t),s=0,i,c=p=>{i||(i=!0,n&&n(p))};return new ReadableStream({pull(p){return C(this,null,function*(){try{let{done:y,value:b}=yield o.next();if(y){c(),p.close();return}let I=b.byteLength;if(e){let E=s+=I;e(E)}p.enqueue(new Uint8Array(b))}catch(y){throw c(y),y}})},cancel(p){return c(p),o.return()}},{highWaterMark:2})};var ii=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dh=ii&&typeof ReadableStream=="function",Eg=ii&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):r=>C(void 0,null,function*(){return new Uint8Array(yield new Response(r).arrayBuffer())})),ph=(r,...t)=>{try{return!!r(...t)}catch(e){return!1}},Bg=dh&&ph(()=>{let r=!1,t=new Request(Dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),hh=64*1024,Nc=dh&&ph(()=>T.isReadableStream(new Response("").body)),si={stream:Nc&&(r=>r.body)};ii&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!si[t]&&(si[t]=T.isFunction(r[t])?e=>e[t]():(e,n)=>{throw new st(`Response type '${t}' is not supported`,st.ERR_NOT_SUPPORT,n)})})})(new Response);var Ag=r=>C(void 0,null,function*(){if(r==null)return 0;if(T.isBlob(r))return r.size;if(T.isSpecCompliantForm(r))return(yield new Request(Dt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(T.isArrayBufferView(r)||T.isArrayBuffer(r))return r.byteLength;if(T.isURLSearchParams(r)&&(r=r+""),T.isString(r))return(yield Eg(r)).byteLength}),Ig=(r,t)=>C(void 0,null,function*(){let e=T.toFiniteNumber(r.getContentLength());return e==null?Ag(t):e}),yh=ii&&(r=>C(void 0,null,function*(){let{url:t,method:e,data:n,signal:o,cancelToken:s,timeout:i,onDownloadProgress:c,onUploadProgress:u,responseType:p,headers:y,withCredentials:b="same-origin",fetchOptions:I}=oi(r);p=p?(p+"").toLowerCase():"text";let E=lh([o,s&&s.toAbortSignal()],i),_,A=E&&E.unsubscribe&&(()=>{E.unsubscribe()}),S;try{if(u&&Bg&&e!=="get"&&e!=="head"&&(S=yield Ig(y,n))!==0){let G=new Request(t,{method:"POST",body:n,duplex:"half"}),H;if(T.isFormData(n)&&(H=G.headers.get("content-type"))&&y.setContentType(H),G.body){let[V,Z]=Pc(S,Fn(Mc(u)));n=Uc(G.body,hh,V,Z)}}T.isString(b)||(b=b?"include":"omit");let L="credentials"in Request.prototype;_=new Request(t,ct(J({},I),{signal:E,method:e.toUpperCase(),headers:y.normalize().toJSON(),body:n,duplex:"half",credentials:L?b:void 0}));let U=yield fetch(_),M=Nc&&(p==="stream"||p==="response");if(Nc&&(c||M&&A)){let G={};["status","statusText","headers"].forEach(Y=>{G[Y]=U[Y]});let H=T.toFiniteNumber(U.headers.get("content-length")),[V,Z]=c&&Pc(H,Fn(Mc(c),!0))||[];U=new Response(Uc(U.body,hh,V,()=>{Z&&Z(),A&&A()}),G)}p=p||"text";let z=yield si[T.findKey(si,p)||"text"](U,r);return!M&&A&&A(),yield new Promise((G,H)=>{Bo(G,H,{data:z,headers:me.from(U.headers),status:U.status,statusText:U.statusText,config:r,request:_})})}catch(L){throw A&&A(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,r,_),{cause:L.cause||L}):st.from(L,L&&L.code,r,_)}}));var Fc={http:Qs,xhr:fh,fetch:yh};T.forEach(Fc,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch(e){}Object.defineProperty(r,"adapterName",{value:t})}});var mh=r=>`- ${r}`,_g=r=>T.isFunction(r)||r===null||r===!1,ai={getAdapter:r=>{r=T.isArray(r)?r:[r];let{length:t}=r,e,n,o={};for(let s=0;s<t;s++){e=r[s];let i;if(n=e,!_g(e)&&(n=Fc[(i=String(e)).toLowerCase()],n===void 0))throw new st(`Unknown adapter '${i}'`);if(n)break;o[i||"#"+s]=n}if(!n){let s=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build")),i=t?s.length>1?`since :
`+s.map(mh).join(`
`):" "+mh(s[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Fc};function zc(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new cr(null,r)}function ci(r){return zc(r),r.headers=me.from(r.headers),r.data=vo.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ai.getAdapter(r.adapter||Un.adapter)(r).then(function(n){return zc(r),n.data=vo.call(r,r.transformResponse,n),n.headers=me.from(n.headers),n},function(n){return Eo(n)||(zc(r),n&&n.response&&(n.response.data=vo.call(r,r.transformResponse,n.response),n.response.headers=me.from(n.response.headers))),Promise.reject(n)})}var ui="1.8.4";var fi={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{fi[r]=function(n){return typeof n===r||"a"+(t<1?"n ":" ")+r}});var gh={};fi.transitional=function(t,e,n){function o(s,i){return"[Axios v"+ui+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,c)=>{if(t===!1)throw new st(o(i," has been removed"+(e?" in "+e:"")),st.ERR_DEPRECATED);return e&&!gh[i]&&(gh[i]=!0,console.warn(o(i," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,i,c):!0}};fi.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Rg(r,t,e){if(typeof r!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);let n=Object.keys(r),o=n.length;for(;o-- >0;){let s=n[o],i=t[s];if(i){let c=r[s],u=c===void 0||i(c,s,r);if(u!==!0)throw new st("option "+s+" must be "+u,st.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new st("Unknown option "+s,st.ERR_BAD_OPTION)}}var Io={assertOptions:Rg,validators:fi};var ur=Io.validators,zn=class{constructor(t){this.defaults=t,this.interceptors={request:new Ec,response:new Ec}}request(t,e){return C(this,null,function*(){try{return yield this._request(t,e)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;let s=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch(i){}}throw n}})}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=tr(this.defaults,e);let{transitional:n,paramsSerializer:o,headers:s}=e;n!==void 0&&Io.assertOptions(n,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),o!=null&&(T.isFunction(o)?e.paramsSerializer={serialize:o}:Io.assertOptions(o,{encode:ur.function,serialize:ur.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Io.assertOptions(e,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=s&&T.merge(s.common,s[e.method]);s&&T.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),e.headers=me.concat(i,s);let c=[],u=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(e)===!1||(u=u&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});let p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let y,b=0,I;if(!u){let _=[ci.bind(this),void 0];for(_.unshift.apply(_,c),_.push.apply(_,p),I=_.length,y=Promise.resolve(e);b<I;)y=y.then(_[b++],_[b++]);return y}I=c.length;let E=e;for(b=0;b<I;){let _=c[b++],A=c[b++];try{E=_(E)}catch(S){A.call(this,S);break}}try{y=ci.call(this,E)}catch(_){return Promise.reject(_)}for(b=0,I=p.length;b<I;)y=y.then(p[b++],p[b++]);return y}getUri(t){t=tr(this.defaults,t);let e=Ao(t.baseURL,t.url,t.allowAbsoluteUrls);return ko(e,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){zn.prototype[t]=function(e,n){return this.request(tr(n||{},{method:t,url:e,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function e(n){return function(s,i,c){return this.request(tr(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}zn.prototype[t]=e(),zn.prototype[t+"Form"]=e(!0)});var _o=zn;var Dc=class r{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});let n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s,i=new Promise(c=>{n.subscribe(c),s=c}).then(o);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,c){n.reason||(n.reason=new cr(s,i,c),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){let t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new r(function(o){t=o}),cancel:t}}},bh=Dc;function qc(r){return function(e){return r.apply(null,e)}}function Kc(r){return T.isObject(r)&&r.isAxiosError===!0}var Wc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wc).forEach(([r,t])=>{Wc[t]=r});var wh=Wc;function xh(r){let t=new _o(r),e=bo(_o.prototype.request,t);return T.extend(e,_o.prototype,t,{allOwnKeys:!0}),T.extend(e,t,null,{allOwnKeys:!0}),e.create=function(o){return xh(tr(r,o))},e}var pe=xh(Un);pe.Axios=_o;pe.CanceledError=cr;pe.CancelToken=bh;pe.isCancel=Eo;pe.VERSION=ui;pe.toFormData=Hr;pe.AxiosError=st;pe.Cancel=pe.CanceledError;pe.all=function(t){return Promise.all(t)};pe.spread=qc;pe.isAxiosError=Kc;pe.mergeConfig=tr;pe.AxiosHeaders=me;pe.formToJSON=r=>ri(T.isHTMLForm(r)?new FormData(r):r);pe.getAdapter=ai.getAdapter;pe.HttpStatusCode=wh;pe.default=pe;var li=pe;var{Axios:M2,AxiosError:C2,CanceledError:O2,isCancel:U2,CancelToken:N2,VERSION:F2,all:z2,Cancel:D2,isAxiosError:q2,spread:K2,toFormData:W2,AxiosHeaders:H2,HttpStatusCode:V2,formToJSON:$2,getAdapter:j2,mergeConfig:G2}=li;var kh=new Hs(`${window.location.origin}/api/check`,{commitment:"confirmed"});function Lg(r,t){return C(this,null,function*(){return(yield li.get(`https://app.meteora.ag/clmm-api/wallet/${t}/${r}/earning`)).data.total_fee_usd_claimed})}function Tg(r){return C(this,null,function*(){var e,n,o;if((e=r.meta)!=null&&e.err)return;if((((o=(n=r.meta)==null?void 0:n.logMessages)==null?void 0:o.join(`
`))||"").search("InitializePosition")!=-1){let s;for(let c of r.transaction.message.instructions){let u=c;if(u.accounts!=null&&u.accounts.length==16&&u.programId.toBase58()=="LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo"){s=u;break}}return s?s.accounts[1].toBase58():void 0}})}function Pg(r){return C(this,null,function*(){let t=yield kh.getSignaturesForAddress(r),e=yield kh.getParsedTransactions(t.map(o=>o.signature),{maxSupportedTransactionVersion:0}),n=[];for(let o of e)if(o){let s=yield Tg(o);s&&n.push(s)}return[...new Set(n)]})}function Sh(r,t){return C(this,null,function*(){try{let e=new ot(r);t.textContent="\u041F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0441\u043F\u0438\u0441\u043E\u043A \u043F\u0443\u043B\u043E\u0432";let n=yield Pg(e);t.textContent=`\u0421\u0447\u0438\u0442\u0430\u0435\u043C \u043A\u043E\u043C\u0438\u0441\u0441\u0438\u0438 \u0432 ${n.length} \u043F\u0443\u043B\u0430\u0445 [0/${n.length}]`;let o=0;for(let s of n)o+=yield Lg(s,e.toBase58()),t.textContent=`\u0421\u0447\u0438\u0442\u0430\u0435\u043C \u043A\u043E\u043C\u0438\u0441\u0441\u0438\u0438 \u0432 ${n.length} \u043F\u0443\u043B\u0430\u0445 [${n.indexOf(s)+1}/${n.length}]`;t.textContent=`\u0418\u0442\u043E\u0433\u043E\u0432\u0430\u044F \u043A\u043E\u043C\u0438\u0441\u0441\u0438\u044F: ${o.toFixed(2).replace(".",",")}$`}catch(e){console.error(e),t.textContent="\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430"}})}document.addEventListener("DOMContentLoaded",function(){let r=document.getElementById("check-button"),t=document.getElementById("address-input"),e=document.getElementById("message-box");if(!r||!t||!e){console.error("\u041E\u0434\u0438\u043D \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B");return}r.addEventListener("click",function(){return C(this,null,function*(){let n=t.value.trim();if(!n){e.textContent="\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0432\u0432\u0435\u0441\u0442\u0438 \u0430\u0434\u0440\u0435\u0441";return}r.disabled=!0,yield Sh(n,e),r.disabled=!1})})});})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=script.js.map
